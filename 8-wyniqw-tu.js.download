if (self.CavalryLogger) { CavalryLogger.start_js(["lp0r7"]); }

__d("PopoverMenu.react",["cx","CSS","InlineBlock.react","Popover","PopoverMenu","React","ReactDOM","SubscriptionsHandler","joinClasses","areEqual","setImmediate"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactPopoverMenu1=null,this.$ReactPopoverMenu6=function(){if(this.$ReactPopoverMenu1){this.$ReactPopoverMenu1.release();this.$ReactPopoverMenu1=null}this.$ReactPopoverMenu7();this.$ReactPopoverMenu3.setMenu(this.$ReactPopoverMenu4(this.props.menu));this.$ReactPopoverMenu5()}.bind(this),this.$ReactPopoverMenu4=function(r){__p&&__p();var s=r.props,t=new r.type(s);this.$ReactPopoverMenu1=new(c("SubscriptionsHandler"))();if(s.onItemClick)this.$ReactPopoverMenu1.addSubscriptions(t.subscribe("itemclick",s.onItemClick));if(s.onItemFocus)this.$ReactPopoverMenu1.addSubscriptions(t.subscribe("focus",s.onItemFocus));if(s.onItemBlur)this.$ReactPopoverMenu1.addSubscriptions(t.subscribe("blur",s.onItemBlur));if(s.onChange)this.$ReactPopoverMenu1.addSubscriptions(t.subscribe("change",s.onChange));if(this.props.onShow)this.$ReactPopoverMenu1.addSubscriptions(this.$ReactPopoverMenu2.subscribe("show",this.props.onShow));if(this.props.onHide)this.$ReactPopoverMenu1.addSubscriptions(this.$ReactPopoverMenu2.subscribe("hide",this.props.onHide));return t}.bind(this),this.getMenu=function(){return this.$ReactPopoverMenu3.getMenu()}.bind(this),this.isShown=function(){return!!(this.$ReactPopoverMenu2&&this.$ReactPopoverMenu2.isShown())}.bind(this),this.showPopover=function(r){this.$ReactPopoverMenu2.showLayer();if(r){var s=this.$ReactPopoverMenu3.getMenu();s.blur();s.focusAnItem(r)}}.bind(this),this.hidePopover=function(){var r=this.$ReactPopoverMenu2;if(r&&r.isShown())r.hideLayer()}.bind(this),this.getFocusedItem=function(){var r=this.$ReactPopoverMenu3.getMenu();return r.getFocusedItem()}.bind(this),this.$ReactPopoverMenu7=function(){var r=this.getMenu();r&&r.forEachItem(function(s){var t=s.getRoot().firstElementChild;t&&c("ReactDOM").unmountComponentAtNode(t)})}.bind(this),n}l.getFirstChild=function(m){"use strict";var n=m.children;return Array.isArray(n)?n[0]:n};l.getButtonSize=function(m){"use strict";var n=l.getFirstChild(m);return n&&n.type.getButtonSize(n.props)};l.prototype.componentDidMount=function(){"use strict";var m=c("ReactDOM").findDOMNode(this.refs.root),n=m.firstChild;c("CSS").addClass(n,"_p");this.$ReactPopoverMenu2=new(c("Popover"))(m,n,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled,arrowDimensions:{offset:0,length:0},disableArrowKeyActivation:this.props.disableArrowKeyActivation,enableActivationOnEnter:this.props.enableActivationOnEnter,"data-testid":this.props["data-testid"]});this.$ReactPopoverMenu3=new(c("PopoverMenu"))(this.$ReactPopoverMenu2,n,this.$ReactPopoverMenu4(this.props.menu),this.props.behaviors);this.$ReactPopoverMenu5()};l.prototype.componentDidUpdate=function(m){"use strict";if(!c("areEqual")(m.menu,this.props.menu))c("setImmediate")(this.$ReactPopoverMenu6);if(this.props.alignh!==m.alignh)this.$ReactPopoverMenu3.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==m.disabled)if(this.props.disabled)this.$ReactPopoverMenu3.disable();else this.$ReactPopoverMenu3.enable()};l.prototype.$ReactPopoverMenu5=function(){"use strict";if(this.props.onReturnWithoutFocusedItem)this.$ReactPopoverMenu1.addSubscriptions(this.$ReactPopoverMenu3.subscribe("returnWithoutFocusedItem",this.props.onReturnWithoutFocusedItem))};l.prototype.render=function(){"use strict";__p&&__p();var m=c("React").Children.map(this.props.children,function(o,p){if(p===0)return c("React").cloneElement(o,{className:c("joinClasses")(o.props.className,"_p")});else return o}),n=Object.assign({},this.props);delete n.onShow;delete n.onHide;delete n.alignh;delete n.position;delete n.layerBehaviors;delete n.behaviors;delete n.menu;delete n.disabled;delete n.disableArrowKeyActivation;delete n.enableActivationOnEnter;return c("React").createElement(c("InlineBlock.react"),babelHelpers["extends"]({},n,{className:c("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null}),m)};l.prototype.componentWillUnmount=function(){"use strict";this.hidePopover();if(this.$ReactPopoverMenu1){this.$ReactPopoverMenu1.release();this.$ReactPopoverMenu1=null}this.$ReactPopoverMenu3&&this.$ReactPopoverMenu3.destroy()};l.propTypes={alignh:k.oneOf(["left","center","right"]),alignv:k.oneOf(["baseline","bottom","middle","top"]),position:k.oneOf(["above","below","left","right"]),layerBehaviors:k.array,menu:k.object.isRequired,disabled:k.bool,disableArrowKeyActivation:k.bool,enableActivationOnEnter:k.bool,onReturnWithoutFocusedItem:k.func};l.defaultProps={alignv:"middle"};f.exports=l}),null);
__d("Ease",[],(function a(b,c,d,e,f,g){__p&&__p();var h={makePowerOut:function i(j){var k=h.makePowerIn(j);return function(l){return 1-k(1-l)}},makePowerIn:function i(j){return function(k){var l=Math.pow(k,j);return(l*1e4|0)/1e4}},makePowerInOut:function i(j){var k=h.makePowerIn(j),l=h.makePowerOut(j);return function(m){return m<.5?.5*k(m*2):.5*l(m*2-1)+.5}},expoOut:function i(j){return 1-Math.pow(2,-10*j)},expoIn:function i(j){return 1-h.expoOut(1-j)},expoInOut:function i(j){return j<.5?.5*h.expoIn(j*2):.5*h.expoOut(j*2-1)+.5},sineOut:function i(j){return Math.sin(j*Math.PI*.5)},sineIn:function i(j){return 1-Math.cos(j*Math.PI*.5)},sineInOut:function i(j){return-.5*(Math.cos(Math.PI*j)-1)},circOut:function i(j){j--;return Math.sqrt(1-j*j)},circIn:function i(j){return 1-h.circOut(1-j)},circInOut:function i(j){return j<.5?.5*h.circIn(j*2):.5*h.circOut(j*2-1)+.5},bounceOut:function i(j){if(j<1/2.75)return 7.5625*j*j;else if(j<2/2.75)return 7.5625*(j-=1.5/2.75)*j+.75;else if(j<2.5/2.75)return 7.5625*(j-=2.25/2.75)*j+.9375;else return 7.5625*(j-=2.625/2.75)*j+.984375},bounceIn:function i(j){return 1-h.bounceOut(1-j)},bounceInOut:function i(j){return j<.5?.5*h.bounceIn(j*2):.5*h.bounceOut(j*2-1)+.5},makeBounceOut:function i(j){j=j||1;return function(k){k=(1-Math.cos(k*Math.PI*j))*(1-k)+k;return 1-Math.abs(1-k)}},makeBounceIn:function i(j){var k=h.makeBounceOut(j);return function(l){return 1-k(1-l)}},makeElasticOut:function i(j,k){j<1&&(j=1);var l=Math.PI*2;return function(m){if(m===0||m===1)return m;var n=k/l*Math.asin(1/j);return j*Math.pow(2,-10*m)*Math.sin((m-n)*l/k)+1}},makeElasticIn:function i(j,k){var l=h.makeElasticOut(j,k);return function(m){return 1-l(1-m)}},makeElasticInOut:function i(j,k){k*=1.5;var l=h.makeElasticIn(j,k),m=h.makeElasticOut(j,k);return function(n){return n<.5?.5*l(n*2):.5*m(n*2-1)+.5}},makeBackOut:function i(j){var k=h.makeBackIn(j);return function(l){return 1-k(1-l)}},makeBackIn:function i(j){return function(k){return k*k*((j+1)*k-j)}},makeBackInOut:function i(j){j*=1.525;var k=h.makeBackIn(j),l=h.makeBackOut(j);return function(m){return m<.5?.5*k(m*2):.5*l(m*2-1)+.5}}};h.elasticOut=h.makeElasticOut(1,.3);h.elasticIn=h.makeElasticIn(1,.3);h.elasticInOut=h.makeElasticInOut(1,.3);h.backOut=h.makeBackOut(1.7);h.backIn=h.makeBackIn(1.7);h.backInOut=h.makeBackInOut(1.7);f.exports=h}),null);
__d("ProfileLink.react",["Link.react","React","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=new(c("URI"))("/ajax/hovercard/user.php").setQueryData({id:this.props.uid});return c("React").createElement(c("Link.react"),babelHelpers["extends"]({},this.props,{href:"/"+this.props.uid,"data-hovercard":l}),this.props.children)};function k(){h.apply(this,arguments)}k.propTypes={uid:j.string.isRequired};f.exports=k}),null);
__d("UITinyViewportAction",["Arbiter","ArbiterMixin","BanzaiScuba","CSS","Event","getDocumentScrollElement","queryThenMutateDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=document.documentElement,i,j,k,l,m=false,n=false,o=false,p=false,q={init:function r(s){__p&&__p();var t=c("queryThenMutateDOM").bind(null,function(){l=l||c("getDocumentScrollElement")();j=h.clientWidth<l.scrollWidth-1;k=h.clientHeight<400;i=k||j},function(){__p&&__p();if(i!==m||j!==n||k!==o){c("CSS").conditionClass(h,"tinyViewport",i);c("CSS").conditionClass(h,"tinyWidth",j);c("CSS").conditionClass(h,"tinyHeight",k);c("CSS").conditionClass(h,"canHaveFixedElements",!i);q.inform("change",i);c("Arbiter").inform("tinyViewport/change",{tiny:i,tinyWidth:j,tinyHeight:k},c("Arbiter").BEHAVIOR_STATE);m=i;n=j;o=k}if(!p){var u=new(c("BanzaiScuba"))("www_tinyview_port",null,{addBrowserFields:true});u.addInteger("clientWidth",h.clientWidth);u.addInteger("clientHeight",h.clientHeight);u.addNormal("view",i?"tiny":"normal");u.post();p=true}},"TinyViewport");t();c("Arbiter").subscribe("quickling/response",t);c("Event").listen(window,"resize",t)},isTiny:function r(){return i},isTinyWidth:function r(){return j},isTinyHeight:function r(){return k}};Object.assign(q,c("ArbiterMixin"));f.exports=q}),null);
__d("VideoFrameBuffer",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k){"use strict";this.$VideoFrameBuffer2=j;this.$VideoFrameBuffer1=i;this.$VideoFrameBuffer3=k||"contain"}h.prototype.updateFrameBuffer=function(){"use strict";__p&&__p();if(this.$VideoFrameBuffer4){this.$VideoFrameBuffer1.width=this.$VideoFrameBuffer4;this.$VideoFrameBuffer4=null}if(this.$VideoFrameBuffer5){this.$VideoFrameBuffer1.height=this.$VideoFrameBuffer5;this.$VideoFrameBuffer5=null}var i=this.$VideoFrameBuffer1.clientWidth||this.$VideoFrameBuffer1.width,j=this.$VideoFrameBuffer1.clientHeight||this.$VideoFrameBuffer1.height,k=i,l=j,m=this.$VideoFrameBuffer2.videoWidth/this.$VideoFrameBuffer2.videoHeight,n=k/l;if(this.$VideoFrameBuffer3==="cover"){n*=-1;m*=-1}if(n>m)k=l*m;else if(n<m)l=k/m;var o=this.$VideoFrameBuffer1.getContext("2d");if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer2,(i-k)/2,(j-l)/2,k,l)};h.prototype.getDOMNode=function(){"use strict";return this.$VideoFrameBuffer1};h.prototype.updateDimensions=function(i,j){"use strict";this.$VideoFrameBuffer4=i;this.$VideoFrameBuffer5=j};f.exports=h}),null);
__d("EncryptedImg",["EncryptedImgUtils","URI","XHRRequest","getCrossOriginTransport"],(function a(b,c,d,e,f,g){__p&&__p();var h={insertIntoStyleBackgroundImage:function m(n,o){var p=function(o,q){if(o)o.style.backgroundImage="url('"+q+"')"}.bind(undefined,o);h.load(n,p)},insertIntoDOM:function m(n,o){var p=function(o,q){if(o)o.setAttribute("src",q)}.bind(undefined,o);h.load(n,p)},load:function m(n,o){var p=arguments.length<=2||arguments[2]===undefined?true:arguments[2],q=new(c("URI"))(n),r=c("EncryptedImgUtils").extractKey(q),s=i.bind(undefined,r,o,p);s.includeHeaders=true;new(c("XHRRequest"))(q.toString()).setTransportBuilder(c("getCrossOriginTransport")).setMethod("GET").setResponseType("arraybuffer").setResponseHandler(s).send()},dataUrlPrefix:function m(n){var o=arguments.length<=1||arguments[1]===undefined?32:arguments[1];if(!n.startsWith("data:"))return n;var p=n.indexOf(",");if(p<0||p>o)p=o;return n.slice(0,p)}};Object.assign(h,c("EncryptedImgUtils"));f.exports=h;function i(m,n,o,p,q){__p&&__p();if(!m){n(l(p,k(q)));return}var r=j(m),s=new Uint8Array(p),t=s.subarray(2,14);s=s.subarray(14,s.length);var u={name:"AES-GCM",iv:t,tagLength:128};window.crypto.subtle.importKey("raw",r,u,false,["encrypt","decrypt"]).then(function(v){return window.crypto.subtle.decrypt(u,v,s)}).then(function(v){if(o)n(l(v,k(q)));else n(v)})["catch"](function(){})}function j(m){if(typeof m=="string"){var n=new Uint8Array(Math.floor(m.length/2)),o=0;m.replace(/(..)/g,function(m){n[o++]=parseInt(m,16)});return n}return null}function k(m){var n="image/jpeg",o=m.toLowerCase().match(/content-type:\s?([\w\/]*)\s/);if(o&&o.length>1)n=o[1];return n}function l(m,n){var o=new Uint8Array(m),p="";for(var q=0,r=o.byteLength;q<r;++q)p+=String.fromCharCode(o[q]);return"data:"+n+";base64,"+window.btoa(p)}}),null);