if (self.CavalryLogger) { CavalryLogger.start_js(["+1GHU"]); }

__d("ComposerPublisherSupportedParameters",[],(function a(b,c,d,e,f,g){f.exports=["action_type_id","animated_image","attachment","backdated_date","charity_id","composer_attachment_sell_audience_target_ids","composer_attachment_sell_condition","composer_attachment_sell_currency","composer_attachment_sell_location_page_id","composer_attachment_sell_price","composer_attachment_sell_pickup_note","composer_attachment_sell_title","composer_custom_accessibility_caption","composer_entry_time","composer_has_crop","composer_has_filter","composer_session_duration","composer_session_id","composer_source_surface","composer_unpublished_photo","composer_sticker","composer_text_overlay","composer_type","composertags_city","composertags_place","composertags_place_name","composertags_sponsors","composertags_with","direct_share_status","draft","edit_action_type_id","edit_composertags_city","edit_composertags_place","edit_composertags_place_name","edit_composertags_with","edit_multilingual_specified_lang","edit_multilingual_status_langs","edit_multilingual_statuses","edit_icon_id","edit_object_id","edit_object_str","edit_privacyx","edit_story_token","edit_xc_edit_callsite","edit_xc_entstory_context","edit_xc_sticker_id","edit_xc_story_dom_id","edit_xhpc_composerid","edit_xhpc_message","edit_xhpc_message_text","event_tag","extensible_sprouts_ranker_request","fun_fact_prompt_id","hide_object_attachment","holiday_card","icon_id","is_ad_post","is_forced_reshare_of_post","is_markdown","is_placelist_post","is_q_and_a","is_react","is_welcome_to_group_post","multilingual_specified_lang","multilingual_status_langs","multilingual_statuses","num_keystrokes","num_pastes","object_id","object_str","og_suggestion_mechanism","page_recommendation_ids","place_attachment_setting","place_list_entry_point","placelist_within_page","poll_question_data","post_to_marketplace","privacyx","qn","ref","sponsor_relationship","scheduled","scheduled_publish_time","share_dialog_actorId","share_dialog_audienceType","share_dialog_composerSessionID","share_dialog_message","share_dialog_privacy","story_list_attachment_data","target_type","text_format_preset_id","unpublished_content_type","xc_link_url","xc_sticker_id","xc_share_images","xc_share_params","xc_share_summary","xc_share_target_type","xc_share_title","xhpc_aggregated_story_composer","xhpc_composerid","xhpc_context","xhpc_finch","xhpc_fundraiser_page","xhpc_message","xhpc_message_text","xhpc_publish_type","xhpc_targetid","xhpc_timeline","xy_tags"]}),null);
__d("CampfireCommands",[],(function a(b,c,d,e,f,g){var h=Object.freeze({TOGGLE_LINK:"TOGGLE_LINK",SAVE_DRAFT:"SAVE_DRAFT"});f.exports=h}),null);
__d("getCampfireKeyBinding",["CampfireCommands","KeyBindingUtil","getDefaultKeyBinding"],(function a(b,c,d,e,f,g){"use strict";var h=c("KeyBindingUtil").hasCommandModifier;function i(j){if(j.keyCode===75&&h(j))return c("CampfireCommands").TOGGLE_LINK;if(j.keyCode===83&&h(j))return c("CampfireCommands").SAVE_DRAFT;return c("getDefaultKeyBinding")(j)}f.exports=i}),null);
__d("MentionsUtils",["createEditorStateWithEntities","getMentionsInputDecorator"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,i={parseMessageMentions:function j(k){__p&&__p();var l=k,m=Array.from(l),n=m.map(function(r){return r.length>1?"_":r}).join(""),o=[],p=void 0;while(p=h.exec(n)){var q={uid:p[1],text:p[2],offset:p.index,length:p[2].length,weakreference:false,entity:{uid:p[1],weakreference:false}};o.push(q);n=n.substr(0,q.offset)+q.text+n.substr(q.offset+p[0].length);l=m.slice(0,q.offset).join("")+q.text+m.slice(q.offset+p[0].length).join("");m=Array.from(l);h.lastIndex=q.offset+q.length}return{ranges:o,text:l}},createMessageEditorStateWithText:function j(k){var l=i.parseMessageMentions(k),m=l.ranges,n=l.text;return c("createEditorStateWithEntities")({text:n,ranges:m,decorator:c("getMentionsInputDecorator")(),addEntityToContentStateFn:function o(p,q){return q.createEntity("MENTION","IMMUTABLE",{id:p.uid,isWeak:p.weakreference})}})}};f.exports=i}),null);
__d("EmojiInputDecorator",["EmojiRenderer","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=".",j="emoji";function k(l,m,n){this.$EmojiInputDecorator1=l;this.$EmojiInputDecorator2=m;this.$EmojiInputDecorator3=n}k.prototype.getDecorations=function(l,m){__p&&__p();var n=this.$EmojiInputDecorator2?this.$EmojiInputDecorator2.getDecorations(l,m).toArray():Array(l.getText().length).fill(null),o=0;c("EmojiRenderer").parse(l.getText()).forEach(function(p){__p&&__p();var q=p.offset,r=q+p.length,s=true;for(var t=q;t<r;t++)if(n[t]!=null){s=false;break}if(s){for(var u=q;u<r;u++)n[u]=j+i+o;o++}});return h(n)};k.prototype.getComponentForKey=function(l){if(!this.$EmojiInputDecorator2||l.split(i)[0]===j)return this.$EmojiInputDecorator1;return this.$EmojiInputDecorator2.getComponentForKey(l)};k.prototype.getPropsForKey=function(l){if(!this.$EmojiInputDecorator2||l.split(i)[0]===j)return this.$EmojiInputDecorator3;return this.$EmojiInputDecorator2.getPropsForKey(l)};f.exports=k}),null);
__d("EmojiSpan.react",["cx","DraftEntity","EmojiConfig","EmojiImageURL","FBEmojiUtils","React","SupportedFBEmoji","UnicodeUtils"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("EmojiImageURL").getFBEmojiURL;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";__p&&__p();var m=this.props,n=m.decoratedText,o=m.offsetKey,p=m.size,q=0,r=n.length,s=[];while(q<r){var t=c("UnicodeUtils").getUTF16Length(n,q);s.push(n.substr(q,t));q+=t}var u=c("FBEmojiUtils").getSupportedKey(s);if(u&&Object.prototype.hasOwnProperty.call(c("SupportedFBEmoji"),u))return c("React").createElement("span",babelHelpers["extends"]({},this.props,{className:"_3gl1 _5zz4","data-offset-key":o,style:{backgroundImage:"url("+k(u,p)+")",backgroundSize:p+"px "+p+"px",height:p,width:p}}),c("React").createElement("span",{className:"_ncl"},n));return c("React").createElement("span",{"data-offset-key":o},n)};function l(){"use strict";i.apply(this,arguments)}f.exports=l}),null);
__d("keyCommandBackspaceEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i){__p&&__p();var j=c("removeTextWithStrategy")(i,function(l){__p&&__p();var k=l.getSelection(),m=k.getAnchorOffset(),n=l.getCurrentContent().getBlockForKey(k.getAnchorKey()).getText(),o=n[m-1],p=null;if(o){var q=c("EmojiRenderer").parse(n);for(var r=0;r<q.length;r++)if(q[r].offset<m&&q[r].offset+q[r].length>=m){p=q[r].length;break}if(!p)p=c("UnicodeUtils").getUTF16Length(o,0)}return c("moveSelectionBackward")(l,p||1)},"backward");if(j===i.getCurrentContent())return null;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"backspace-character":"remove-range")};f.exports=h}),null);
__d("keyCommandDeleteEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i){__p&&__p();var j=c("removeTextWithStrategy")(i,function(l){__p&&__p();var k=l.getSelection(),m=k.getAnchorOffset(),n=l.getCurrentContent().getBlockForKey(k.getAnchorKey()).getText(),o=n[m],p=null;if(o){var q=c("EmojiRenderer").parse(n);for(var r=0;r<q.length;r++)if(q[r].offset<=m&&q[r].offset+q[r].length>m){p=q[r].length;break}if(!p)p=c("UnicodeUtils").getUTF16Length(o,0)}return c("moveSelectionForward")(l,p||1)},"forward");if(j===i.getCurrentContent())return null;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"delete-character":"remove-range")};f.exports=h}),null);
__d("addEmojiInput",["EditorState","EmojiInputDecorator","EmojiSpan.react","React","keyCommandBackspaceEmoji","keyCommandDeleteEmoji"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function(i){__p&&__p();return function(){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$_class1=function(r,s){__p&&__p();var t=null;switch(r){case"backspace":t=c("keyCommandBackspaceEmoji")(s);break;case"delete":t=c("keyCommandDeleteEmoji")(s);break}if(t){this.props.onChange(t);return"handled"}return this.props.handleKeyCommand?this.props.handleKeyCommand(r,s):"not-handled"}.bind(this),n}l.prototype.blur=function(){"use strict";var m=this.refs.component;m&&typeof m.blur==="function"&&m.blur()};l.prototype.click=function(){"use strict";var m=this.refs.component;m&&typeof m.click==="function"&&m.click()};l.prototype.focus=function(){"use strict";var m=this.refs.component;m&&typeof m.focus==="function"&&m.focus()};l.prototype.render=function(){"use strict";var m=this.props.editorState,n=m.getDecorator();if(!(n instanceof c("EmojiInputDecorator")))m=c("EditorState").set(this.props.editorState,{decorator:new(c("EmojiInputDecorator"))(c("EmojiSpan.react"),n,{size:16})});return c("React").createElement(i,babelHelpers["extends"]({},this.props,{editorState:m,handleKeyCommand:this.$_class1,ref:"component"}))};return l}()}.bind(this);f.exports=h}),null);
__d("addEmojiToEditorState",["DraftModifier","EditorState","EmojiFormat","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2];if(typeof i!=="string")i=c("EmojiFormat").codeArrayToUnicode(i);var l=c("DraftModifier").replaceText(j.getCurrentContent(),j.getSelection(),i),m=c("EditorState").push(j,l,"insert-characters");if(m!==j)k(m);return m}f.exports=h}),null);
__d("AudienceTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OWN:"self",PERSON:"friend",PAGE:"page",GROUP:"group",EVENT:"event",FUNDRAISER:"fundraiser",MESSAGE:"message",SILENT_DISCO:"silent_disco"})}),null);
__d("ComposerEditCallsite",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FB_FEED:"fb_feed",TIMELINE:"timeline",DRAFTS_DASH:"drafts_dash",MARKETPLACE:"marketplace",PAGE_CONTENT_TAB:"page_content_tab",PERMALINK:"permalink",GROUP_MALL:"group_mall",PAGES:"pages",REP_TAGGING:"rep_tagging"})}),null);
__d("ComposerPublishType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_INSERT:1,DIALOG:2,REPLACE_COMPOSER:3,INSERT_IN_DIALOG:4,PAGE_CONTENT_TAB:5})}),null);
__d("ComposerStoryCreateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1931212663571278"};j.getQueryID=function(){"use strict";return"576284395828557"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("ComposerStoryEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1396480790477967"};j.getQueryID=function(){"use strict";return"1942851846033412"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("EditPostFeatureCapability",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_TOPICS:"FEED_TOPICS",STICKER:"STICKER",CONTAINED_MEDIA:"CONTAINED_MEDIA",CONTAINED_LINK:"CONTAINED_LINK",POST_CONTAINER:"POST_CONTAINER",PRODUCT_ITEM:"PRODUCT_ITEM",VIEWER_ALBUM_FOLLOW_STATUS:"VIEWER_ALBUM_FOLLOW_STATUS",FUNDRAISER_FOR_STORY:"FUNDRAISER_FOR_STORY"})}),null);
__d("OGComposerSuggestionMechanisms",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MOVIE_THEATER_CHECKIN:"movie_theater_checkin",AIRPORT_CHECKIN:"airport_checkin",COOL_PLACE_CHECKIN:"cool_place_checkin",TRAIN_CHECKIN:"train_checkin",CURRENT_SONG:"current_song",RECENT_ACTION:"recent_action",AUDIO_FINGERPRINT:"audio_fingerprint",WHITELISTED_SUGGESTION:"whitelisted_suggestion",UNIT_TEST:"unit_test",FEED_SPECIFIC_SUGGESTION:"feed_specific_suggestion",DETECTED_FROM_TEXT_INPUT:"detected_from_text_input",EVENT_VENUE_CHECKIN:"event_venue_checkin",SUPPORTING_CLASSIFIER:"supportingclassifier",LISTENING_LINK_CLASSIFIER:"listeninglinkclassifier",LINK_TO_OG_CLASSIFIER:"link_to_og_classifier",GK_BASED_SUGGESTION_CLASSIFIER:"gk_based_suggestion_classifier",EVENT_TO_ATTEND:"event_to_attend",GK_BASED_PRODUCTION_PROMPT_CLASSIFIER:"gk_based_production_prompt_classifier",MOVIE_THEATER_CHECKIN_SUGGESTIFIER:"movie_theater_checkin_suggestifier",AIRPORT_CHECKIN_SUGGESTIFIER:"airport_checkin_suggestifier",COOL_PLACE_CHECKIN_SUGGESTIFIER:"cool_place_checkin_suggestifier",TRAIN_CHECKIN_SUGGESTIFIER:"train_checkin_suggestifier",EVENT_VENUE_CHECKIN_SUGGESTIFIER:"event_venue_checkin_suggestifier",EVENT_TO_ATTEND_SUGGESTIFIER:"event_to_attend_suggestifier",SPA_CHECKIN:"spa_checkin",SPA_CHECKIN_SUGGESTIFIER:"spa_checkin_suggestifier",MEDICAL_CHECKIN:"medical_checkin",MEDICAL_CHECKIN_SUGGESTIFIER:"medical_checkin_suggestifier",TRANSPORTATION_CHECKIN:"transportation_checkin",TRANSPORTATION_CHECKIN_SUGGESTIFIER:"transportation_checkin_suggestifier",SWEETS_SHOP_CHECKIN:"sweets_shop_checkin",SWEETS_SHOP_CHECKIN_SUGGESTIFIER:"sweets_shop_checkin_suggestifier",FAST_FOOD_CHECKIN:"fast_food_checkin",FAST_FOOD_CHECKIN_SUGGESTIFIER:"fast_food_checkin_suggestifier",SPECIFIC_CUISINE_CHECKIN:"specific_cuisine_checkin",SPECIFIC_CUISINE_SUGGESTIFIER:"specific_cuisine_checkin_suggestifier",TOPIC_BAR_CHECKIN:"topic_bar_checkin",TOPIC_BAR_CHECKIN_SUGGESTIFIER:"topic_bar_checkin_suggestifier",RESTAURANT_CHECKIN:"restaurant_checkin",RESTAURANT_CHECKIN_SUGGESTIFIER:"restaurant_checkin_suggestifier",COFFEE_SHOP_CHECKIN:"coffee_shop_checkin",COFFEE_SHOP_SUGGESTIFIER:"coffee_shop_checkin_suggestifier",MINUTIAE_TO_PLACE_MOVIE_THEATER_CHECKIN:"minutiae_to_place_movie_theater_checkin",MINUTIAE_TO_PLACE_TRAVELING_CHECKIN:"minutiae_to_place_traveling_checkin",MINUTIAE_TO_PLACE_EVENT_TO_ATTEND:"minutiae_to_place_event_to_attend",MINUTIAE_TO_PLACE_CELEBRATING:"minutiae_to_place_celebrating",MINUTIAE_TO_PLACE_FEELING_HUNGRY:"minutiae_to_place_feeling_hungry",MINUTIAE_TO_PLACE_GAME_STADIUM_CHECKIN:"minutiae_to_place_game_stadium_checkin",MINUTIAE_TO_PLACE_CONCERT_VENUE_CHECKIN:"minutiae_to_place_concert_venue_checkin",MINUTIAE_TO_PLACE_COOL_PLACE_CHECKIN:"minutiae_to_place_cool_place_checkin",MINUTIAE_TO_PLACE_FEELING_RELAXED:"minutiae_to_place_feeling_relaxed",MINUTIAE_TO_PLACE_CELEBRATING_HOLIDAY:"minutiae_to_place_celebrating_holiday",MINUTIAE_TO_PLACE_FEELING:"minutiae_to_place_feeling",MINUTIAE_TO_PLACE_FEELING_TO_HOTEL_CHECKIN:"minutiae_to_place_feeling_hotel_checking",MINUTIAE_TO_PLACE_CELEBRATING_EXPERIMENT:"minutiae_to_place_celebrating_experiment"})}),null);
__d("PlaceRecommendationEntrypoint",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHEVRON:"chevron",COMMENT:"comment",COMPARISON_CARD:"comparison_card",INTERACTIVE_STORY_CARD:"interactive_story_card",BOOKMARK:"bookmark",GROUP_COMPOSER:"group_composer",GROUP_TAB_COMPOSER:"group_tab_composer",SPROUT:"sprout",POST_UPSELL:"post_upsell",LEARN:"learn",PAST_REX:"past_rex",PLACE_PICKER:"place_picker",REX_BUTTON:"rex_button",UPSELL_CTA:"upsell_CTA",CITY_GUIDES:"city_guides",GROUP_COMPOSER_ACTION_BUTTON:"group_composer_action_button",FOLLOW_UP_UNIT_SHARE_NOW:"follow_up_unit_share_now",FOLLOW_UP_UNIT_EDIT_POST:"follow_up_unit_edit_post",FEED_UPSELL:"feed_upsell",FEED_IMPLICIT_UPSELL:"feed_implicit_upsell",FULL_MAP:"full_map",FULL_MAP_FEED_ATTACHMENT:"full_map_feed_attachment",FULL_MAP_PERMALINK:"full_map_permalink",FULL_MAP_ANNOTATION:"full_map_annotation",FULL_MAP_HSCROLL:"full_map_hscroll",FULL_MAP_MAPVIEW:"full_map_mapview",FULL_MAP_LISTVIEW:"full_map_listview",IMPLICIT_MAP:"implicit_map",LOOKING_FOR_MINUTIAE:"looking_for_minutiae",NOTIFICATION:"notification",NUX:"nux",PLACE_SEARCH:"place_search",REJECT:"reject",SLOT:"slot",STORY:"story",UNSOLICITED:"unsolicited",XOUT:"xout"})}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AsyncRequest"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this,l);this.$ReactComposerAsyncRequest1=k;i.setHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));i.setErrorHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this));i.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest7.bind(this))}j.prototype.setHandler=function(k){"use strict";this.$ReactComposerAsyncRequest2=k;return this};j.prototype.setErrorHandler=function(k){"use strict";this.$ReactComposerAsyncRequest3=k;return this};j.prototype.setFinallyHandler=function(k){"use strict";this.$ReactComposerAsyncRequest4=k;return this};j.prototype.$ReactComposerAsyncRequest5=function(k){"use strict";__p&&__p();var l=this.$ReactComposerAsyncRequest8(k);if(l){this.$ReactComposerAsyncRequest9(k);return}setTimeout(function(){var m=k.payload&&k.payload.isPostPending;if(!m)c("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest6=function(k){"use strict";var l=this.$ReactComposerAsyncRequest8(k);if(l){this.$ReactComposerAsyncRequest9(k);return}this.$ReactComposerAsyncRequest10(k)};j.prototype.$ReactComposerAsyncRequest8=function(k){"use strict";return k.payload&&k.payload.errors&&k.payload.errors[0]};j.prototype.$ReactComposerAsyncRequest9=function(k){"use strict";var l=this.$ReactComposerAsyncRequest8(k),m=new(c("AsyncResponse"))(k.getRequest(),k);m.errorSummary=l?l.summary:null;m.errorDescription=l?l.description:null;m.silentError=l&&l.is_silent;m.transientError=l&&l.is_transient;this.$ReactComposerAsyncRequest10(m)};j.prototype.$ReactComposerAsyncRequest10=function(k){"use strict";setTimeout(function(){c("ReactComposerActions").postError(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest7=function(k){"use strict";setTimeout(function(){c("ReactComposerActions").postFinally(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest4&&this.$ReactComposerAsyncRequest4(k)}.bind(this),0)};f.exports=j}),null);
__d("ComposerPublisher",["invariant","AudienceTypes","BanzaiODS","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","EditPostFeatureCapability","ReactComposerPhotoStore","CurrentUser","PlaceRecommendationEntrypoint","ProductCondition","ReactComposerAsyncRequest","ComposerEditCallsite","ComposerStoryCreateMutationWebGraphQLMutation","ComposerStoryEditMutationWebGraphQLMutation","ComposerPublisherSupportedParameters","ComposerPublishType","gkx","PlaceAttachmentSetting","ReactComposerWebUnusedParameters","WebGraphQLLegacyHelper","MentionsUtils","XWebGraphQLMutationController","isEmpty","OGComposerSuggestionMechanisms","QuestionPollTypeJSEnum","uuid"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={publish:function j(k,l){this._publishCreateImpl(k.actorID,k.composerID,this.translateData(k.actorID,k.composerID,l),k.onPostSuccess,k.onPostFailure,null)},publishFromShareDialog:function j(k,l,m,n,o){this._publishCreateImpl(l.actorId,k,this.translateDataFromShareDialog(k,l),m,n,o)},_publishCreateImpl:function j(k,l,m,n,o,p){this._publishImpl(k,l,m,c("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),n,o,p)},_publishEditImpl:function j(k,l,m,n,o,p,q){this._publishImpl(k,l,m,c("ComposerStoryEditMutationWebGraphQLMutation").__getDocID(),o,p,null)},_publishImpl:function j(k,l,m,n,o,p,q){var r=c("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:n}),s=new(c("ReactComposerAsyncRequest"))(l,r).setHandler(o).setErrorHandler(p).setData({variables:JSON.stringify({client_mutation_id:c("uuid")(),actor_id:k,input:m})});if(q)s.setFinallyHandler(q);s.send();c("BanzaiODS").bumpEntityKey("webgraphml_publish","hit")},_getSharedCreateMutationData:function j(k,l,m,n,o,p,q){__p&&__p();var r={};if(m&&this._getIsDirectedPost(k,m))r.to_id=m;else if(c("CurrentUser").getAccountID()!==k&&n===null)r.privacy={base_state:"EVERYONE"};else r.web_privacyx=n;var s={actor_id:k,client_mutation_id:c("uuid")(),source:"WWW",audience:r};if(q)s.message=this._getTranslatedTextWithEntitiesFields(q);return this._getSharedMutationData(s,o,p)},_getSharedMutationData:function j(k,l,m){var n={};n.composer_session_id=l||c("uuid")();if(m)n.ref=m;k.logging=n;return k},_getCommonOriginalMutationData:function j(k,l){__p&&__p();var m;if(l.composertags_with)k.with_tags_ids=l.composertags_with;if(l.multilingual_specified_lang)k.specified_dialect=l.multilingual_specified_lang;if(l.multilingual_statuses&&l.multilingual_status_langs)(function(){var n=l.multilingual_status_langs;k.multilingual_translations=l.multilingual_statuses.map(function(o,p){return{message:o,dialect:n[p]}})})();return k},translateDataFromShareDialog:function j(k,l){var m=this._getSharedCreateMutationData(l.actorId,k,null,l.privacy,l.composerSessionID,null,l.message);return m},publishFromEditDialog:function j(k,l){this._publishEditImpl(k.actorID,k.composerID,this.translateDataFromEditDialog(k.actorID,k.composerID,l),c("ComposerStoryEditMutationWebGraphQLMutation").__getDocID(),k.onPostSuccess,k.onPostFailure,null)},translateDataFromEditDialog:function j(k,l,m){__p&&__p();var n=m.story_token;n||h(0);var o={actor_id:k,client_mutation_id:c("uuid")(),story_id:n};o=this._getCommonOriginalMutationData(o,m);if(m.privacyx){var p={web_privacyx:m.privacyx};o.audience=p}o.editable_post_feature_capabilities=[c("EditPostFeatureCapability").STICKER];if(m.xc_sticker_id===0)o.sticker_id=null;else if(m.xc_sticker_id)o.sticker_id=m.xc_sticker_id;if(m.composertags_city)o.implicit_place_id=String(m.composertags_city);else o.implicit_place_id=null;if(m.composertags_place)o.explicit_place_id=m.composertags_place;else if(m.composertags_place_name)o.place_name=m.composertags_place_name;else o.explicit_place_id=null;var q={};if(m.action_type_id&&m.action_type_id.length&&(m.object_id||m.object_str)){q.taggable_activity_id=m.action_type_id[0];if(m.object_id)q.object_id=m.object_id[0];if(m.object_str)q.object_text=m.object_str[0];if(m.icon_id)q.icon_id=m.icon_id;if(m.hide_object_attachment)q.object_attachment_behavior=m.hide_object_attachment?"HIDDEN":"SHOWN";if(m.og_suggestion_mechanism)for(var r in c("OGComposerSuggestionMechanisms"))if(c("OGComposerSuggestionMechanisms")[r]==m.og_suggestion_mechanism){q.suggestion_mechanism=r;break}o.inline_activities=[q]}else o.inline_activities=[];if(m.xc_edit_callsite)o.web_graphml_migration_params={edit_callsite:this._getTranslatedEnum(m.xc_edit_callsite,c("ComposerEditCallsite")),story_dom_id:m.xc_story_dom_id,composer_dom_element_id:m.xhpc_composerid,entstory_context:m.xc_entstory_context};if(m.xhpc_message)o.message=this._getTranslatedTextWithEntitiesFields(m.xhpc_message);else o.message=null;return this._getSharedMutationData(o,m.composer_session_id,null)},_getTranslatedEnum:function j(k,l){var m=null;for(var n in l)if(l[n]===k){m=n;break}m||h(0);return m},translateData:function j(k,l,m){__p&&__p();var n=this._getSharedCreateMutationData(k,l,m.xhpc_targetid,m.privacyx,m.composer_session_id,m.ref,m.xhpc_message);n=this._getCommonOriginalMutationData(n,m);if(m.xc_sticker_id)n.referenced_sticker_id=m.xc_sticker_id;if(m.is_welcome_to_group_post)n.is_welcome_to_group_post=m.is_welcome_to_group_post;if(m.composer_source_surface)n.composer_source_surface=m.composer_source_surface;if(m.composer_entry_time)n.composer_entry_time=m.composer_entry_time;var o={};if(m.composer_session_duration)o.composition_duration=m.composer_session_duration;if(m.num_keystrokes)o.number_of_keystrokes=m.num_keystrokes;if(m.num_pastes)o.number_of_copy_pastes=m.num_pastes;if("composer_session_duration"in m||"num_keystrokes"in m||"num_pastes"in m)n.composer_session_events_log=o;if(m.composer_type)n.composer_type=m.composer_type;if(m.is_q_and_a)n.is_q_and_a=m.is_q_and_a;if(m.is_markdown)n.formatting="MARKDOWN";if(m.text_format_preset_id)n.text_format_preset_id=m.text_format_preset_id;if(m.action_type_id&&m.action_type_id.length&&(m.object_id||m.object_str)){var p={};p.taggable_activity_id=m.action_type_id[0];if(m.object_id)p.object_id=m.object_id[0];if(m.object_str)p.object_text=m.object_str[0];if(m.icon_id)p.icon_id=m.icon_id;if(m.hide_object_attachment)p.object_attachment_behavior=m.hide_object_attachment?"HIDDEN":"SHOWN";if(m.og_suggestion_mechanism)for(var q in c("OGComposerSuggestionMechanisms"))if(c("OGComposerSuggestionMechanisms")[q]==m.og_suggestion_mechanism){p.suggestion_mechanism=q;break}n.inline_activities=[p]}if(m.composertags_sponsors){n.sponsor_id=m.composertags_sponsors[0];for(var r in c("BrandedContentSharedToSponsorStatus"))if(c("BrandedContentSharedToSponsorStatus")[r]==m.direct_share_status){n.direct_share_status=r;break}for(var s in c("BrandedContentSponsorRelationship"))if(c("BrandedContentSponsorRelationship")[s]==m.sponsor_relationship){n.sponsor_relationship=s;break}}var t={};if(m.target_type)t.target_type=m.target_type;if(m.xhpc_aggregated_story_composer)t.xhpc_aggregated_story_composer=m.xhpc_aggregated_story_composer;if(m.xhpc_composerid)t.xhpc_composerid=m.xhpc_composerid;if(m.xhpc_context)t.xhpc_context=m.xhpc_context;if(m.xhpc_finch)t.xhpc_finch=m.xhpc_finch;if(m.xhpc_fundraiser_page)t.xhpc_fundraiser_page=m.xhpc_fundraiser_page;if(m.xhpc_publish_type)for(var u in c("ComposerPublishType"))if(c("ComposerPublishType")[u]==m.xhpc_publish_type){t.xhpc_publish_type=u;break}if(m.xhpc_timeline)t.xhpc_timeline=m.xhpc_timeline;if(m.backdated_date&&m.backdated_date.year)t.backdated_array=m.backdated_date;if(m.qn)t.waterfall_id=m.qn;if(m.post_to_marketplace)t.xpost_to_marketplace=m.post_to_marketplace;if(m.composer_attachment_sell_audience_target_ids)t.xpost_target_ids=m.composer_attachment_sell_audience_target_ids;if(t)n.web_graphml_migration_params=t;if(m.fun_fact_prompt_id)n.fun_fact_prompt_id=m.fun_fact_prompt_id;if(m.is_learning_link_post)n.is_learning_link_post=m.is_learning_link_post;if(m.extensible_sprouts_ranker_request)n.extensible_sprouts_ranker_request=m.extensible_sprouts_ranker_request;if(m.place_attachment_setting===c("PlaceAttachmentSetting").HIDE_ATTACHMENT)n.place_attachment_setting="HIDE_ATTACHMENT";else if(m.place_attachment_setting===c("PlaceAttachmentSetting").SHOW_ATTACHMENT)n.place_attachment_setting="SHOW_ATTACHMENT";if(m.is_placelist_post){var v={};v.is_placelist_post=m.is_placelist_post;if(m.placelist_within_page)v.placelist_within_page=m.placelist_within_page;if(m.place_list_entry_point)for(var w in c("PlaceRecommendationEntrypoint"))if(c("PlaceRecommendationEntrypoint")[w]==m.place_list_entry_point){v.place_list_entry_point=w;break}n.placelist_data=v}if(m.is_ad_post===true)n.unpublished_content_data={unpublished_content_type:"ADS_POST"};else if(m.draft===true||m.unpublished_content_type==="DRAFT")n.unpublished_content_data={unpublished_content_type:"DRAFT"};else if((m.scheduled===true||m.unpublished_content_type==="SCHEDULED")&&m.scheduled_publish_time)n.unpublished_content_data={unpublished_content_type:"SCHEDULED",scheduled_publish_time:m.scheduled_publish_time};if(m.composertags_place)n.explicit_place_id=m.composertags_place;else if(m.composertags_city)n.implicit_place_id=String(m.composertags_city);else if(m.composertags_place_name)n.place_name=m.composertags_place_name;if(!c("isEmpty")(m.animated_image))n.animated_image=m.animated_image;if(!c("isEmpty")(m.event_tag))n.event_tag=m.event_tag;if(!c("isEmpty")(m.holiday_card))n.holiday_card=m.holiday_card;if(!c("isEmpty")(m.page_recommendation_ids))n.page_recommendation_ids=m.page_recommendation_ids;if(!c("isEmpty")(m.story_list_attachment_data))n.story_list_attachment_data=m.story_list_attachment_data;if(!c("isEmpty")(m.poll_question_data))n.poll_question_data=this._getTranslatedPollQuestionData(m.poll_question_data);var x=[];if(m.attachment&&m.attachment.params){x=[{link:{share_scrape_data:JSON.stringify({share_type:m.attachment.type,share_params:m.attachment.params,shared_from_post_id:m.attachment.shared_from_post_id})}}];if(m.attachment&&m.attachment.reshare_original_post||m.is_forced_reshare_of_post)n.reshare_original_post="RESHARE_ORIGINAL_POST"}else if(m.composer_unpublished_photo)x=this._getTranslatedMediaAttachments(this._getPhotos(l),m.composer_unpublished_photo,m.composer_custom_accessibility_caption,m.composer_has_crop,m.composer_has_filter,m.composer_text_overlay,m.composer_sticker,m.xy_tags);var y=this._getProductItemAttachment(m,n.message);if(y){var z={product_item:y};x.push(z)}if(m.charity_id){var A={fundraiser_for_story:{charity_id:m.charity_id}};x.push(A)}if(!c("isEmpty")(x))n.attachments=x;return n},_getGraphQLConditionKey:function j(k){switch(k){case c("ProductCondition").PC_NEW:return"NEW_ITEM";case c("ProductCondition").PC_REFURBISHED:return"REFURBISHED";default:return"USED"}},_getProductItemAttachment:function j(k,l){__p&&__p();if(k.composer_attachment_sell_price&&k.composer_attachment_sell_title){var m={};m.title=k.composer_attachment_sell_title;m.item_price={price:k.composer_attachment_sell_price,currency:k.composer_attachment_sell_currency};m.location_page_id=k.composer_attachment_sell_location_page_id;m.condition=this._getGraphQLConditionKey(k.composer_attachment_sell_condition);if(k.composer_attachment_sell_pickup_note)m.pickup_note=this._getTranslatedTextWithEntitiesFields(k.composer_attachment_sell_pickup_note);if(l)m.description=l;return m}return null},_getTranslatedMediaAttachments:function j(k,l,m,n,o,p,q,r){__p&&__p();var s=[];l.forEach(function(t){__p&&__p();var u;if(k.includes(t))(function(){__p&&__p();var v,w={};w.id=t;if(n[t]===true)w.crop_state="CROPPED";if(o[t]===true)w.filter_state="FILTERED";if(m[t])w.custom_accessibility_caption=m[t];if(p[t]&&!c("isEmpty")(p[t]))w.text_overlay=p[t];if(q[t]&&!c("isEmpty")(q[t]))(function(){var x=[];Object.keys(q[t]).forEach(function(y){x.push({id:y,count:q[t][y]})});w.stickers=x})();if(r&&Array.isArray(r))w.tags=r.filter(function(x){return x.fbid===w.id}).map(function(x){var y={};if(x.subject)y.id=x.subject;else y.name=x.name;return{x:x.x,y:x.y,source:x.source,taggee:y}});s.push({photo:w})})();else s.push({video:{id:t,notify_when_processed:true}})});return s},_getTranslatedPollQuestionData:function j(k){var l={text:k.text,options:k.options,question_type:this._getTranslatedEnum(k.question_type,c("QuestionPollTypeJSEnum"))};if(l){if(k.poll_end_time===0||k.poll_end_time)l.poll_end_time=k.poll_end_time;if(k.relative_poll_end_time===0||k.relative_poll_end_time)l.relative_poll_end_time=k.relative_poll_end_time}return l},_getTranslatedTextWithEntitiesFields:function j(k){var l=c("MentionsUtils").parseMessageMentions(k),m=l.ranges,n=l.text;if(!m)return{text:n,ranges:[]};else{var o=m.map(function(p){return{offset:p.offset,length:p.length,entity:{id:p.uid}}});return{text:n,ranges:o}}},getShouldUseGraphQLForPageCTA:function j(k,l){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","page_cta");this._logUnsupportedFeatures("page_cta",l);if(!this._getShouldUseGraphQL(l)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","page_cta_missing_features");return false}if(!this._getPageCTAPostGK()){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","page_cta_fail_gk");return false}return true},getShouldUseGraphQLForStatus:function j(k,l){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","status");this._logUnsupportedFeatures("status",l);if(!this._getShouldUseGraphQL(l)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_missing_features");return false}if(c("CurrentUser").getAccountID()!==k){var m=this._getIsDirectedPost(k,l.xhpc_targetid);if(m){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_different_actor_directed_post");return false}if(!this._getUndirectedStatusPagePostGK()){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_failing_gating_page_post");return false}return true}if(l.target_type==="page"){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","status_target_type_page");return false}return true},getShouldUseGraphQLForMedia:function j(k,l,m){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","media");this._logUnsupportedFeatures("media",l);if(!this._getShouldUseGraphQL(l)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_missing_features");return false}if(l.target_type==="page"){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_target_type_page");return false}if(c("CurrentUser").getAccountID()!==k){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_different_actor");return false}var n=this._getPhotos(m),o=this._getIsDirectedPost(k,l.xhpc_targetid);if(c("isEmpty")(n)&&l.composer_unpublished_photo&&l.composer_unpublished_photo.length===1){if(!o||this._getDirectedSingleVideoPostGK()&&o)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_failing_gating_single_video");return false}if(!c("isEmpty")(n)&&l.composer_unpublished_photo&&l.composer_unpublished_photo.length!==n.length||c("isEmpty")(n)&&l.composer_unpublished_photo&&l.composer_unpublished_photo.length>1){if(!o||this._getDirectedMultiMediaPostGK()&&o)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_directed_failing_gating_multi_media");return false}if(n&&n.length===1){if(!o||this._getDirectedSinglePhotoPostGK()&&o)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_directed_failing_gating_single_photo");return false}if(n){if(!o||this._getDirectedMultiPhotoPostGK()&&o)return true;c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_directed_failing_gating_multi_photos");return false}c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","media_failing_gating_completely");return false},getShouldUseGraphQLForShareDialog:function j(k){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","share");this._logUnsupportedFeaturesForShareDialog(k);if(!this._getShouldUseGraphQLForShareDialog(k)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_missing_features");return false}if(c("CurrentUser").getAccountID()!==k.actorId){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_different_actor");return false}if(k.audienceType!==c("AudienceTypes").OWN){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_unsupported_audience_type_"+(k.audienceType?k.audienceType:"unset"));return false}var l=this._getIsDirectedPost(k.actorId,k.actorId);if(l&&!this._getDirectedShareDialogPostGK()||!l&&!this._getUndirectedShareDialogPostGK()){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","share_"+(l?"directed":"undirected")+"_failing_gating");return false}return true},_getPhotos:function j(k){return c("ReactComposerPhotoStore").getPhotos(k).map(function(l){return l.id}).toArray()},_getIsSupportedParameter:function j(k,l){return c("ComposerPublisherSupportedParameters").includes(l)||c("ReactComposerWebUnusedParameters").params.create.includes(l)||c("isEmpty")(k[l])},_getIsSupportedParameterForShareDialog:function j(k,l){var m="share_dialog_";return c("ComposerPublisherSupportedParameters").includes(m+l)||c("ReactComposerWebUnusedParameters").params.share.includes(l)||c("isEmpty")(k[l])},_getShouldUseGraphQL:function j(k){for(var l in k)if(!this._getIsSupportedParameter(k,l))return false;return true},_getShouldUseGraphQLForEdit:function j(k){for(var l in k)if(!this._getIsSupportedParameterForEdit(k,l))return false;return true},getShouldUseGraphQLForEdit:function j(k){__p&&__p();c("BanzaiODS").bumpEntityKey("webgraphml_should_use","edit");this._logUnsupportedFeaturesForEdit(k);if(!k.story_token){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","edit_missing_story_token_"+(k.xc_entstory_context||""));return false}if(!this._getShouldUseGraphQLForEdit(k)){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","edit_missing_features");return false}if(!this._getEditPostGK()){c("BanzaiODS").bumpEntityKey("webgraphml_should_not_use","edit_failing_gating");return false}return true},_getIsSupportedParameterForEdit:function j(k,l){var m="edit_";return c("ComposerPublisherSupportedParameters").includes(m+l)||c("ReactComposerWebUnusedParameters").params.edit.includes(l)||c("isEmpty")(k[l])},_getShouldUseGraphQLForShareDialog:function j(k){for(var l in k)if(!this._getIsSupportedParameterForShareDialog(k,l))return false;return true},_logUnsupportedFeatures:function j(k,l){for(var m in l)if(!this._getIsSupportedParameter(l,m))c("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature"+(l.target_type?"_target_type_"+l.target_type:""),k+"_"+m)},_logUnsupportedFeaturesForShareDialog:function j(k){for(var l in k)if(!this._getIsSupportedParameterForShareDialog(k,l))c("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature"+(k.audienceType?"_audience_type_"+k.audienceType:""),"share_"+l)},_logUnsupportedFeaturesForEdit:function j(k){for(var l in k)if(!this._getIsSupportedParameterForEdit(k,l))c("BanzaiODS").bumpEntityKey("webgraphml_unsupported_feature","edit_"+l)},_getIsDirectedPost:function j(k,l){return k!==l},_getPageCTAPostGK:function j(){return c("gkx")("AT56hXSfx2DmvrffmXHywXG2EXllfWB7jvC4XkpnOJWP3IouFwnUhTEJAjYTnWJAxDQ702wOyfjuF1cTvouwYGda")},_getUndirectedStatusPagePostGK:function j(){return c("gkx")("AT7udcRP7A85AW0LarduB3lZLNSq_KOBpOT3F3eNH9YpQugFIjtX-d_LfgALxA1TQ7dylrBvIt0TbIofsVEORD0T")},_getUndirectedShareDialogPostGK:function j(){return c("gkx")("AT45qf4UyNsHtdrna_5Jepo7V6hwovngoxtz0wzbzcCPZEy8rihHe4c22mUFm09-0u5YdvuvCL4vxz9CZ2U3vdr9RSjLOk2PwTW0H24KZ4w4yg")},_getDirectedShareDialogPostGK:function j(){return c("gkx")("AT7EUBz3TOtL3DuCXqYYxhyMbVwTtYiR3kPK8XqRVssmG46rTwl30qbJHr8Z7stkUKr8Z387hkYEiYNY5lcHjFDXApIybVySxyQWR4f5Dyz13g")},_getDirectedSingleVideoPostGK:function j(){return c("gkx")("AT4TPebq0Hg9eV_iv4hRws1PygA80SO-KGLx6Ixc7LU6XjcoWAlSyRzwAeZghqj_zxGw6MvLMKuTqUaDFQQHiLVpm50UOUHRKwAj5nCRRxtcUQ")},_getDirectedSinglePhotoPostGK:function j(){return c("gkx")("AT6rcIrIG9am0y7uYSMWEyJPTI2mug4fZOp9ccelKeHUcUP1YG69kRsckOvtCdFE-osY1gqYaaks1PqSnJXVbTRUXjJaOKpb4MCKGs0tf03uOA")},_getDirectedMultiPhotoPostGK:function j(){return c("gkx")("AT4mLSZw6N7jw1XvnD7ydR9hAzJ0vSmgv1jXYDiq5PiqZbWpYJCrhnGFSOJmee4cQWa9Sbefr6gg7QHjmpoOZ0LecCe-yd1regHhM-oVNwgXNA")},_getDirectedMultiMediaPostGK:function j(){return c("gkx")("AT49HckgKBLjm8j8_MGdrHoMJtRq8KAoFtE995RSpmp2XG220S3YLLyhKMa17Oo5h6Rb57OKCOImqn9UXFDT30Ms")},_getEditPostGK:function j(){return c("gkx")("AT6ij-73aJcNQ76sAfPAFpBUhcBY6G5xLBL4R5h2hIkklTVu8NvREPCfStquvBVkkx29tzHVKvkT4lyhhCHAV-AC")}};f.exports=i}),null);
__d("PagesComposerActionsLogger",["Banzai"],(function a(b,c,d,e,f,g){var h="pages_composer_actions",i="actions";function j(l){return{log:function m(n,o){o=o?o:i;c("Banzai").post(h+":"+o,n,l)},create:null}}var k=j();k.create=j;f.exports=k}),null);
__d("RedEnvelopeActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:RedEnvelopeActionLoggerConfig",this.$RedEnvelopeActionTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:RedEnvelopeActionLoggerConfig",this.$RedEnvelopeActionTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$RedEnvelopeActionTypedLogger1={};return this};h.prototype.updateData=function(j){this.$RedEnvelopeActionTypedLogger1=babelHelpers["extends"]({},this.$RedEnvelopeActionTypedLogger1,j);return this};h.prototype.setAction=function(j){this.$RedEnvelopeActionTypedLogger1.action=j;return this};h.prototype.setExceptionMessage=function(j){this.$RedEnvelopeActionTypedLogger1.exception_message=j;return this};h.prototype.setExceptionType=function(j){this.$RedEnvelopeActionTypedLogger1.exception_type=j;return this};h.prototype.setP2pTransactionID=function(j){this.$RedEnvelopeActionTypedLogger1.p2p_transaction_id=j;return this};h.prototype.setRedEnvelopeID=function(j){this.$RedEnvelopeActionTypedLogger1.red_envelope_id=j;return this};h.prototype.setResponseCode=function(j){this.$RedEnvelopeActionTypedLogger1.response_code=j;return this};h.prototype.setSegmentID=function(j){this.$RedEnvelopeActionTypedLogger1.segment_id=j;return this};h.prototype.setStackTrace=function(j){this.$RedEnvelopeActionTypedLogger1.stack_trace=j;return this};h.prototype.setVC=function(j){this.$RedEnvelopeActionTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$RedEnvelopeActionTypedLogger1=babelHelpers["extends"]({},this.$RedEnvelopeActionTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={action:true,exception_message:true,exception_type:true,p2p_transaction_id:true,red_envelope_id:true,response_code:true,segment_id:true,stack_trace:true,vc:true};f.exports=h}),null);
__d("MessengerHotLikeSVG.react",["cssVar","cx","fbt","CurrentUser","MessengerEnvironment","React","joinClasses","uniqueID"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n="transparent",o=j._("Thumbs Up Sign");k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={titleId:c("uniqueID")()},r}p.prototype.render=function(){var q=c("CurrentUser").isWorkUser()?"#373e4c":"#0084ff",r=this.props.color||(c("MessengerEnvironment").messengerui||c("CurrentUser").isWorkUser()?q:"#4080ff");return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_1i1j")},c("React").createElement("svg",{"aria-labelledby":this.state.titleId,height:"100%",role:"img",version:"1.1",viewBox:"0 0 256 256",width:"100%",x:"0px",y:"0px"},c("React").createElement("title",{id:this.state.titleId},o),c("React").createElement("g",null,c("React").createElement("g",null,c("React").createElement("polyline",{fill:n,points:"256,0 258,256 2,258 "}),c("React").createElement("path",{d:"M254,147.1c0-12.7-4.4-16.4-9-20.1c2.6-4.2,5.1-10.2,5.1-18c0-15.8-12.3-25.7-32-25.7h-52c-0.5,0-1-0.5-0.9-1 c1.4-8.6,3-24,3-31.7c0-16.7-4-37.5-19.3-45.7c-4.5-2.4-8.3-3.7-14.1-3.7c-8.8,0-14.6,3.6-16.7,5.9c-1.3,1.4-1.9,3.3-1.8,5.2 l1.3,34.6c0.2,2.8-0.3,5.4-1.6,7.7l-24,47.8c-1.7,3.5-4.2,6.6-7.6,8.5c-3.5,2-6.5,5.9-6.5,9.5v94.8C78,230,94,238,112.3,238h86.1 c13.5,0,22.4-4.5,27.2-13.5c4.4-8.2,3.2-15.8,1.4-21.5c7.4-2.3,14.8-8,16.9-18.3c1.3-6.6-0.7-12.1-2.9-16.2 C247.5,165,254,159.8,254,147.1z",fill:r,stroke:n,strokeLinecap:"round",strokeWidth:"5%"}),c("React").createElement("path",{fill:r,d:"M56.2,100H13.8C7.3,100,2,105.3,2,111.8v128.5c0,6.5,5.3,11.8,11.8,11.8h42.4c6.5,0,11.8-5.3,11.8-11.8V111.8 C68,105.3,62.7,100,56.2,100z"})))))};p.propTypes={color:m.string};f.exports=p}),null);
__d("MNPageComposerUtils",["QE2Logger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="product_tagging_minimum_number_products";i.prototype.shouldShowMessagingButton=function(j,k,l,m,n,o,p){var q=j&&j>1&&p!=null&&p;return q||!(j&&j>1||k&&k>1||!j&&!k||l||m||n||o)};i.prototype.isProductTaggerPostButtonDisabled=function(j,k){if(j>0)c("QE2Logger").logExposureForUser(h);return j>0&&j<k};function i(){}f.exports=new i()}),null);
__d("Poller",["ArbiterMixin","AsyncRequest","CurrentUser","TimeSlice","emptyFunction","mixin","setTimeoutAcrossTransitions","setTimeout"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(l){"use strict";__p&&__p();i.constructor.call(this);this._config=babelHelpers["extends"]({clearOnQuicklingEvents:true,setupRequest:c("emptyFunction"),maxRequests:Infinity},l);this._handle=null;this._isSkipIndefinitely=false;this._hasSkippedRequest=false;this._requests=0;this._muted=false;this._polling=false;this._skip=false;this._cancelRequest=c("emptyFunction");if(!this._config.dontStart)this.start()}j.prototype.start=function(){"use strict";if(this._polling)return this;this._requests=0;this.request();return this};j.prototype.stop=function(){"use strict";this._cancelRequest();return this};j.prototype.mute=function(){"use strict";this._muted=true;return this};j.prototype.resume=function(){"use strict";__p&&__p();if(this._muted){this._muted=false;if(this._handle===null&&this._polling)return this.request()}if(this._isSkipIndefinitely){this._isSkipIndefinitely=false;return this.request()}return this};j.prototype.skip=function(){"use strict";this._skip=true;return this};j.prototype.startSkipIndefinitely=function(){"use strict";this._isSkipIndefinitely=true;return this};j.prototype.stopSkipIndefinitely=function(){"use strict";this._isSkipIndefinitely=false;if(this._hasSkippedRequest)return this.request();else return this};j.prototype.isSkipIndefinitely=function(){"use strict";return this._isSkipIndefinitely};j.prototype.reset=function(){"use strict";return this.stop().start()};j.prototype.request=function(){"use strict";__p&&__p();this._cancelRequest();this._polling=true;if(!this._config.allowNotLoggedIn&&!k())return this._done();if(this._muted)return this;var l=false;this._cancelRequest=function(){l=true;this._cleanup()}.bind(this);if(this._isSkipIndefinitely){this._deferRequest();this._hasSkippedRequest=true;return this}else this._hasSkippedRequest=false;if(++this._requests>this._config.maxRequests)return this._done();var m=new(c("AsyncRequest"))();m.setIsBackgroundRequest(true);m.setInitialHandler(function(){return!l});m.setFinallyHandler(this._deferRequest.bind(this));m.setInitialHandler=c("emptyFunction");m.setFinallyHandler=c("emptyFunction");this._config.setupRequest(m,this);if(this._skip){this._skip=false;c("setTimeoutAcrossTransitions")(this._deferRequest.bind(this),0)}else m.send();return this};j.prototype.isPolling=function(){"use strict";return this._polling};j.prototype.isMuted=function(){"use strict";return this._muted};j.prototype.setInterval=function(l){"use strict";if(l){this._config.interval=l;this.start()}};j.prototype.getInterval=function(){"use strict";return this._config.interval};j.prototype._cleanup=function(){"use strict";if(this._handle!==null)clearTimeout(this._handle);this._handle=null;this._cancelRequest=c("emptyFunction");this._polling=false};j.prototype._done=function(){"use strict";this._cleanup();this.inform("done",{sender:this});return this};j.prototype._deferRequest=function(){"use strict";__p&&__p();if(!this._polling)return;if(this._requests<this._config.maxRequests){var l=this._config.interval;l=typeof l==="function"?l(this._requests):l;l=l>j.MIN_INTERVAL?l:j.MIN_INTERVAL;if(this._config.clearOnQuicklingEvents)this._handle=c("setTimeout")(c("TimeSlice").guard(function(){this.request()}.bind(this),"Poller setTimeout",{propagationType:c("TimeSlice").PropagationType.ORPHAN}),l);else this._handle=c("setTimeoutAcrossTransitions")(c("TimeSlice").guard(function(){this.request()}.bind(this),"Poller setTimeout",{propagationType:c("TimeSlice").PropagationType.ORPHAN}),l)}else this._done()};j.MIN_INTERVAL=2e3;function k(){return c("CurrentUser").isLoggedInNow()}f.exports=j}),null);
__d("LeftFillRightFitLayout.react",["invariant","Layout.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n)}m.prototype.$LeftFillRightFitLayout1=function(){var n=[],o=this.props.children;o&&o.length===2||h(0);c("React").Children.forEach(this.props.children,function(p){return n.push(p)},this);return{firstChild:n[0],secondChild:n[1]}};m.prototype.render=function(){var n=this.$LeftFillRightFitLayout1();return c("React").createElement(c("Layout.react"),{className:this.props.className,style:this.props.style},c("React").createElement(l,{className:this.props.fillColumnClassName},n.firstChild),c("React").createElement(k,{className:this.props.fitColumnClassName},n.secondChild))};f.exports=m}),null);
__d("FaceRecognitionController",["ArbiterMixin","BanzaiODS","Poller","mixin","removeFromArray","FacerecWaterfallEvent"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";__p&&__p();i.constructor.call(this);this._config=babelHelpers["extends"]({uri:"/photos/tagging/recognition/",interval:2e3,maxRequests:4,targetIsPage:false,targetID:null},k);this._cleanup();this._poller=new(c("Poller"))({dontStart:true,maxRequests:this._config.maxRequests,interval:this._config.interval,setupRequest:function(l,m){if(!this._pendingPhotos||this._pendingPhotos.length===0)m.skip();l.setURI(this._config.uri).setData({recognition_project:"composer_facerec",photos:this._pendingPhotos,waterfallID:this._config.waterfallID,target:this._config.targetID,is_page:this._config.targetIsPage,include_unrecognized_faceboxes:!!this._config.include_unrecognized_faceboxes,include_face_crop_src:!!this._config.include_face_crop_src,include_recognized_user_profile_picture:!!this._config.include_recognized_user_profile_picture,include_low_confidence_recognitions:!!this._config.include_low_confidence_recognitions}).setHandler(this._handleResponse.bind(this))}.bind(this)});this._poller.subscribe("done",function(){var l=this._pendingPhotos;this._cleanup();this.inform("done",{unresolved:l,facerecWaterfallEvent:c("FacerecWaterfallEvent").CLIENT_RECOGNITION_POLLER_GIVE_UP})}.bind(this))}j.prototype.setWaterfallID=function(k){"use strict";this._config.waterfallID=k};j.prototype.start=function(k){"use strict";Array.prototype.push.apply(this._pendingPhotos,k);this._poller.reset();this._resetSafeguardTimeout()};j.prototype.stop=function(){"use strict";this._poller.stop();this._cleanup()};j.prototype._cleanup=function(){"use strict";window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=null;this._pendingPhotos=[]};j.prototype._resetSafeguardTimeout=function(){"use strict";window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=window.setTimeout(function(){c("BanzaiODS").bumpEntityKey("composer_facerec","safeguard");var k=this._pendingPhotos;this._poller.stop();this._cleanup();this.inform("done",{unresolved:k,facerecWaterfallEvent:c("FacerecWaterfallEvent").CLIENT_RECOGNITION_POLLER_TIMEOUT})}.bind(this),(this._config.maxRequests+2)*this._config.interval)};j.prototype._handleResponse=function(k){"use strict";__p&&__p();var l=k.getPayload();l.forEach(function(m){var n=0;c("removeFromArray")(this._pendingPhotos,m.fbid);m.faceboxes.forEach(function(o){n+=o.recognitions.length;o.recognitions.forEach(function(p){this.inform("recognition",{photo:m.fbid,facebox:{fbid:o.fbid,x:o.x,y:o.y},recognition:p})}.bind(this))}.bind(this));this.inform("photo",{photo:m.fbid,faceboxes:m.faceboxes,recognitions:n})}.bind(this));if(!this._pendingPhotos.length){this._poller.stop();this._cleanup();this.inform("done",{unresolved:this._pendingPhotos})}};f.exports=j}),null);
__d("SharingSpacesStrings",["fbt"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={SHOW_SPACE_CREATION_BUTTON_TEXT:h._("Create Space"),SPACE_CREATION_DIALOG_HEADER:h._("Create Sharing Space"),SPACE_CREATION_TITLE_FIELD_LABEL:h._("Name"),SPACE_CREATION_TITLE_FIELD_PLACEHOLDER:h._("Name this set..."),SPACE_CREATION_DESCRIPTION_FIELD_LABEL:h._("Description"),SPACE_CREATION_DESCRIPTION_FIELD_PLACEHOLDER:h._("Add a description (optional)"),SPACE_CREATION_PRIVACY_HEADER:h._("Select Privacy"),SPACE_CREATION_PRIVACY_SECRET:h._("Secret"),SPACE_CREATION_PRIVACY_HIDDEN:h._("Hidden"),SPACE_CREATION_PRIVACY_FRIENDS:h._("Friends"),SPACE_CREATION_ADD_FOLLOWERS_DIALOG_TITLE:h._("Add Followers"),SET_ADD_FOLLOWERS_ALLREADY_FOLLOWING:h._("Already a follower"),SPACE_CREATION_FRIENDS_SEARCH_GHOST_TEXT:h._("Search Friends"),SPACE_CREATION_FRIENDS_SEARCH_RESULTS_HEADER:h._("Friends"),SPACE_CREATION_SELECTED_FRIENDS_HEADER:h._("Selected"),SPACE_CREATION_LOAD_MORE_FRIENDS:h._("See More"),SPACE_CREATION_DESELECT_FRIEND:h._("Deselect Friend"),CREATE_BUTTON_TEXT:h._("Create"),SPACE_CREATION_NEXT_BUTTON_TEXT:h._("Next"),SPACE_CREATION_BACK_BUTTON_TEXT:h._("Back"),TITLE_REQUIRED_ERROR_MESSAGE:h._("Name cannot be empty"),CREATION_SERVER_ERROR_TITLE:h._("Sorry, an error has occurred..."),CREATION_SERVER_ERROR_MESSAGE:h._("Your sharing space could not be created right now. Please try again later."),ALBUMS_SELECTOR_HEADER:h._("Albums"),SHARING_SPACES_SELECTOR_NO_ALBUMS:h._("Create an album of your latest vacation."),FOLLOW_BUTTON_TEXT:h._("Follow"),FOLLOWING_BUTTON_TEXT:h._("Following"),FALLBACK_POST_TEXT:h._("Post"),EDIT_BUTTON_TEXT:h._("Edit"),EDIT_DIALOG_TITLE:h._("Edit Set"),EDIT_DIALOG_PRIVACY_HEADER:h._("Privacy"),SAVE_BUTTON_TEXT:h._("Save"),EDIT_SERVER_ERROR_MESSAGE:h._("Your set could not be edited right now. Please try again later."),DELETE_BUTTON_TEXT:h._("Delete Set"),DELETE_SET_SERVER_ERROR_MESSAGE:h._("Your set could not be deleted right now. Please try again later."),getPostCount:function j(k){return h._({"*":"{number} Posts","_1":"1 Post"},[h.plural(k,"number")])},FOLLOWERS_TITLE:h._("Followers"),getFollowerCount:function j(k){return h._({"*":"{number} Followers","_1":"1 Follower"},[h.plural(k,"number")])},SHARING_SPACES_SELECTOR_CREATE_NEW:h._("Create"),COMPOSER_NEXT_BUTTON:h._("Next"),COMPOSER_BACK_BUTTON:h._("Back"),SHARING_SPACES_SELECTOR_SEE_MORE:h._("See More"),SHARING_SPACES_SELECTOR_TITLE:h._("Post To"),SHARING_SPACES_SELECTOR_DESTINATION_TIMELINE:h._("Timeline"),TYPE_ALBUM:h._("Album"),SPACES_CARD_ADD_POST_BUTTON:h._("Add Post"),ADD_FRIENDS:h._("Add Friends"),ADD_FOLLOWER_CONFIRMATION_DIALOG_TITLE:h._("New Followers"),getAddFollowerConfirmationDialogBody:function j(k){return h._({"*":"{number} new friends were added","_1":"1 new friend was added"},[h.plural(k,"number")])},ADD_FOLLOWER_SERVER_ERROR_MESSAGE:h._("New followers could not be added right now. Please try again later."),ADD_FOLLOWER_CONFIRMATION_BUTTON:h._("Add"),UNFOLLOW_SECRET_SPACE_TITLE:h._("Unfollow"),getUnfollowSecretSpaceTitle:function j(k){if(!k)return h._("Unfollow Set?");return h._("Unfollow {space_name}?",[h.param("space_name",k)])},UNFOLLOW_SECRET_SPACE_DESCRIPTION:h._("You won't be able to find this set or see its posts anymore."),getDeleteSpaceConfirmationDialogTitle:function j(k){if(!k)return h._("Delete Set?");return h._("Delete {space_name}?",[h.param("space_name",k)])},DELETE_SPACE_CONFIRMATION_DIALOG_BODY:h._("This will remove all posts in this set permanently, and it cannot be undone."),DELETE_SPACE_CONFIRMATION_DIALOG_BUTTON:h._("Delete")};f.exports=i}),null);
__d("TimelineCapsuleUtilities",["CSS"],(function a(b,c,d,e,f,g){__p&&__p();var h={setFirstUnit:function i(j){__p&&__p();var k=true;for(var l=0;l<j.childNodes.length;++l){var m=j.childNodes[l];if(m.id.indexOf("tl_unit_")===0)if(k){k=false;c("CSS").addClass(m,"firstUnit")}else{c("CSS").removeClass(m,"firstUnit");break}}}};f.exports=h}),null);
__d("TimelineComposer",["csx","Arbiter","Bootloader","ComposerXMarauderLogger","ComposerXStore","CSS","DOM","DOMQuery","Event","Parent","ReloadPage","Run","TimelineCapsuleUtilities","$","getObjectValues","goURI","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=void 0,j=void 0;function k(){c("ComposerXMarauderLogger").logCompleted(i.id)}function l(n){__p&&__p();if(n.hidePost){k();return}if(n.redirect){var o=c("ComposerXStore").getAllForComposer(n.composer_id);c("getObjectValues")(o).forEach(function(p){if(p.reset)p.reset(p)});c("goURI")(n.redirect);k();return}if(!n.streamStory){c("ReloadPage").now();return}if(n.backdatedTime){c("Bootloader").loadModules(["TimelineStoryPublisher"],function(p){p.publish(n)},"TimelineComposer");k();return}m.renderCapsuleBasedStory(c("$")(n.composer_id),n.streamStory);c("Arbiter").inform("TimelineComposer/on_after_publish",n.streamStory,c("Arbiter").BEHAVIOR_PERSISTENT);k()}var m={init:function n(o){if(!i){j=c("Arbiter").subscribe("composer/publish",function(event,p){l(p)});c("Run").onLeave(m.destroy)}i=c("$")(o)},destroy:function n(){j&&j.unsubscribe()},renderCapsuleBasedStory:function n(o,p){__p&&__p();var q=c("Parent").byClass(o,"fbTimelineCapsule");if(!q)return;var r=c("DOMQuery").scry(q,".fbTimelineUnit")[0],s=r.nextSibling;if(s&&s.getAttribute("data-spine"))r=r.nextSibling;var t=c("DOM").insertAfter(r,p)[0];if(c("CSS").hasClass(t,"fbTimelineUnit"))t=c("DOM").find(t,"div.timelineUnitContainer");c("Bootloader").loadModules(["Animation"],function(u){new u(t).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(u.ease.both).go()},"TimelineComposer");c("TimelineCapsuleUtilities").setFirstUnit(q)},getRoot:function n(){return i},initNUX:function n(o,p){c("tidyEvent")(c("Event").listen(o,"click",function(){var q=c("DOM").scry(p,"textarea")[0];q&&q.focus()}))}};f.exports=b.TimelineComposer||m}),null);
__d("ReactComposerFileActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({RESET:null,SAVE_DROPBOX_FILE:null,SAVE_FILE:null,SET_FILE_CONFIG:null},"ReactComposerFileActionType")}),null);
__d("ReactComposerFileStore",["fbt","ReactComposerFileActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("ReactComposerStoreBase"));j=i&&i.prototype;function k(){"use strict";__p&&__p();var l=void 0;j.constructor.call(this,function(){return{dialogAppURL:null,dropboxActionEndpoint:null,dropboxAppID:null,dropboxEnabled:null,dropboxFileID:null,file:null,maxFileUploadString:null,selectedDropboxFileName:l&&l.$ReactComposerFileStore1(),selectedFileName:l&&l.$ReactComposerFileStore1()}},function(m){switch(m.type){case c("ReactComposerFileActionType").RESET:l&&l.$ReactComposerFileStore2(m);break;case c("ReactComposerFileActionType").SAVE_DROPBOX_FILE:l&&l.$ReactComposerFileStore3(m);break;case c("ReactComposerFileActionType").SAVE_FILE:l&&l.$ReactComposerFileStore4(m);break;case c("ReactComposerFileActionType").SET_FILE_CONFIG:l&&l.$ReactComposerFileStore5(m);break}});l=this}k.prototype.getDialogAppURL=function(l){"use strict";return this.getComposerData(l).dialogAppURL};k.prototype.getDropboxActionEndpoint=function(l){"use strict";return this.getComposerData(l).dropboxActionEndpoint};k.prototype.getDropboxAppID=function(l){"use strict";return this.getComposerData(l).dropboxAppID};k.prototype.getDropboxEnabled=function(l){"use strict";return this.getComposerData(l).dropboxEnabled};k.prototype.getDropboxFileID=function(l){"use strict";return this.getComposerData(l).dropboxFileID};k.prototype.getFile=function(l){"use strict";return this.getComposerData(l).file};k.prototype.getMaxFileUploadSize=function(l){"use strict";return this.getComposerData(l).maxFileUploadSize};k.prototype.getMaxFileUploadString=function(l){"use strict";return this.getComposerData(l).maxFileUploadString};k.prototype.getSelectedDropboxFileName=function(l){"use strict";return this.getComposerData(l).selectedDropboxFileName};k.prototype.getSelectedFileName=function(l){"use strict";return this.getComposerData(l).selectedFileName};k.prototype.getURI=function(l){"use strict";return this.hasFile(l)?"/ajax/groups/files/upload":"/ajax/groups/files/dropbox_publish"};k.prototype.hasDropboxFile=function(l){"use strict";return!!this.getComposerData(l).dropboxFileID};k.prototype.hasFile=function(l){"use strict";return!!this.getComposerData(l).file};k.prototype.isFileSelected=function(l){"use strict";var m=this.getComposerData(l);return!!m.file||!!m.dropboxFileID};k.prototype.$ReactComposerFileStore1=function(){"use strict";return h._("No file chosen")};k.prototype.$ReactComposerFileStore2=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.file=n.dropboxFileID=null;n.selectedFileName=n.selectedDropboxFileName=this.$ReactComposerFileStore1();this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore3=function(l){"use strict";var m=this.validateAction(l,["composerID","id","name"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.dropboxFileID=o;q.selectedDropboxFileName=p;this.emitChange(n)};k.prototype.$ReactComposerFileStore4=function(l){"use strict";var m=this.validateAction(l,["composerID","file","name"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.file=o;q.selectedFileName=p;this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore5=function(l){"use strict";var m=this.validateAction(l,["composerID","config"]),n=m[0],o=m[1],p=this.getComposerData(n);p.dialogAppURL=o.dialogAppURL;p.dropboxActionEndpoint=o.dropboxActionEndpoint;p.dropboxAppID=o.dropboxAppID;p.dropboxEnabled=o.dropboxEnabled;p.maxFileUploadSize=o.maxFileUploadSize;p.maxFileUploadString=o.maxFileUploadString;this.emitChange(l.composerID)};f.exports=new k()}),null);
__d("ReactComposerFileActions",["ReactComposerDispatcher","ReactComposerFileActionType","ReactComposerFileStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerFileStore");h.prototype.reset=function(i){"use strict";var j={composerID:i,type:c("ReactComposerFileActionType").RESET};c("ReactComposerDispatcher").dispatch(j)};h.prototype.saveDropboxFile=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerFileActionType").SAVE_DROPBOX_FILE,id:j,name:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.saveFile=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerFileActionType").SAVE_FILE,name:j.name,file:j.file};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setConfig=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerFileActionType").SET_FILE_CONFIG,config:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerCanvasActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null},"ReactComposerCanvasActionType")}),null);
__d("ReactComposerPhotoCarouselActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SELECT_PHOTO_CAROUSEL:null,UNSELECT_PHOTO_CAROUSEL:null,PREVIEW_COMPLETED:null,PREVIEW_INCOMPLETED:null,HIDE_CAROUSEL_URL_INPUT_AREA:null,SHOW_CAROUSEL_URL_INPUT_AREA:null,SEEN_NUX:null},"ReactComposerPhotoCarouselActionType")}),null);
__d("CarouselPagesComposerSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAROUSEL_CAMERA_ICON:"carousel_camera_icon"})}),null);
__d("PagesComposerPostActionsLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PUBLISH:"publish",SCRAPED:"scraped",UPLOAD:"upload",IMAGE_SELECT:"image_select",IMAGE_UNSELECT_ON_UPLOAD_BAR:"image_unselect_on_upload_bar",IMAGE_UNSELECT_ON_CAROUSEL_CARD:"image_unselect_on_carousel_card",IMAGE_UNSELECT_ON_LPP_CARD:"image_unselect_on_carousel_card",IMAGE_CHANGE_LEFT_RIGHT:"image_change_left_right",IMAGE_DRAG:"image_drag",LPP_DESCRIPTION_EDIT:"lpp_description_edit",CAROUSEL_DESCRIPTION_EDIT:"carousel_description_edit",LPP_TITLE_EDIT:"lpp_title_edit",CAROUSEL_TITLE_EDIT:"carousel_title_edit",CHILD_IMAGES_NUM_INCONSISTENT:"child_images_num_inconsistent",CHILD_IMAGES_LINK_INCONSISTENT:"child_images_link_inconsistent",ATTACHMENT_STYLE_INVALID:"attachment_style_invalid",EDIT_URL:"edit_url",CLICK_UPLOAD_PHOTO_IN_PHOTO_TAB:"click_upload_photo_in_photo_tab",CLICK_UPLOAD_BUTTON_IN_TOOLBAR:"click_upload_button_in_toolbar",DRAG_PHOTO_TO_COMPOSER:"drag_photo_to_composer",CLICK_PHOTO_CAROUSEL_CREATE_TAB:"click_photo_carousel_create_tab",CLICK_CAROUSEL_CAMERA_ICON:"click_carousel_camera_icon",CLICK_SLIDESHOW_CREATE_TAB:"click_slideshow_create_tab",CLICK_CANVAS_CREATE_TAB:"click_canvas_create_tab",CLICK_COLLECTION_CREATE_TAB:"click_collection_create_tab",SHOW_PHOTO_CAROUSEL_CREATE_TAB:"show_photo_carousel_create_tab",REMOVE_PHOTO_CAROUSEL_URL_INPUT:"remove_photo_carousel_url_input",CLICK_UPLOAD_PHOTO_OPTION:"click_upload_photo_option",CLICK_PHOTO_ALBUM_OPTION:"click_photo_album_option",PREFILL_SCRAPE_URL:"prefill_scrape_url",EDIT_URL_APPLY_ALL:"edit_url_apply_all",UPLOAD_CANVAS_VIDEO:"upload_canvas_video",CLICK_CANVAS_UPLOAD_BUTTON:"click_canvas_upload_button",UNKNOWN:"unknown"})}),null);
__d("ReactComposerPhotoCarouselStore",["CarouselPagesComposerSource","PagesComposerActionsLogger","PagesComposerPostActionsLoggerEvent","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerPhotoCarouselActionType","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerPhotoCarouselActionType").SELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore1(l);break;case c("ReactComposerPhotoCarouselActionType").UNSELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore2(l);break;case c("ReactComposerPhotoCarouselActionType").PREVIEW_COMPLETED:k&&k.$ReactComposerPhotoCarouselStore3(l);break;case c("ReactComposerPhotoCarouselActionType").PREVIEW_INCOMPLETED:k&&k.$ReactComposerPhotoCarouselStore4(l);break;case c("ReactComposerPhotoCarouselActionType").SHOW_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore5(l);break;case c("ReactComposerPhotoCarouselActionType").HIDE_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerPhotoCarouselStore7(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c("ReactComposerPhotoCarouselActionType").SEEN_NUX:k&&k.$ReactComposerPhotoCarouselStore8(l);break;default:}});k=this}j.prototype.$ReactComposerPhotoCarouselStore1=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore2=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore3=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore4=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore5=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=true;var n=k.source;if(n===c("CarouselPagesComposerSource").CAROUSEL_CAMERA_ICON)c("PagesComposerActionsLogger").log({event:c("PagesComposerPostActionsLoggerEvent").CLICK_CAROUSEL_CAMERA_ICON,target_id:k.targetID});this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore6=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore7=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l);if(m.shouldShowURLEditArea&&n!==c("ReactComposerAttachmentType").MEDIA)m.shouldShowURLEditArea=false;if(m.isPhotoCarouselSelected&&n!==c("ReactComposerAttachmentType").MEDIA){m.isPhotoCarouselSelected=false;m.isCarouselPreviewCompleted=false}this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore8=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.seenNux=true;this.emitChange(l)};j.prototype.shouldShowURLEditArea=function(k){"use strict";return this.getComposerData(k).shouldShowURLEditArea};j.prototype.seenNux=function(k){"use strict";return this.getComposerData(k).seenNux};j.prototype.isPhotoCarouselSelected=function(k){"use strict";return this.getComposerData(k).isPhotoCarouselSelected};j.prototype.isCarouselPreviewCompleted=function(k){"use strict";return this.getComposerData(k).isCarouselPreviewCompleted};f.exports=new j()}),null);
__d("ReactComposerCollectionActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_CANCEL_COLLECTION:null,SET_COLLECTION:null,SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:null,SET_POST_TITLE:null,SET_PRODUCT_SET_ID:null,SET_FEATURED_PRODUCT_IDS:null,SHOW_FEATURED_PRODUCT_DIALOG:null,HIDE_FEATURED_PRODUCT_DIALOG:null,UPDATE_COLLECTION_DIALOG_VISIBILITY:null},"ReactComposerCollectionActionType")}),null);
__d("XReactComposerCollectionAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collection/bootstrap/",{composer_id:{type:"String",required:true},canvas_id:{type:"FBID",required:true},target_id:{type:"FBID",required:true}})}),null);
__d("XReactComposerCollectionAttachmentPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collection/publish/",{canvas_id:{type:"FBID",required:true},featured_retailer_ids:{type:"StringSet",required:true}})}),null);
__d("ReactComposerCollectionStore",["Bootloader","ActorURI","AsyncRequest","ReactComposerActionTypes","ReactComposerCollectionActionType","ReactComposerStoreBase","XReactComposerCollectionAttachmentBootstrapController","XReactComposerCollectionAttachmentPublishController","AdsCollectionsConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){__p&&__p();var l=void 0;i.constructor.call(this,function(){return{actorID:null,attachmentConfig:{},canvasID:null,defaultCanvasID:null,featuredRetailerIDs:j,featuredRetailerImages:[],heroImage:null,heroVideo:null,isCollectionSelected:false,isLoading:false,itemIDs:[],itemImages:[],productCatalogVertical:null,productSetID:null,templateID:null}},function(m){__p&&__p();switch(m.type){case c("ReactComposerCollectionActionType").ATTACHMENT_SELECT_COLLECTION:l&&l.$ReactComposerCollectionStore1(m);break;case c("ReactComposerCollectionActionType").ATTACHMENT_CANCEL_COLLECTION:l&&l.$ReactComposerCollectionStore2(m);break;case c("ReactComposerCollectionActionType").SET_COLLECTION:l&&l.$ReactComposerCollectionStore3(m);break;case c("ReactComposerCollectionActionType").SET_POST_TITLE:l&&l.$ReactComposerCollectionStore4(m);break;case c("ReactComposerCollectionActionType").SET_PRODUCT_SET_ID:l&&l.$ReactComposerCollectionStore5(m);break;case c("ReactComposerCollectionActionType").SET_FEATURED_PRODUCT_IDS:l&&l.$ReactComposerCollectionStore6(m);break;case c("ReactComposerCollectionActionType").SHOW_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,true);break;case c("ReactComposerCollectionActionType").HIDE_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,false);break;case c("ReactComposerCollectionActionType").UPDATE_COLLECTION_DIALOG_VISIBILITY:l&&l.$ReactComposerCollectionStore8(m);break;case c("ReactComposerCollectionActionType").SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:l&&l.$ReactComposerCollectionStore9(m);break;case c("ReactComposerActionTypes").POST_STARTED:l&&l.$ReactComposerCollectionStore10(m);break;case c("ReactComposerActionTypes").PUBLISH_STARTED:l&&l.$ReactComposerCollectionStore11(m);break;default:break}});l=this}k.prototype.$ReactComposerCollectionStore12=function(l,m){__p&&__p();var n=this.getComposerData(l),o=Object.entries(m).filter(function(w){var u=w[0],v=w[1];return n[u]!==v});if(o.length){for(var p=o,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t[0],v=t[1];n[u]=v}this.emitChange(l)}};k.prototype.$ReactComposerCollectionStore2=function(l){var m=this.validateAction(l,"composerID");this.clearComposerData(m);this.emitChange(m)};k.prototype.$ReactComposerCollectionStore1=function(l){var m=this.validateAction(l,["actorID","composerID","canvasID","targetID"]),n=m[0],o=m[1],p=m[2],q=m[3],r=c("XReactComposerCollectionAttachmentBootstrapController").getURIBuilder().setString("composer_id",o).setFBID("canvas_id",p).setFBID("target_id",q).getURI();r=c("ActorURI").create(r,n);new(c("AsyncRequest"))(r).send();this.$ReactComposerCollectionStore12(o,{attachmentConfig:{},canvasID:p,isCollectionSelected:!!p,isLoading:true})};k.prototype.$ReactComposerCollectionStore10=function(l){var m=this.validateAction(l,["actorID","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o);if(!p.isCollectionSelected)return;p.actorID=n};k.prototype.$ReactComposerCollectionStore11=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);if(!n.actorID)return;var o=c("XReactComposerCollectionAttachmentPublishController").getURIBuilder().setFBID("canvas_id",n.canvasID).setStringSet("featured_retailer_ids",n.featuredRetailerIDs).getURI();o=c("ActorURI").create(o,n.actorID);new(c("AsyncRequest"))(o).send();n.actorID=null;this.$ReactComposerCollectionStore8({composerID:m,isVisible:false,canvasID:null})};k.prototype.$ReactComposerCollectionStore3=function(l){var m=l.composerID,n=l.postTitle,o=babelHelpers.objectWithoutProperties(l,["composerID","postTitle"]),p=o.attachmentConfig.params;p.title=n;if(o.heroImage)p.images.push(o.heroImage);else if(o.heroVideo)p.video.push(o.heroVideo);o.isLoading=false;this.$ReactComposerCollectionStore12(m,o)};k.prototype.$ReactComposerCollectionStore4=function(l){var m=this.validateAction(l,["composerID","postTitle"]),n=m[0],o=m[1],p=this.getComposerData(n);p.attachmentConfig.params.title=o;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore5=function(l){var m=this.validateAction(l,["composerID","productSetID","productCatalogVertical"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.productSetID=o;q.productCatalogVertical=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore7=function(l,m){var n=this.validateAction(l,"composerID"),o=this.getComposerData(n);o.shouldShowFeaturedProductDialog=m;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore6=function(l){var m=this.validateAction(l,["composerID","featuredRetailerIDs","featuredRetailerImages"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.featuredRetailerIDs=o;q.featuredRetailerImages=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore8=function(l){c("Bootloader").loadModules(["AdsCanvasInlineBuilderActions"],function(m){var n=this.validateAction(l,["composerID","isVisible"]),o=n[0],p=n[1],q=l.canvasID,r=this.getComposerData(o),s=r.defaultCanvasID,t=r.templateID;m.setShowInlineModal(p,q||s,t)}.bind(this),"ReactComposerCollectionStore")};k.prototype.$ReactComposerCollectionStore9=function(l){var m=this.validateAction(l,["composerID","defaultCanvasID","templateID"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerCollectionStore12(n,{defaultCanvasID:o,templateID:p})};k.prototype.shouldShowFeaturedProductDialog=function(l){return this.getComposerData(l).shouldShowFeaturedProductDialog};k.prototype.isCollectionSelected=function(l){return this.getComposerData(l).isCollectionSelected};k.prototype.isLoading=function(l){return this.getComposerData(l).isLoading};k.prototype.getAttachmentConfig=function(l){var m=this.getComposerData(l),n=m.attachmentConfig;return n.params?n:null};k.prototype.getCanvasID=function(l){return this.getComposerData(l).canvasID};k.prototype.getHeroImage=function(l){return this.getComposerData(l).heroImage};k.prototype.getHeroVideo=function(l){return this.getComposerData(l).heroVideo};k.prototype.getItemImages=function(l){var m=this.getComposerData(l),n=m.featuredRetailerIDs,o=m.featuredRetailerImages,p=m.itemIDs,q=m.itemImages,r=n.reduce(function(t,u){t[u]=true;return t},{}),s=q.filter(function(t,u){return!r[p[u]]});return o.concat(s).slice(0,4)};k.prototype.getPostTitle=function(l){var m=this.getComposerData(l),n=m.attachmentConfig.params;return n?n.title:""};k.prototype.getProductCatalogVertical=function(l){return this.getComposerData(l).productCatalogVertical};k.prototype.getProductSetID=function(l){return this.getComposerData(l).productSetID};f.exports=new k()}),null);
__d("ReactComposerFailedMediaUpload.react",["cx","fbt","React","XUIButton.react","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogTitle.react","XUIContextualDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.error["transient"]?c("React").createElement(c("XUIButton.react"),{className:"_4_e",label:i._("Retry"),onClick:this.props.onRetryClick,size:"small",use:"special"}):c("React").createElement(c("XUIButton.react"),{className:"_4_f",label:i._("Okay"),onClick:this.props.onDismissClick,size:"small"});return c("React").createElement("span",null,c("React").createElement("div",{ref:function(o){return this.$ReactComposerFailedMediaUpload1=o}.bind(this),className:"_4_g"},c("React").createElement(c("XUICloseButton.react"),{className:"_2n25",onClick:this.props.onRemoveClick,size:"medium",shade:"light"}),c("React").createElement("p",{className:"_4_h"},i._("Error")),c("React").createElement("div",{className:"_4_i"},c("React").createElement("p",{className:"_4_j"},this.props.filename)),n),c("React").createElement(c("XUIContextualDialog.react"),{contextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),hoverContextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),width:c("XUIContextualDialog.react").WIDTH.NORMAL,position:"right"},c("React").createElement(c("XUIContextualDialogTitle.react"),null,this.props.error.summary),c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement("div",{dangerouslySetInnerHTML:{__html:this.props.error.description}}))))};function m(){j.apply(this,arguments)}m.propTypes={error:l.object.isRequired,filename:l.string,onDismissClick:l.func,onRemoveClick:l.func,onRetryClick:l.func,uploadID:l.string.isRequired};f.exports=m}),null);
__d("ReactComposerPhotoUploader",["ActorURI","AsyncUploadRequest","FaceRecognitionController","JpegResizer","JpegResizerConfig","Map","PhotosUploadID","PhotosUploadWaterfallErrorCodes","ReactComposerLoggingStore","ReactComposerMediaConfig","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMediaUtils","ReactComposerPhotoActions","QE2Logger","SphericalPhotoConfig","XComposerPhotoUploader","ifRequired","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=b.URL||b.webkitURL||{},i="www_js_resize_repack";function j(k,l,m){__p&&__p();this.$ReactComposerPhotoUploader1=k.composerID;this.$ReactComposerPhotoUploader5=m;var n=c("ReactComposerMediaConfig").photo,o=null;if(c("JpegResizer").isSupported()){o=c("JpegResizer").getSingleton(l>1?c("JpegResizer").DEFAULT_POOL_SIZE:1);o.setHighQuality(n.highQuality).setUndershoot(c("JpegResizerConfig").undershoot).setEncodeQuality(c("JpegResizerConfig").quality)}else c("ReactComposerMediaUploadActions").resizerUnavailable(this.$ReactComposerPhotoUploader1);var p=c("ActorURI").create(n.uploadEndpoint,k.actorID);this.$ReactComposerPhotoUploader2=new(c("XComposerPhotoUploader"))({uploadEndpoint:p,uploadData:Object.assign({qn:c("ReactComposerLoggingStore").getSessionID(this.$ReactComposerPhotoUploader1),target_id:k.targetID},n.uploadData),retryLimit:n.retryLimit,concurrentLimit:n.concurrentLimit,resizer:o,onUploadEnqueued:this.$ReactComposerPhotoUploader6.bind(this),onResizeStart:this.$ReactComposerPhotoUploader7.bind(this),onResizeSuccess:this.$ReactComposerPhotoUploader8.bind(this),onResizeFailure:this.$ReactComposerPhotoUploader9.bind(this),onResizeProgress:this.$ReactComposerPhotoUploader10.bind(this),onSphericalCheckSuccess:this.$ReactComposerPhotoUploader11.bind(this),onSphericalCheckFailure:this.$ReactComposerPhotoUploader12.bind(this),onUploadIsSpherical:this.$ReactComposerPhotoUploader13.bind(this),onUploadStart:this.$ReactComposerPhotoUploader14.bind(this),onUploadProgress:this.$ReactComposerPhotoUploader15.bind(this),onUploadSuccess:this.$ReactComposerPhotoUploader16.bind(this),onUploadFailure:this.$ReactComposerPhotoUploader17.bind(this),gks:k.gks});this.$ReactComposerPhotoUploader3=new(c("FaceRecognitionController"))({include_unrecognized_faceboxes:true,include_low_confidence_recognitions:true,include_face_crop_src:true});this.$ReactComposerPhotoUploader3.subscribe("photo",this.$ReactComposerPhotoUploader18.bind(this));this.$ReactComposerPhotoUploader3.subscribe("done",this.$ReactComposerPhotoUploader19.bind(this));this.$ReactComposerPhotoUploader4=new(c("Map"))()}j.prototype.upload=function(k){var l=c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerPhotoUploader1).size;this.$ReactComposerPhotoUploader2.upload(k,l)};j.prototype.retry=function(k){var l=this.$ReactComposerPhotoUploader2.getAsyncUploadRequest([k]);l.send()};j.prototype.getAsyncUploadRequest=function(k,l){return this.$ReactComposerPhotoUploader2.getAsyncUploadRequest(k,l)};j.prototype.enqueueAsyncUploadRequest=function(k,l,m,n,o){l.forEach(function(p){var q=m.indexMap?m.indexMap.get(p.uploadID):c("ReactComposerMediaUploadStore").getUploads(k).size;c("ReactComposerMediaUploadActions").enqueue(k,p.uploadID,p.name,q,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").PHOTO,h.createObjectURL?h.createObjectURL(p):null,n.xyTags,o)});this.getAsyncUploadRequest(l,m).send()};j.prototype.isUploadLimitExceeded=function(k,l){var m=this.getMaxSelectableFilesCount(k),n=!l||!c("AsyncUploadRequest").isSupported()?1:l.length;return n>m};j.prototype.getMaxSelectableFilesCount=function(k){return!!k?c("ReactComposerMediaConfig").photo.limit:1};j.prototype.$ReactComposerPhotoUploader6=function(k){c("ReactComposerMediaUploadActions").enqueue(this.$ReactComposerPhotoUploader1,k.uploadID,k.fileName,c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerPhotoUploader1).size,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").PHOTO,k.fileURL,null,k.isSpherical)};j.prototype.$ReactComposerPhotoUploader13=function(k,l,m){c("ReactComposerMediaUploadActions").isSpherical(this.$ReactComposerPhotoUploader1,k.uploadID,l,m)};j.prototype.$ReactComposerPhotoUploader7=function(k){c("ReactComposerMediaUploadActions").startResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{bytes:k.size});c("QE2Logger").logExposureForUser(i)};j.prototype.$ReactComposerPhotoUploader10=function(k,event){setTimeout(function(){return c("ReactComposerMediaUploadActions").progressResizing(this.$ReactComposerPhotoUploader1,k,100*event.written/event.total)}.bind(this),0)};j.prototype.$ReactComposerPhotoUploader8=function(k,l,m,n){c("ReactComposerMediaUploadActions").doneResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:n,media_data_size:k.size,bytes:l.size,custom_tags:{skipped_resizing:m}})};j.prototype.$ReactComposerPhotoUploader9=function(k,l,m,n){c("ReactComposerMediaUploadActions").failResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:n,bytes:k.size,error_code:m.code,error_info:m.message})};j.prototype.$ReactComposerPhotoUploader11=function(k,l,m){var n=m.isSpherical()&&c("SphericalPhotoConfig").is_www_perceived_perf_on;c("ReactComposerMediaUploadActions").doneSphericalCheck(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:l,projection_type:m.getProjectionType()},m,n)};j.prototype.$ReactComposerPhotoUploader12=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?false:arguments[2],n=m?c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_TIMEOUT:c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_FAILED;c("ReactComposerMediaUploadActions").failSphericalCheck(this.$ReactComposerPhotoUploader1,k.uploadID,{error_code:n,dt:l})};j.prototype.$ReactComposerPhotoUploader14=function(k,l){c("ReactComposerMediaUploadActions").startUploading(this.$ReactComposerPhotoUploader1,k,l.upload,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING);this.$ReactComposerPhotoUploader4.set(k,c("performanceNow")())};j.prototype.$ReactComposerPhotoUploader15=function(k,l){setTimeout(function(){return c("ReactComposerMediaUploadActions").progressUploading(this.$ReactComposerPhotoUploader1,k,100*l.event.loaded/l.event.total,false,null)}.bind(this),0)};j.prototype.$ReactComposerPhotoUploader16=function(k,l){__p&&__p();if(c("ReactComposerMediaUploadStore").getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,k))return;if(!l.response.payload)return;var m=Array.isArray(l.response.payload)?l.response.payload:[l.response.payload],n=this.$ReactComposerPhotoUploader4.get(k)||0,o=n?c("performanceNow")()-n:0,p=m[0],q=m.slice(1);c("ReactComposerMediaUploadActions").doneUploading({composerID:this.$ReactComposerPhotoUploader1,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE,fileUpload:l.upload,timeToUpload:o,photoID:p.photoID,sphericalPhotoID:p.sphericalPhotoID,thumbSrc:p.thumbSrc,originalPhotoID:p.originalPhotoID,mediaLocation:p.mediaLocation,cubestripURI:c("SphericalPhotoConfig").spherical_photo_www_upload&&p.cubestripURI||null,imageSrc:p.imageSrc,width:p.width,height:p.height,mediaTakenTime:p.mediaTakenTime});c("ReactComposerMediaUtils").changeToPeopleTaggerAfterUpload(this.$ReactComposerPhotoUploader1);this.$ReactComposerPhotoUploader20(k,p,l.upload);q.forEach(function(r){var s=c("PhotosUploadID").getNewID();c("ReactComposerMediaUploadActions").doneUploadingExtra(this.$ReactComposerPhotoUploader1,s,r.photoID,r.thumbSrc,c("SphericalPhotoConfig").spherical_photo_www_upload&&r.cubestripURI||null,r.imageSrc,r.width,r.height);this.$ReactComposerPhotoUploader20(s,r,l.upload)}.bind(this))};j.prototype.$ReactComposerPhotoUploader20=function(k,l,m){if(this.$ReactComposerPhotoUploader21()){c("ReactComposerPhotoActions").startRecognizing(this.$ReactComposerPhotoUploader1,l.photoID);this.$ReactComposerPhotoUploader3.start([l.photoID])}var n=c("ReactComposerMediaUploadStore").getMediaUpload(this.$ReactComposerPhotoUploader1,k);if(n.xyTags)c("ReactComposerMediaUtils").handleXYTagsOnly(this.$ReactComposerPhotoUploader1,n.photoID,n.xyTags)};j.prototype.$ReactComposerPhotoUploader17=function(k,l,m){if(c("ReactComposerMediaUploadStore").getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,k))return;var n=l.response,o={code:n.getError(),description:n.getErrorDescription(),summary:n.getErrorSummary(),"transient":n.isTransient()||n.getError()==1004||n.getError()==1006};c("ReactComposerMediaUploadActions").failUploading(this.$ReactComposerPhotoUploader1,k,l.upload,c("performanceNow")()-this.$ReactComposerPhotoUploader4.get(k),o,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED)};j.prototype.$ReactComposerPhotoUploader18=function(k,l){if(this.$ReactComposerPhotoUploader21())l.faceboxes.forEach(function(m){var n=void 0;if(m.recognitions.length>0){var o=m.recognitions[0].user;n={subjectID:o.fbid,value:o.name}}c("ReactComposerPhotoActions").addFacebox(this.$ReactComposerPhotoUploader1,l.photo,{id:m.fbid,x:m.x,y:m.y,top:m.top,left:m.left,width:m.width,height:m.height,croppedURI:m.src,bestRecognition:n,allRecognitions:m.allRecognitions})}.bind(this));c("ReactComposerPhotoActions").finishRecognizingPhoto(this.$ReactComposerPhotoUploader1,l.photo)};j.prototype.$ReactComposerPhotoUploader19=function(k,l){c("ReactComposerPhotoActions").finishRecognizing(this.$ReactComposerPhotoUploader1,l.unresolved,l.facerecWaterfallEvent||null)};j.prototype.$ReactComposerPhotoUploader21=function(){if(this.$ReactComposerPhotoUploader5.disableFaceRecognition)return false;return c("ifRequired")("ReactComposerOptimisticPostingStore",function(k){return!k.isOptimisticallyPosting(this.$ReactComposerPhotoUploader1)}.bind(this),function(){return true})};f.exports=j}),null);
__d("ReactComposerFailedPhotoUploadContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerFailedMediaUpload.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoUploader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholderContainer",_uploader:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{mediaConfig:h.object.isRequired},render:function j(){return c("React").createElement(c("ReactComposerFailedMediaUpload.react"),babelHelpers["extends"]({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function j(){c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function j(){var k=c("ReactComposerMediaUploadStore").getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload.getFile();k.manuallyRetried=true;c("ReactComposerMediaUploadActions").retryMediaUpload(this.context.composerID,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY);if(!this._uploader)this._uploader=new(c("ReactComposerPhotoUploader"))(this.context,this.props.mediaConfig.photoLimit,{disableFaceRecognition:this.props.mediaConfig.disableFaceboxTagger});this._uploader&&this._uploader.retry(k)}});f.exports=i}),null);
__d("ReactComposerPhotoThumbnail.react",["Image.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(i){if(i.bgURL){var j={backgroundImage:"url("+i.bgURL+")"};return c("React").createElement("div",{className:i.bgClassName,style:j})}else if(i.imgSrc)return c("React").createElement(c("Image.react"),{alt:i.alt,className:i.imgClassName,src:i.imgSrc,style:i.style,width:i.width,height:i.height});return null};f.exports=h}),null);
__d("XReactComposerQAndAAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/qanda/bootstrap/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}})}),null);
__d("ReactComposerQAndALazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerQAndAAttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerQAndALazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").QANDA},propTypes:{bootloader:c("ReactComposerBootloaderPropTypes")},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.qandaAttachment)this.props.bootloader.qandaAttachment(j);else c("Bootloader").loadModules(["ReactComposerQAndAAttachmentContainer.react","ReactComposerFeedMediaPostButtonContainer.react"],j,"ReactComposerQAndALazyAttachment.react")},getBootstrapURI:function i(){var j=c("XReactComposerQAndAAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setInt("target_id",this.context.targetID).getURI();return c("ActorURI").create(j,this.context.actorID)}});f.exports=h}),null);
__d("ReactComposerVisualPollLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerQuestionAttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerVisualPollLazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").VISUAL_POLL},propTypes:{additionalTaggers:h.arrayOf(h.shape({button:h.element.isRequired,container:h.element.isRequired})),additionalFooterActions:h.arrayOf(h.element),selected:h.bool,bootload:h.func,bootloader:c("ReactComposerBootloaderPropTypes")},bootload:function j(k){if(this.props.bootload)this.props.bootload(k);else if(this.props.bootloader&&this.props.bootloader.visualPollAttachment)this.props.bootloader.visualPollAttachment(k);else c("Bootloader").loadModules(["ReactComposerVisualPollAttachmentContainer.react","ReactComposerVisualPollPostButtonContainer.react"],k,"ReactComposerVisualPollLazyAttachment.react")},getBootstrapURI:function j(){return c("ActorURI").create(c("XReactComposerQuestionAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});f.exports=i}),null);
__d("ReactComposerStatusAttachmentFocusActionType",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({FOCUS_STATUS_INPUT:null,DO_NOT_FOCUS_STATUS_INPUT:null})}),null);
__d("ReactComposerStatusAttachmentFocusStore",["ReactComposerStatusAttachmentFocusActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){var k=void 0;i.constructor.call(this,function(){return{isInputFocused:false}},function(l){switch(l.type){case c("ReactComposerStatusAttachmentFocusActionType").FOCUS_STATUS_INPUT:k&&k.$ReactComposerStatusAttachmentFocusStore1(l);break;case c("ReactComposerStatusAttachmentFocusActionType").DO_NOT_FOCUS_STATUS_INPUT:k&&k.$ReactComposerStatusAttachmentFocusStore2(l);break}});k=this}j.prototype.isInputFocused=function(k){return this.getComposerData(k).isInputFocused};j.prototype.$ReactComposerStatusAttachmentFocusStore1=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.isInputFocused=true;this.emitChange(l)};j.prototype.$ReactComposerStatusAttachmentFocusStore2=function(k){var l=k.composerID,m=this.getComposerData(l);m.isInputFocused=false;this.emitChange(l)};f.exports=new j()}),null);
__d("ReactComposerStatusAttachmentMentionsInput.react",["cx","addEmojiInput","Arbiter","MentionsInput.react","React","ReactComponentWithPureRenderMixin","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerInit","ReactComposerTaggerType","SubscriptionsHandler","XUITypeaheadView.react","ifRequired","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("addEmojiInput")(c("MentionsInput.react")),k=c("React").createClass({displayName:"ReactComposerStatusAttachmentMentionsInput",_subscriptions:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{config:c("ReactComposerConfig"),mentionsSource:i.object,preventFocus:i.bool,typeaheadReporter:i.object,onChange:i.func,onFocus:i.func,onPasteFiles:i.func},componentWillUnmount:function l(){this.props.onBlur&&this.props.onBlur(this.props.editorState);this._subscriptions&&this._subscriptions.release()},componentWillMount:function l(){var m=new(c("SubscriptionsHandler"))();if(!this.props.preventFocus)m.addSubscriptions(c("Arbiter").subscribe([c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus()}.bind(this)));this._subscriptions=m},componentDidCatch:function l(m,n){},render:function l(){var m=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[c("ReactComposerTaggerType").PEOPLE],n=m&&m.typeaheadView?m.typeaheadView:c("XUITypeaheadView.react"),o=m&&m.typeaheadViewProps?m.typeaheadViewProps:{},p=Object.assign({},{ariaMultiline:true,role:"textbox",typeaheadView:n,typeaheadViewProps:o,selectOnTab:false,spellCheck:true},this.props,{className:c("joinClasses")("_1mwp navigationFocus",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return c("React").createElement(j,babelHelpers["extends"]({ref:"mentionsInput"},p,{webDriverTestID:"status-attachment-mentions-input"}))},focus:function l(){if(!c("ReactComposerInit").isInstanceMounted(this.context.composerID))c("Arbiter").subscribeOnce([c("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID],function(){return this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()}.bind(this));else this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function l(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onAddMention:function l(m,n,o){var p=this.props.typeaheadReporter;if(p){p.reportSelect(m.getUniqueID(),m.getType(),n,o.button>=0);p.sessionEnd();p.sessionStart()}if(m.getType()==="event")c("ifRequired")("ReactComposerEventAttachmentActions",function(q){return q.fetchEventAttachment(this.context.composerID,m.getUniqueID())}.bind(this))},_onShowMentions:function l(m,n){var o=this.props.typeaheadReporter;if(o)o.reportResults(m.map(function(p){return p.getUniqueID()}))},_onFocus:function l(){var m=this.props.typeaheadReporter;if(m)m.sessionStart();this.props.onFocus&&this.props.onFocus()},_onChange:function l(m){this.props.onChange&&this.props.onChange(m)},_onBlur:function l(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.props.editorState)}});f.exports=k}),null);
__d("ReactComposerHandleUnsavedChanges",["fbt","ComposerEntryPointRef","Map","PageTransitions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingActions","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingStore","ReactComposerPhotoStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerVideoUploadStore","Run","URI","idx"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={customChecks:new(c("Map"))(),handler:function j(k,l){__p&&__p();var m=c("URI").getMostRecentURI(),n=c("URI").getNextURI(),o=Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&!Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater")&&l.toString()===n.toString(),p=l.toString()===m.toString()&&!Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater"),q=Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater")&&m.toString()!==n.toString();if(p||o||q)c("Run").onAfterLoad(function(){return c("Run").onBeforeUnload(function(){return i.handler(k,l)})});if(p||o||q||c("ReactComposerStore").hasPostSucceeded(k)||c("ReactComposerStore").isPublishing(k))return null;var r=i.hasUnsavedChanges(k);if(r&&!(b.Dialog&&b.Dialog.getCurrent())){c("ReactComposerLoggingActions").composerNavigateAwayAttempt(k);return i.getUnsavedChangesMessage(k)}else return null},addCustomCheck:function j(k,l){var m=[];if(i.customChecks.has(k))m=i.customChecks.get(k);if(m){m.push(l);i.customChecks.set(k,m)}},hasUnsavedChanges:function j(k){__p&&__p();var l;if(!c("ReactComposerInit").isInstanceMounted(k))return false;if(((l=c("ReactComposerInit").instances.get(k))!=null?(l=l.props)!=null?(l=l.contextConfig)!=null?l.composerType:l:l:l)===c("ComposerEntryPointRef").FEED_SPROUTS_DIALOG)return false;var m=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").MEDIA),n=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").LIVE_BROADCAST),o=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").VISUAL_POLL),p=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").MLE),q=c("ReactComposerStatusStore").getTextLength(k)>0,r=m&&(c("ReactComposerMediaUploadStore").isUploading(k)||c("ReactComposerPhotoStore").isRecognizing(k)||c("ReactComposerPhotoStore").getPhotos(k).size>0),s=m&&(c("ReactComposerVideoUploadStore").isUploading(k)||c("ReactComposerVideoUploadStore").getVideo(k)),t=!c("ReactComposerTaggerStore").areAllTaggersEmpty(k),u=c("ReactComposerScrapedAttachmentStore").hasAttachment(k),v=i.customChecks.get(k),w=false;if(v)for(var x=v,y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A;w=w||B()}var C=q||r||s||t||u||n||o||w||p;return!!C},getUnsavedChangesMessage:function j(k){if(c("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(k))return h._("Your post is still uploading. Do you want to leave without finishing the upload?");var l=c("ReactComposerStore").getRef(k);switch(l){case c("ComposerEntryPointRef").EDIT_DIALOG:return h._("Are you sure you want to discard your changes?");default:return h._("You haven't finished your post yet. Do you want to leave without finishing?")}}};f.exports=i}),null);
__d("ReactComposerInputDecorator",[],(function a(b,c,d,e,f,g){"use strict";f.exports={NONE:0,MENTIONS:1,RICH_TEXT:2}}),null);
__d("ReactComposerStatusAttachmentMentionsInputVariant.react",["cx","EmojiInputButton.react","Keys","React","ReactComposerActions","ReactComposerAttachmentType","ReactComposerStatusAttachmentMentionsInput.react","ReactComposerStickerContainer","UserAgent_DEPRECATED","emptyFunction","getCampfireKeyBinding","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerStickerContainer").ReactComposerStickerComponent;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.$ReactComposerStatusAttachmentMentionsInputVariant1=function(n){var o=/^image\//;n=n.filter(function(p){return o.test(p.type)});if(n.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(n);return true}return false}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant2=function(event,n){var o=c("UserAgent_DEPRECATED").osx()?event.metaKey:event.ctrlKey;if(event.keyCode===c("Keys").RETURN&&o){this.blur();setTimeout(this.props.onPostIntent,0);return true}return false}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant3=function(){c("ReactComposerActions").expandSprouts(this.props.compositionID)}.bind(this)}l.prototype.render=function(){__p&&__p();var m=this.props.config&&this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],n=null;if(this.props.useRichTextEditor){var o=m.richTextEditor;n=c("React").createElement(o,babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_3w8y _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _n7q":"")),canAttachVideo:false,canAttachPhoto:false,canAttachEmbed:false,onSave:c("emptyFunction"),spellCheck:true,autoCorrect:false,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2,keyBindingFn:c("getCampfireKeyBinding"),ref:"mentionsInput"}))}else n=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInput.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":"")+(this.props.config&&this.props.config.showExpandedComposer?" _4c_p":"")+(m&&m.showProfilePic?" _5bu_":"")+(this.props.isPosting?" _1udp":"")+(this.props.shouldUseLargeText?" _17nh":"")+(m&&m.largeTextThreshold?" _34nd":"")+" _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _hjn":"")),ref:"mentionsInput",readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2}));var p="_3nc-",q="_3nc_",r="_5zq9",s=c("React").createElement(c("EmojiInputButton.react"),{buttonClassName:p,iconActiveClassName:r,iconClassName:q,onSelect:this.props.onInsertEmoji,onClick:this.$ReactComposerStatusAttachmentMentionsInputVariant3}),t=null;if(k)t=c("React").createElement(k,{sticker:this.props.sticker,composerID:this.props.compositionID});return c("React").createElement("div",{className:"_3nd0"},t,n,s)};l.prototype.blur=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()};l.prototype.focus=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()};f.exports=l}),null);
__d("ReactComposerFileUtils",["fbt","ExceptionDialog","ReactComposerWorkFileAttachmentUploadContainer"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("ReactComposerWorkFileAttachmentUploadContainer").module,j={selectFileOrWorkFileModule:function k(l,m){return i?m:l},hasExceededFileSize:function k(l){var m=arguments.length<=1||arguments[1]===undefined?Infinity:arguments[1],n=l.size>m;if(n)c("ExceptionDialog").show(h._("File Too Large").toString(),h._("The file you uploaded is too large.").toString());return n}};f.exports=j}),null);
__d("ReactComposerScrapedAttachmentActions",["ReactComposerDispatcher","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerScrapedAttachmentStore");h.prototype.enabled=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED,enabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setScrapedAttachment=function(i,j,k,l,m,n,o){"use strict";var p={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,sourceLoggingName:l,postConfirmationDialog:m,hasDisputedWarning:n,breakingNewsConfig:o};c("ReactComposerDispatcher").dispatch(p)};h.prototype.setScrapedAttachmentWithoutLogging=function(i,j,k,l,m){"use strict";var n={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,suppressWaterfallLogging:true,postConfirmationDialog:l,hasDisputedWarning:m};c("ReactComposerDispatcher").dispatch(n)};h.prototype.setPermissiveMatch=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.scrapeAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED,targetID:j,value:k,entryPoint:l,actorID:m,sourceLoggingName:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setShareAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED,targetID:j,actorID:k,shareType:l,shareParams:m,isFbPhotoShare:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.uploadImagesForCarousel=function(i){"use strict";var j={composerID:i.composerID,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD,targetID:i.targetID,scrapeUrl:i.scrapeUrl,carouselParams:i.carouselParams,entryPoint:i.entryPoint,actorID:i.actorID};c("ReactComposerDispatcher").dispatch(j)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerStatusUtils",["Bootloader","PUWMethods","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerFileActions","ReactComposerFileUtils","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerWorkFileActions","URLMatcher","URLScraper","uniqueID"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("ReactComposerWorkFileActions").module,i={scrapeLink:function j(k,l,m,n,o,p){__p&&__p();if(!c("ReactComposerScrapedAttachmentStore").isEnabled(k))return;if(c("ReactComposerScrapedAttachmentStore").getMarkup(k))return;var q=c("URLMatcher").permissiveMatch(m);if(q!==c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(k)){c("ReactComposerScrapedAttachmentActions").setPermissiveMatch(k,q);var r=i.validateUrl(c("URLScraper").match(m)||q);if(r)c("ReactComposerScrapedAttachmentActions").scrapeAttachment(k,l,r,n,o,p)}},uploadPastedFile:function j(k,l,m){c("ReactComposerLoggingActions").mediaFilePasted(k);l.uploadID=c("uniqueID")();l.name="";m&&m.enqueueAsyncUploadRequest(k,[l],{},{},false);c("ReactComposerLoggingActions").mediaFilePasteFinished(k)},uploadDroppedMedia:function j(k,l,m,n,o,p){c("ReactComposerLoggingActions").mediaFileDropped(k);c("ReactComposerAttachmentActions").selectAttachment(k,c("ReactComposerAttachmentType").MEDIA,true,c("ReactComposerLoggingName").MEDIA_FILE_DROPPED);c("Bootloader").loadModules(["ReactComposerMediaUtils"],function(q){var r=q.getFileNames(l),s=q.hasVideos(r);if(o.enableVideoUploadDialogForDropppedFiles&&l.length==1&&s)q.handleVideoUploadForDroppedFiles(l,o,p);else q.uploadPhotosOrVideo(k,l,m,true,c("PUWMethods").DRAGDROP,n);c("ReactComposerLoggingActions").mediaFileDropFinished(k)},"ReactComposerStatusUtils")},loadDroppedFile:function j(k,l){if(/\.(glb)$/i.test(l.name)){c("ReactComposerTaggerActions").setTaggerData(k,c("ReactComposerLoggingName").ASSET_3D,c("ReactComposerTaggerType").ASSET_3D,{file:l});c("ReactComposerAttachmentActions").selectAttachment(k,c("ReactComposerAttachmentType").STATUS,true,c("ReactComposerLoggingName").FILE_DROPPED)}else{c("ReactComposerAttachmentActions").selectAttachment(k,c("ReactComposerAttachmentType").FILE,true,c("ReactComposerLoggingName").FILE_DROPPED);c("ReactComposerFileUtils").selectFileOrWorkFileModule(c("ReactComposerFileActions"),h).saveFile(k,{file:l,name:l.name})}},handleMarkdownPreview:function j(k,l,m,n){__p&&__p();if(!m)return;var o=m.action;if(!n)n=c("ReactComposerStatusStore").getEditorState(k);if(!n)return;var p=!!c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").MARKDOWN).isMarkdown;if(p)o.updatePreview(k,l,n.getCurrentContent())},validateUrl:function j(k){if(!k||k=="about:blank"||k=="http://"||i.validateUrlHasNoHostnameOrIp(k))return null;else return k},validateUrlHasNoHostnameOrIp:function j(k){if(k.indexOf(".")>=0)return false;if(k.indexOf("[")>=0&&k.indexOf("]")>=0&&k.indexOf(":")>=0)return false;return true}};f.exports=i}),null);
__d("ImplicitLink.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",{"data-offset-key":this.props.offsetKey,className:"_2ou",spellCheck:false},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("getRichTextInputDecorator",["CompositeDraftDecorator","EmojiSpan.react","EmoticonSpan.react","HashtagSpan.react","ImplicitLink.react","MentionSpan.react","RichTextEditorLink.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches","getImplicitURLMatches"],(function a(b,c,d,e,f,g){__p&&__p();var h=void 0;function i(){if(!h)h=new(c("CompositeDraftDecorator"))([{strategy:c("getEntityMatcher")(function(j){var k=j.getData();return j.getType()==="MENTION"&&k&&k.isWeak}),component:c("WeakMentionSpan.react")},{strategy:c("getEntityMatcher")(function(j){return j.getType()==="MENTION"}),component:c("MentionSpan.react")},{strategy:c("getEntityMatcher")(function(j){return j.getType()==="EMOTICON"}),component:c("EmoticonSpan.react")},{strategy:c("getHashtagMatches"),component:c("HashtagSpan.react")},{strategy:c("getEntityMatcher")(function(j){return j.getType()==="EMOJI"}),component:c("EmojiSpan.react")},{strategy:c("getEntityMatcher")(function(j){return j.getType()==="LINK"}),component:c("RichTextEditorLink.react")},{strategy:c("getImplicitURLMatches"),component:c("ImplicitLink.react")}]);return h}f.exports=i}),null);
__d("getReactComposerEmojiInputDecorator",["EmojiInputDecorator","EmojiSpan.react","ReactComposerInputDecorator","getMentionsInputDecorator","getRichTextInputDecorator","memoizeWithArgs"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("memoizeWithArgs")(function(i,j){var k=null;if(i===c("ReactComposerInputDecorator").RICH_TEXT)k=c("getRichTextInputDecorator")();else if(i===c("ReactComposerInputDecorator").MENTIONS)k=c("getMentionsInputDecorator")();if(j)k=new(c("EmojiInputDecorator"))(c("EmojiSpan.react"),k,{size:j});return k},function(i,j){if(!j)return"#"+i;return i+"_"+j});f.exports=h}),null);
__d("ReactComposerStatusAttachmentMentionsInputContainer.react",["Arbiter","EditorState","LitestandStoryInsertionStatus","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextTypes","getReactComposerEmojiInputDecorator","ReactComposerEvents","ReactComposerOptimisticPostingActions","ReactComposerHandleUnsavedChanges","ReactComposerInputDecorator","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputVariant.react","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","TextDelightEvents","UnicodeUtils","addEmojiToEditorState","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=function i(k,l){var m=c("ReactComposerAttachmentStore").getSelectedAttachmentID(k);if(m===c("ReactComposerAttachmentType").LIVE_VIDEO||m===c("ReactComposerAttachmentType").SELL)return false;var n=l&&l.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],o=c("ReactComposerTaggerStore").hasMarkdown(k);return!!(n&&n.richTextEditor&&!o)},j=c("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputContainer",_rerenderSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerStatusStore"),c("ReactComposerStore"),c("ReactComposerTaggerStore"))],propTypes:{config:c("ReactComposerConfig"),mentionsEnabled:h.bool,mentionsSource:h.object,onChange:h.func,onFocus:h.func,onPasteFiles:h.func,handlePastedText:h.func},getDefaultProps:function k(){return{mentionsEnabled:true}},getInitialState:function k(){return{isFocused:false}},statics:{calculateState:function k(l,m){__p&&__p();var n=c("ReactComposerStatusStore").getEditorState(l),o=m.config&&m.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],p=false,q=c("ReactComposerStatusStore").getTextLength(l),r=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),s=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l),t=i(l,m.config),u=c("ReactComposerInputDecorator").NONE;if(m.mentionsEnabled)u=o&&o.richTextEditor?c("ReactComposerInputDecorator").RICH_TEXT:c("ReactComposerInputDecorator").MENTIONS;if(o&&o.largeTextThreshold&&c("ReactComposerMediaUploadStore").getUploadsCount(l)===0&&!c("ReactComposerScrapedAttachmentStore").hasAttachment(l)&&!c("ReactComposerTaggerStore").hasExplicitLocation(l)&&!c("ReactComposerTaggerStore").hasMarkdown(l)&&c("ReactComposerMinutiaeAttachmentStore").getMarkup(l)===null&&s!==c("ReactComposerAttachmentType").FIND_PLAYERS&&s!==c("ReactComposerAttachmentType").SELL){if(!q&&n){var v=n.getCurrentContent();q=c("UnicodeUtils").strlen(v.getPlainText())}var w=m.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].placeholderText;if(w&&w.length<=o.LargePlaceholderTextThreshold&&q===0&&r||q!==0&&q<=o.largeTextThreshold)p=true;c("ifRequired")("ReactComposerFormattedTextStore",function(z){var A=z.getSelectedIndex(l);if(A>-1){p=true;u=m.mentionsEnabled?c("ReactComposerInputDecorator").MENTIONS:c("ReactComposerInputDecorator").NONE;t=false}})}var x=c("getReactComposerEmojiInputDecorator")(u,p&&!t?28:16),y=void 0;if(n)if(n.getDecorator()!==x){y=c("EditorState").set(n,{decorator:x});c("ReactComposerStatusActions").setEditorState(l,y)}else y=n;else{y=c("EditorState").createEmpty(x);c("ReactComposerStatusActions").setEditorState(l,y)}return{activeEditorState:c("ReactComposerStatusStore").getActiveEditorState(l),editorState:y,isSelectedAttachmentActive:c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),mentionsSource:m.mentionsEnabled?c("ReactComposerStatusStore").getMentionsSource(l):null,posting:c("ReactComposerStore").isPosting(l),typeaheadReporter:c("ReactComposerStatusStore").getTypeaheadReporter(l),shouldUseLargeText:p,selectedSticker:c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").STICKER),useRichText:t}}},componentWillMount:function k(){if(this.props.mentionsSource)c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=c("LitestandStoryInsertionStatus").registerBlocker(function(){return c("ReactComposerHandleUnsavedChanges").hasUnsavedChanges(this.context.composerID)||this.state.isFocused}.bind(this))},componentDidMount:function k(){var l=c("ReactComposerStatusStore").getEditorState(this.context.composerID);if(this.state.editorState!==l){this._pendingEditorStateUpdateFromMount=l;this.setState({editorState:l},function(){this._pendingEditorStateUpdateFromMount=undefined}.bind(this))}this._rerenderSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").RERENDER_MENTION_INPUT+this.context.composerID,function(){this.setState({editorState:c("ReactComposerStatusStore").getEditorState(this.context.composerID)})}.bind(this));c("TextDelightEvents").bootloadTextDelightsController("post")},componentWillReceiveProps:function k(l){if(this.props.mentionsSource!==l.mentionsSource)c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,l.mentionsSource);if(l.editorState===null){var m=c("EditorState").createEmpty(c("getReactComposerEmojiInputDecorator")(c("ReactComposerInputDecorator").MENTIONS));c("ReactComposerStatusActions").setEditorState(this.context.composerID,m);this.setState({editorState:m})}},componentWillUnmount:function k(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;this._rerenderSubscription&&this._rerenderSubscription.unsubscribe()},render:function k(){return c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputVariant.react"),babelHelpers["extends"]({},this.props,{activeEditorState:this.state.activeEditorState,compositionID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onInsertEmoji:this._onInsertEmoji,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:"mentionsInput",shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this.state.useRichText,sticker:this.state.selectedSticker}))},focus:function k(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus();if(this._pendingEditorStateUpdateFromMount!==undefined)this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()}.bind(this))},_onFocus:function k(){c("Arbiter").inform(c("ReactComposerEvents").MENTION_INPUT_FOCUS+this.context.composerID);this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus()},_onChange:function k(l){__p&&__p();if(this._pendingEditorStateUpdateFromMount!==undefined)return;var m=0;if(l){var n=l.getCurrentContent();m=n?c("UnicodeUtils").strlen(n.getPlainText()):0;if(c("ReactComposerStatusStore").getEditorState(this.context.composerID)!==l){c("ReactComposerStatusActions").setEditorState(this.context.composerID,l);c("ReactComposerStatusActions").setTextLength(this.context.composerID,m);if(n)c("TextDelightEvents").emitScrapablePost(n.getPlainText())}}this._handleMarkdownChange(l);this.props.onChange&&this.props.onChange(l);this.setState({editorState:l})},_onInsertEmoji:function k(l){var m=c("ReactComposerStatusStore").getActiveEditorState(this.context.composerID),n=c("ReactComposerStatusStore").getActiveLanguageDialect(this.context.composerID);c("addEmojiToEditorState")(l,m,n==null?this._onChange:this._onMultilingualEditorChange)},_onMultilingualEditorChange:function k(l){var m=this.context.composerID,n=c("ReactComposerStatusStore").getActiveEditorState(m),o=c("ReactComposerStatusStore").getActiveLanguageDialect(m);if(n!==l)c("ifRequired")("ReactComposerMultilingualStatusActions",function(p){p.setEditorState(m,o,l)})},_handleMarkdownChange:function k(l){var m=this.props.config?this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS]:null;c("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,m?m.markdownPreviewAttachment:null,l)},_onBlur:function k(l){c("ReactComposerStatusActions").setEditorState(this.context.composerID,l);this.setState({isFocused:false})},_onPostIntent:function k(){if(this.context.gks.optimisticPosting)c("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,c("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID);else c("ReactComposerActions").postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}});f.exports=j}),null);
__d("ReactComposerStatusMentionsUtils",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getMentionsFromEditorState:function i(j){__p&&__p();var k=j.getCurrentContent(),l={};k.getBlockMap().forEach(function(m){__p&&__p();var n=m.getText();m.findEntityRanges(function(){return true},function(o,p){var q=m.getEntityAt(o);if(!q)return;var r=k.getEntity(q);if(r.getType()!=="MENTION"||r.getData().type!=="user")return;var s=r.getData().id;l[s]={type:"user",uid:s,text:n.slice(o,p),isWeak:r.getData().isWeak}})});return l}};f.exports=h}),null);
__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","ReactComposerStatusMentionsUtils","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],render:function j(){var k=c("joinClasses")(this.props.className,"_395");return c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputContainer.react"),babelHelpers["extends"]({},this.props,{className:k,onChange:this._onChange,ref:"mentionsInput"}))},focus:function j(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},insertEmoji:function j(k){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.insertEmoji(k)},_onChange:function j(k){c("ReactComposerStatusActions").setMentions(this.context.composerID,c("ReactComposerStatusMentionsUtils").getMentionsFromEditorState(k));this.props.onChange&&this.props.onChange(k)}});f.exports=i}),null);
__d("ReactComposerAttachmentPreviewContainer.react",["csx","cx","fbt","Arbiter","DOM","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentPreview.react","ReactComposerConstants","ReactComposerContextTypes","ReactComposerEvents","ReactComposerEventAttachmentStore","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerMinutiaeAttachmentStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerActions","ReactComposerWorkFileStore","ReactDOM","XUICloseButton.react","CSS","ifRequired"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("ReactComposerWorkFileStore").module,l=c("React").PropTypes,m=[c("ReactComposerEventAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerLocationAttachmentStore"),c("ReactComposerTaggerStore")];if(k)m.push(k);var n=c("React").createClass({displayName:"ReactComposerAttachmentPreviewContainer",_buttonEvent:undefined,_breakingNewsEditButtonEvent:undefined,_prefillSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin").apply(undefined,m)],propTypes:{markup:l.instanceOf(HTMLElement),spinner:l.element,isAttachmentBreaking:l.bool},statics:{calculateState:function o(p,q){__p&&__p();var r,s=c("ReactComposerScrapedAttachmentStore").getMarkup(p),t=c("ReactComposerScrapedAttachmentStore").isReadOnly(p),u=c("ReactComposerMinutiaeAttachmentStore").getMarkup(p),v=c("ReactComposerLocationAttachmentStore").getMarkup(p),w=c("ReactComposerEventAttachmentStore").getMarkup(p),x=c("ReactComposerScrapedAttachmentStore").isScraping(p)||c("ReactComposerMinutiaeAttachmentStore").isFetching(p)||c("ReactComposerLocationAttachmentStore").isFetching(p)||c("ReactComposerEventAttachmentStore").isFetching(p),y=null;if(k)(function(){var D=c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(p),E=k.getSelectedAppsFiles(p).find(function(F){return F.url===D});y=E?E.name:null})();var z=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUN_FACT),A=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUNDRAISER),B=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").ASSET_3D);if(z||A||B){u=null;v=null;w=null;x=c("ReactComposerScrapedAttachmentStore").isScraping(p)}if(B){s=null;x=false}var C=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").BREAKING_NEWS);return{isAttachmentBreaking:C,markup:s||u||w||v,showSpinner:x,showRemoveButton:s&&t,title:y}}},componentDidMount:function o(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent()},componentDidUpdate:function o(){this._setButtonEvent()},componentWillUnmount:function o(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent()},render:function o(){this._maybeRemoveBreakingFromPreview();this._maybeAddBreakingToPreview();var p=this.state.markup&&!this.state.showSpinner?c("React").createElement("div",{"data-testid":"attachment-preview-body",className:"_2ane"},c("React").createElement(c("ReactComposerAttachmentPreview.react"),{isAttachmentBreaking:this.state.isAttachmentBreaking,ref:"attachment",markup:this.state.markup}),this._renderRemoveButton()):null;return c("React").createElement("div",{"data-testid":"attachment-preview"},this._renderSpinner(),p)},_handlePrefill:function o(){__p&&__p();var p=c("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"attachmentPreviewData");if(p)if(p.scrapedAttachment){if(p.scrapedAttachment.markup)c("ReactComposerScrapedAttachmentActions").setScrapedAttachmentWithoutLogging(this.context.composerID,p.scrapedAttachment.markup,p.scrapedAttachment.attachmentConfig);else if(p.minutiaeAttachment.markup)c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,p.minutiaeAttachment.markup)}else if(p.scrapedURL)c("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,p.scrapedURL,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)},_renderRemoveButton:function o(){if(!this.state.markup||!this.state.showRemoveButton)return null;return c("React").createElement("div",{className:"_2anf"},c("React").createElement(c("XUICloseButton.react"),{className:"_2anh",size:"medium",shade:"light",onClick:this._clearAttachment}))},_renderSpinner:function o(){if(!this.state.showSpinner)return null;var p=this.state.title?c("React").createElement("span",{className:"_239x"},this.state.title):null;return c("React").createElement("div",{className:"_239z"},this.props.spinner,c("React").createElement("div",{className:"_3-8y"},p,j._("Fetching preview")))},_setButtonEvent:function o(){__p&&__p();if(this.refs.attachment){var p=c("DOM").scry(c("ReactDOM").findDOMNode(this.refs.attachment),"._9s")[0];if(p)this._buttonEvent=c("Event").listen(p,"click",function(event){event.preventDefault();this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null}.bind(this));c("Arbiter").inform("react_composer_dom_ready/"+this.context.composerID)}},_clearAttachment:function o(){c("ReactComposerScrapedAttachmentActions").setScrapedAttachment(this.context.composerID,null,{},c("ReactComposerLoggingName").LINK_REMOVE_BUTTON);c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);c("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null);c("ifRequired")("ReactComposerEventAttachmentActions",function(p){return p.setMarkup(this.context.composerID,null,null)}.bind(this));c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").LINK_REMOVE_BUTTON,c("ReactComposerTaggerType").GIF,{gifData:null});c("ReactComposerMinutiaeAttachmentActions").setHideAttachment(this.context.composerID,true)},_editBreakingNews:function o(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").BREAKING_NEWS,c("ReactComposerTaggerType").BREAKING_NEWS)},_cleanupButtonEvent:function o(){this._buttonEvent&&this._buttonEvent.remove();this._breakingNewsEditButtonEvent&&this._breakingNewsEditButtonEvent.remove()},_maybeAddBreakingToPreview:function o(){__p&&__p();if(!this.state.markup||!this.context.gks[c("ReactComposerConstants").GK_PAGE_BREAKING_COMPOSER])return;var p=this.getHTMLRootNode();if(p===null)return;var q=null,r=null;c("ifRequired")("LitestandShareAttachment",function(w){q=w.getContentNode(p);r=w.getDetailsFooterBrandName(p)});if(this.state.isAttachmentBreaking){var s=document.createElement("img");s.className="_649n";s.setAttribute("src","/images/icons/breaking_now-2x.png");var t=document.createElement("a");t.setAttribute("href","#");t.setAttribute("role","button");t.className="_paw";this._breakingNewsEditButtonEvent=c("Event").listen(t,"click",function(event){event.preventDefault();this._editBreakingNews()}.bind(this));if(q&&r){c("CSS").addClass(q,"_649o");c("CSS").addClass(r,"_13j5");r.insertBefore(t,r.firstChild);r.insertBefore(s,r.firstChild);var u=c("ifRequired")("LitestandShareAttachment",function(w){return w.getDetailsFooterForBreaking(p)},function(){return null});if(u){var v=c("ifRequired")("LitestandShareAttachment",function(w){return w.getTitleNodeForBreaking(p)},function(){return null});if(v){c("CSS").addClass(u,"_1cen");q.removeChild(u);q.insertBefore(u,v)}}}}},_maybeRemoveBreakingFromPreview:function o(){__p&&__p();if(!this.state.markup)return;var p=this.getHTMLRootNode();if(p===null)return;var q=null,r=null,s=null;c("ifRequired")("LitestandShareAttachment",function(v){r=v.getDetailsFooterBrandName(p);q=v.getBreakingNewsIcon(p);s=v.getBreakingNewsEditIcon(p)});if(r&&s)r.removeChild(s);if(r&&r.hasChildNodes&&r.hasChildNodes()&&q){r.removeChild(q);c("CSS").removeClass(r,"_13j5");var t=c("ifRequired")("LitestandShareAttachment",function(v){return v.getDetailsFooterForBreaking(p)},function(){return null});if(t){c("CSS").removeClass(t,"_1cen");var u=c("ifRequired")("LitestandShareAttachment",function(v){return v.getContentNode(p)},function(){return null});if(u){c("CSS").removeClass(u,"_649o");u.removeChild(t);u.appendChild(t)}}}},getHTMLRootNode:function o(){if(!this.state.markup)return null;var p=null;if(typeof this.state.markup.getRootNode==="function")p=this.state.markup.getRootNode();return p}});f.exports=n}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType")}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=Object.freeze({UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3});h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){__p&&__p();var l=void 0;i.constructor.call(this,function(){return{state:j.UNKNOWN}},function(m){switch(m.type){case c("ReactComposerMarkdownActionType").SHOW_INTERCEPT:l&&l.$ReactComposerMarkdownStore1(m);break;case c("ReactComposerMarkdownActionType").HIDE_INTERCEPT:l&&l.$ReactComposerMarkdownStore2(m);break;case c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore3(m);break;case c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore4(m);break}});l=this}k.prototype.showIntercept=function(l){return this.getComposerData(l).state===j.CHECKING};k.prototype.interceptAttempted=function(l){var m=this.getComposerData(l),n=m.state;return n===j.ENABLED||n===j.DISABLED};k.prototype.isMarkdownEnabled=function(l){return this.getComposerData(l).state===j.ENABLED};k.prototype.$ReactComposerMarkdownStore1=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.CHECKING;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore2=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.UNKNOWN;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore3=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.ENABLED;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore4=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.DISABLED;this.emitChange(m)};f.exports=new k()}),null);
__d("ReactComposerMarkdownActions",["ReactComposerDispatcher","ReactComposerMarkdownActionType","ReactComposerMarkdownStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ReactComposerMarkdownStore");h.prototype.showIntercept=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").SHOW_INTERCEPT})};h.prototype.hideIntercept=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").HIDE_INTERCEPT})};h.prototype.enableMarkdown=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN})};h.prototype.disableMarkdown=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN})};function h(){}f.exports=new h()}),null);
__d("Sticker.react",["cx","fbt","Arbiter","MessengerHotLikeSVG.react","React","ReactDOM","PaddedStickerConfig","StickerConstants","emptyFunction","getElementPosition","getObjectValues","joinClasses","setIntervalAcrossTransitions"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=83,l=5e3,m=10,n={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"},o=c("React").createClass({displayName:"Sticker",propTypes:{accessibilityLabel:j.string,animationTime:j.number,animationTrigger:j.oneOf(c("getObjectValues")(n)),forceCursorPointer:j.bool,frameCount:j.number.isRequired,frameRate:j.number,framesPerCol:j.number.isRequired,framesPerRow:j.number.isRequired,onAttachmentLoad:j.func,onStickerClick:j.func,packID:j.string,packName:j.string,sourceURI:j.string.isRequired,sourceWidth:j.number.isRequired,sourceHeight:j.number.isRequired,spriteURI:j.string,stickerID:j.string,subscribedThreadID:j.string,testID:j.string},getInitialState:function p(){return{index:0,hasAnimated:false,unsubscribeID:null}},getDefaultProps:function p(){return{animationTime:l,accessibilityLabel:"",forceCursorPointer:false,frameRate:k,onStickerClick:c("emptyFunction"),packID:null,packName:""}},componentDidMount:function p(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._stopIntervalID=0;if((this.props.animationTrigger===n.LOAD_AND_HOVER||this.props.animationTrigger===n.ANIMATE_FOREVER)&&this.props.frameCount>1&&this.props.spriteURI)this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var q=c("Arbiter").subscribe(this.props.subscribedThreadID,function(r,s){this.isScrolledIntoView(s.scrollTop,s.viewHeight,s.top)}.bind(this));this.setState({unsubscribeID:q})}},componentWillUnmount:function p(){if(this.state.unsubscribeID)c("Arbiter").unsubscribe(this.state.unsubscribeID);if(this.isAnimating())clearInterval(this._stopIntervalID)},isAnimating:function p(){return!!this._stopIntervalID},getWidth:function p(){return Math.floor(this.props.sourceWidth)},getHeight:function p(){return Math.floor(this.props.sourceHeight)},preloadSprite:function p(){var q=new window.Image();q.onload=function(){if(this.isMounted()&&!this.state.hasAnimated){this.setState({hasAnimated:true});this._stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate)}}.bind(this);if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI)q.src=this.props.paddedSpriteURI;else q.src=this.props.spriteURI},isScrolledIntoView:function p(q,r,s){var t=c("getElementPosition")(c("ReactDOM").findDOMNode(this)),u=q+t.y-s,v=q+r,w=u+t.height;if(this.props.frameCount>1&&!this.state.hasAnimated&&w-m<=v&&u+m>=q)this.startAnimation()},startAnimation:function p(){if(!this.state.hasAnimated&&this.props.spriteURI)this.preloadSprite();else if(!this.isAnimating()){this.setState({hasAnimated:true});this._stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate)}},stopAnimation:function p(){this.setState({index:0});clearInterval(this._stopIntervalID);this._stopIntervalID=0},toggleAnimation:function p(){if(this.isAnimating())this.stopAnimation();else this.startAnimation()},shouldStopAnimating:function p(){var q=this.state.index%this.props.frameCount;if(this.props.animationTrigger===n.ANIMATE_FOREVER)return false;if(!(q===0&&this.state.index*this.props.frameRate>this.props.animationTime))return false;if(this.props.animationTrigger===n.CLICK)return true;return!this.state.isHovered},incrementFrameIndex:function p(){if(this.shouldStopAnimating())this.stopAnimation();else this.setState({index:this.state.index+1})},getStyle:function p(){__p&&__p();var q=0,r=this.props.spriteURI;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){r=this.props.paddedSpriteURI;var s=240/Math.min(this.getHeight(),this.getWidth());q=Math.floor(c("StickerConstants").SPRITE_PADDING/s)}var t=this.state.index%this.props.frameCount,u=t%this.props.framesPerRow*(this.getWidth()+q*2)+q,v=Math.floor(t/this.props.framesPerRow)*(this.getHeight()+q*2)+q,w=this.props.frameCount>1&&this.props.animationTrigger===n.CLICK||this._isStickerClickable(this.props.packID),x=this.props.forceCursorPointer||w?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI)return{backgroundImage:this._isHotLike()?null:"url("+this.props.sourceURI+")",backgroundRepeat:"no-repeat",backgroundSize:this.getWidth()+"px "+this.getHeight()+"px",cursor:x,height:this.getHeight(),width:this.getWidth()};else return{backgroundImage:"url("+r+")",backgroundPosition:-u+"px "+-v+"px",backgroundSize:(this.getWidth()+q*2)*this.props.framesPerRow+"px "+(this.getHeight()+q*2)*this.props.framesPerCol+"px",cursor:x,height:this.getHeight(),width:this.getWidth(),imageRendering:"-webkit-optimize-contrast"}},_isStickerClickable:function p(q){return q&&q!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&q!=c("StickerConstants").GRAVEYARD_PACK_ID},onStickerClick:function p(){if(!this._isStickerClickable(this.props.packID))return;if(this.props.onStickerClick)this.props.onStickerClick(this.props.packID,this.props.stickerID)},mouseLeft:function p(){this.setState({isHovered:false})},mouseEntered:function p(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation()},tabFocusSelected:function p(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation()},tabFocusUnselected:function p(){this.setState({isHovered:false})},getAriaLabel:function p(){return i._("{pack name} {sticker name} sticker",[i.param("pack name",this.props.packName),i.param("sticker name",this.props.accessibilityLabel)])},render:function p(){__p&&__p();var q=void 0,r=void 0;if(this.props.animationTrigger===n.CLICK&&this.props.frameCount>1&&this.props.spriteURI)q=true;else if((this.props.animationTrigger===n.HOVER||this.props.animationTrigger===n.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI)r=true;var s=q?this.toggleAnimation:null;if(this.props.packID)s=this.onStickerClick;var t=this.props.className,u=null;if(this._isHotLike()){t=c("joinClasses")(t,"_576q");u=c("React").createElement(c("MessengerHotLikeSVG.react"),{color:this.props.customColor})}return c("React").createElement("div",{"aria-label":this.getAriaLabel(),className:t,"data-testid":this.props.testID,onBlur:this.tabFocusUnselected,onClick:s,onFocus:this.tabFocusSelected,onMouseEnter:r?this.mouseEntered:null,onMouseLeave:r?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:"0"},u)},_isHotLike:function p(){if(!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)return this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;return false}});f.exports=o}),null);
__d("StickerUtils",[],(function a(b,c,d,e,f,g){__p&&__p();var h={getScaledDimensions:function i(j,k,l){__p&&__p();var m,n,o;if(k>j){o=l/k;m=j*o;n=k*o}else{o=l/j;m=j*o;n=k*o}return{height:Math.round(m),width:Math.round(n)}},capitalizeWords:function i(j){var k=j.split(" ");for(var l=0;l<k.length;l++){var m=k[l].charAt(0).toUpperCase();k[l]=m+k[l].substr(1)}return k.join(" ")}};f.exports=h}),null);
__d("ReactComposerStickerComponent.react",["ix","cx","fbt","Arbiter","Image.react","React","ReactComposerEvents","ReactComposerLoggingName","ReactComposerPrefillStore","ReactComposerTaggerActions","ReactComposerTaggerType","ShimButton.react","Sticker.react","StickerAssetType","StickerConstants","StickerUtils","XStickerAssetController","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerStickerComponent3=function(){c("ReactComposerTaggerActions").setTaggerData(this.props.composerID,c("ReactComposerLoggingName").STICKER_SPROUT,c("ReactComposerTaggerType").STICKER,null)}.bind(this),this.$ReactComposerStickerComponent4=function(){var s=c("ReactComposerPrefillStore").getAndEraseNestedField(this.props.composerID,["taggersData",c("ReactComposerTaggerType").STICKER]);if(s)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.props.composerID,c("ReactComposerTaggerType").STICKER,s)}.bind(this),o}m.prototype.render=function(){"use strict";if(!(this.props.sticker&&this.props.sticker.stickerID))return null;var n=c("StickerUtils").getScaledDimensions(c("StickerConstants").TRAY_SIZE,c("StickerConstants").TRAY_SIZE,c("StickerConstants").TRAY_SIZE),o=n.height,p=n.width,q=c("XStickerAssetController").getURIBuilder().setInt("sticker_id",this.props.sticker.stickerID),r=c("React").createElement(c("Sticker.react"),{accessibilityLabel:this.props.sticker.accessibilityLabel,animationTrigger:"load_and_hover",frameCount:1,frameRate:c("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:1,framesPerRow:1,sourceHeight:o,sourceURI:q.setEnum("image_type",c("StickerAssetType").IMAGE).getURI().toString(),sourceWidth:p,stickerID:this.props.sticker.stickerID.toString(),className:"_x85"});return c("React").createElement("div",{className:"_x88"},c("React").createElement("span",{className:"_x8a"},r,this.$ReactComposerStickerComponent2()))};m.prototype.$ReactComposerStickerComponent2=function(){"use strict";return c("React").createElement(c("ShimButton.react"),{className:"_x8b",onClick:this.$ReactComposerStickerComponent3},c("React").createElement(c("Image.react"),{alt:j._("Remove sticker"),src:h("125920")}))};m.prototype.componentWillMount=function(){"use strict";this.$ReactComposerStickerComponent4();this.$ReactComposerStickerComponent1=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$ReactComposerStickerComponent4)};m.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerStickerComponent1&&this.$ReactComposerStickerComponent1.unsubscribe();this.$ReactComposerStickerComponent1=null};f.exports=m}),null);
__d("RedEnvelopeActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLICK_GLYPH:"click_glyph",CLICK_POST_BUTTON:"click_post_button",CREATE_GIFT:"create_gift",PROCESS_PAY:"process_pay",OPEN:"open",ACCEPT_MONEY_TRANSFER:"accept_money_transfer",CANCEL_SCHEDULED:"cancel_scheduled",START_TO_CANCEL:"start_to_cancel",CANCEL:"cancel",CANCEL_STOPPED:"cancel_stopped",REOPEN:"reopen",CLICK_CREATE_BUTTON:"click_create_button",CLICK_PAY_BUTTON:"click_pay_button",CLICK_CANCEL_BUTTON:"click_cancel_button",ADD_CARD_REDIRECT:"add_card_redirect",ADD_CARD:"add_card",CLICK_ACCEPT:"click_accept",ACCEPT_AFTER_ADD_CARD:"accept_after_add_card",CLICK_SEE_DETAILS:"click_see_details"})}),null);
__d("XComposerXMediaInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/intercept/media/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/markdown_intercept/media/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}})}),null);
__d("XComposerXStatusInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/intercept/status/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XGamesFindPlayersSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/find_players/save/",{})}),null);
__d("XGroupTaskSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/grouptask/save/",{})}),null);
__d("XMarketplaceCreatePostController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/marketplace/create_post/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:true}})}),null);
__d("XPagesComposerCustomCTAPublishAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/react_composer/cta/publish/",{page_id:{type:"FBID",required:true},message:{type:"String"},photo_id:{type:"FBID"},video_id:{type:"FBID"},cta_data:{type:"HackType"},referrer:{type:"String"},schedule_time:{type:"Int"},draft:{type:"Bool",defaultValue:false},start_time:{type:"Int"},boosted_post_config:{type:"String"},raw_data:{type:"HackType"},use_premade_video:{type:"Bool",defaultValue:false},offer_data:{type:"HackType"}})}),null);
__d("XRedEnvelopeCreationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/red_envelope/creation/checkout/",{photo_id:{type:"Int"},message:{type:"String"},amount:{type:"Int"},credential_id:{type:"Int"},target_id:{type:"Int"},tagged_ids:{type:"FBIDVector"},xhpc_composerid:{type:"String"}})}),null);
__d("XRedEnvelopeSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/redenv/save/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}})}),null);
__d("XSalesPromoCreateAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sales_promo/create/",{availability_location:{type:"Enum",required:true,enumType:1},description:{type:"String",defaultValue:""},destination_uri:{type:"String",defaultValue:""},discount_code:{type:"String",defaultValue:""},expiration_time:{type:"Int",required:true},group_id:{type:"FBID"},owner_id:{type:"FBID",required:true},page_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},terms_and_conditions:{type:"String",defaultValue:""},use_boost:{type:"Bool",defaultValue:false},video_ids:{type:"FBIDVector"},promotion_value:{type:"Float"}})}),null);
__d("ReactComposerPostUtils",["invariant","ActorURI","Arbiter","ComposerEntryPointRef","ComposerPublisher","DateConsts","HTML","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerFileStore","ReactComposerMarkdownActions","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","RedEnvelopeActionType","RedEnvelopeActionTypedLogger","URI","VideoEditSource","XComposerXMediaInterceptController","XComposerXMediaMarkdownInterceptController","XComposerXStatusInterceptController","XGamesFindPlayersSaveController","XGroupTaskSaveController","XMarketplaceCreatePostController","XPagesComposerCustomCTAPublishAsyncController","XRedEnvelopeCreationController","XRedEnvelopeSaveController","XSalesPromoCreateAsyncController","XVideoEditDialogSaveController","formatDate","ifRequired","textProbablyWritingMarkdown"],(function aa(ba,a,ca,da,ea,fa,b){__p&&__p();var c=a("ReactComposerWorkFileStore").module,d=!!c,e=c||a("ReactComposerFileStore"),ga={publish:function f(g,h){__p&&__p();a("ReactComposerActions").publishStarted(g);h=h||{};h.composer_id=g;if(h.streamNode)h.streamStory=h.streamNode;else if(h.streamMarkup)h.streamStory=a("HTML")(h.streamMarkup).getRootNode();if(h.contentID)h.matchData={content_id:h.contentID};a("Arbiter").inform("composer/publish",h)},isPostButtonDisabled:function f(g,h){var i=a("ReactComposerPhotoStore").isLimitExceeded(g,h),j=a("ReactComposerMediaUploadStore").isUploading(g),k=a("ReactComposerPhotoStore").isRecognizing(g),l=!!a("ReactComposerVideoUploadStore").getVideo(g)&&a("ReactComposerStore").isPosting(g),m=a("ReactComposerPhotoStore").isSphericalPhotoUpdating(g);return i||j||k||l||m},_getIsOnMediaAttachment:function f(g){var h=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(g,a("ReactComposerAttachmentType").MEDIA),i=a("ReactComposerAttachmentStore").getIsAttachmentSelected(g,a("ReactComposerAttachmentType").AUDIENCE_SELECTOR);return h||i},_setupGenericDataFromStore:function f(g,h){a("ifRequired")("ReactComposerStatusDonateButtonStore",function(i){if(i.getEnabled(h))Object.assign(g,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:i.getFundraiserCampaignID(h),link_title:i.getTitle(h),link_description:i.getDescription(h)}}})});a("ifRequired")("ReactComposerCTAStore",function(i){var j=i.getCTAData(h);if(j&&j.type==="MESSAGE_PAGE")Object.assign(g,{cta_data:j})})},_setupDataForPlaceListAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").PLACE_LIST);if(i)a("ifRequired")("ReactComposerPlaceListStore.react",function(j){Object.assign(g,{is_placelist_post:true,placelist_within_page:j.getPageID(h),should_redirect_place_list_on_create:j.getShouldRedirectOnCreate(h)});if(j.getGroupID(h))Object.assign(g,{target_id:j.getGroupID(h),xhpc_targetid:j.getGroupID(h)})})},_setupDataForFormattedText:function f(g,h){a("ifRequired")("ReactComposerFormattedTextStore",function(i){var j=i.getTextFormatPresetID(h);if(j)Object.assign(g,{text_format_preset_id:j})});a("ifRequired")("ReactComposerPromptsStore",function(i){var j=i.getMemeCategoryID(h);if(j)Object.assign(g,{meme_category_id:j})})},_setupDataForCTAAttachment:function f(g,h,i){if(g)a("ifRequired")("ReactComposerCTAStore",function(j){Object.assign(h,{cta_data:j.getCTAData(i)})})},_setupDataForOnSaleAttachment:function f(g,h,i){if(g){a("ifRequired")("ReactComposerSellStore",function(j){Object.assign(h,{composer_attachment_sell_title:j.getTitleText(i),composer_attachment_sell_price:j.getPrice(i),composer_attachment_sell_price_type:j.getPriceType(i),composer_attachment_sell_currency:j.getCurrency(i),composer_attachment_sell_quantity:j.getQuantity(i),composer_attachment_sell_condition:j.getConditionID(i),composer_attachment_sell_category:j.getCategoryID(i),composer_attachment_sell_location_page_id:j.getLocationID(i),composer_attachment_sell_pickup_note:j.getPickupNoteText(i),post_to_marketplace:j.isNearbyLocationChecked(i),cross_post_checked:j.isCrossPostChecked(i),composer_attachment_sell_audience_target_ids:Array.from(j.getAudienceTargetIDs(i)).join(",")})});a("ifRequired")("ReactComposerAutosSellStore.react",function(j){Object.assign(h,{composer_attachment_sell_serialized_verticals_data:j.getSerializedVerticalData(i)})})}},_setupDataForGroupMeetupAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").GROUP_MEET_UP);if(i)Object.assign(g,a("ReactComposerPostDataUtils").getGroupMeetupData(h))},_setupDataForPageRecommendationAttachment:function f(g,h){var i=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(h,a("ReactComposerAttachmentType").PAGE_RECOMMENDATION);if(i)a("ifRequired")("ReactComposerPageRecommendationStore.react",function(j){Object.assign(g,{page_recommendation_ids:[j.getPageID(h)]})})},_setupDataForPremadePost:function f(g,h){var i=g.composerConfig.pagePremadePostData;if(i)Object.assign(h,{page_premade_post:i})},_setupDataForGIFAttachment:function f(g,h){if(g)Object.assign(h,{animated_image:g})},_setupDataForGroupLearningCourseAttachment:function f(g,h,i){if(g)a("ifRequired")("ReactComposerGroupLearningCourseStore",function(j){Object.assign(h,{module_name:j.getModuleName(i),target_id:j.getGroupID(i),xhpc_composerid:i,xhpc_targetid:j.getGroupID(i),xhpc_learning_course:true,xhpc_unit_id:j.getUnitID(i)})})},_setupDataForLearningCourse:function f(g,h,i){var j=a("ReactComposerAttachmentStore").getAttachment(i,a("ReactComposerAttachmentType").LEARNING_COURSE);if(g&&j){var k=new(a("URI"))(window.location.href).getQueryData().filter,l=e.getSelectedFileName(i);if(k)Object.assign(h,{xhpc_unit_id:k,xhpc_learning_course:true,module_name:l?l:"New file"})}},_setupDataForLearningLinkAttachment:function f(g,h,i,j){if(g)a("ifRequired")("ReactComposerLearningLinkStore",function(k){Object.assign(h,{module_name:k.getTitleText(i),learning_link_link:k.getLink(i),xhpc_composerid:i,xhpc_targetid:j,xhpc_learning_course:true,xhpc_learning_link:true,xhpc_unit_id:new(a("URI"))(window.location.href).getQueryData().filter,xhpc_message:a("ReactComposerStatusStore").getMessageText(i)})})},_postForRedEnvelope:function f(g){__p&&__p();var h=a("ReactComposerPostDataUtils").getPostData(g),i=g.composerID;a("ifRequired")("ReactComposerRedEnvelopeStore",function(l){Object.assign(h,{composer_attachment_message:a("ReactComposerStatusStore").getMessageText(i),message:a("ReactComposerStatusStore").getMessage(i),type:l.getType(i),theme:l.getTheme(i),total_amount:l.getTotalIntAmount(i),credential_id:l.getCredentialId(i),distribution:l.getDistribution(i),number_of_envelopes:l.getNumberOfEnvelopes(i)})});if(h.type==="v1")return a("XRedEnvelopeSaveController").getURIBuilder().setString("composer_attachment_message",h.composer_attachment_message).setString("distribution",h.distribution).setInt("total_amount",h.total_amount).setInt("number_of_envelopes",h.number_of_envelopes).setInt("xhpc_targetid",g.targetID).setString("xhpc_composerid",g.composerID).getURI();else{new(a("RedEnvelopeActionTypedLogger"))().setAction(a("RedEnvelopeActionType").CLICK_POST_BUTTON).log();var j=a("ReactComposerTaggerStore").getTaggerData(i,a("ReactComposerTaggerType").PEOPLE),k=j.map(function(l){return l.getUniqueID()});return a("XRedEnvelopeCreationController").getURIBuilder().setString("message",h.composer_attachment_message).setInt("amount",h.total_amount).setInt("credential_id",h.credential_id).setInt("photo_id",h.theme).setInt("target_id",g.targetID).setFBIDVector("tagged_ids",k).setString("xhpc_composerid",g.composerID).getURI()}},post:function f(g){__p&&__p();var h,i,j;!!g.actorID||b(0);!!g.composerConfig||b(0);!!g.composerConfig.contextInfo||b(0);!!g.composerID||b(0);!!g.targetID||b(0);var k=g.actorID,l=g.composerID,m=false,n=false,o=false,p=this._getIsOnMediaAttachment(l),ha=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QANDA),q=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").FILE),r=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QUESTION),ia=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").RED_ENVELOPE),s=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").SELL)||a("ifRequired")("ReactComposerSellStore",function(N){return N.getInterceptSell(l)},function(){return false}),t=false;a("ifRequired")("ReactComposerCTAAttachmentUtils",function(N){t=N.isCTAAttachmentSelected(l)});var u=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").TASK),ja=a("ReactComposerSlideshowStore").isSlideshowSelected(l),ka=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").PROFILE_PIC_FRAME),v=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QA),la=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").FIND_PLAYERS),w=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").LEARNING_COURSE),ma=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),na=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").SALES_PROMO),x=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").LEARNING_THIRD_PARTY_LINK),oa=g.composerConfig.attachmentsConfig||{},y=oa[a("ReactComposerAttachmentType").STATUS]||{},pa=a("ifRequired")("ReactComposerSellStore",function(N){return N.showURLIntercept(l)},function(){return false}),z=y.attemptIntercept&&y.sellIntercept&&!s&&!pa,A=a("ReactComposerPostDataUtils").getPostData(g);this._setupGenericDataFromStore(A,l);var B=a("ReactComposerVideoUploadStore").getVideo(l);if(p&&!!B){var qa=a("ReactComposerVideoUploadStore").getUploader(l);qa&&qa.uploadFromFile(B.file,A);return}var ra=d?e.hasFile(l):e.isFileSelected(l),sa=a("ReactComposerTaggerStore").getTaggerData(l,a("ReactComposerTaggerType").GIF).gifData,C=void 0,D=a("ReactComposerMediaUploadStore").getUploads(l);this._setupDataForFormattedText(A,l);this._setupDataForOnSaleAttachment(s,A,l);this._setupDataForCTAAttachment(t,A,l);this._setupDataForPlaceListAttachment(A,l);this._setupDataForGroupMeetupAttachment(A,l);this._setupDataForPageRecommendationAttachment(A,l);this._setupDataForPremadePost(g,A);this._setupDataForGIFAttachment(sa,A);this._setupDataForLearningCourse(q,A,l);this._setupDataForGroupLearningCourseAttachment(w,A,l);this._setupDataForLearningLinkAttachment(x,A,l,g.targetID);var ta=D.size>0,ua=p||ha||s||w||u||x,va=ja||ua&&ta,wa=a("ifRequired")("PagesComposerBoostedPostsStore",function(N){return N.getConfig(l)},function(){return null});if(y.attemptMarkdownIntercept&&g.composerConfig.attachmentsConfig&&g.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS])g.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=A.is_markdown;var xa=A.blocks,E=y.attemptMarkdownIntercept&&!s&&!xa&&!A.is_markdown;a("ifRequired")("ReactComposerMarkdownStore",function(N){E=E&&!N.interceptAttempted(l)});if(!va&&E&&a("textProbablyWritingMarkdown")(a("ReactComposerStatusStore").getMessageText(l))){setTimeout(function(){return a("ReactComposerActions").postFinally(l,null)},0);a("ReactComposerMarkdownActions").showIntercept(l);return}var ya=a("ifRequired")("ReactComposerSellStore",function(N){return N.getPostDirectlyToMarketplace(l)},function(){return false}),F=null;if(r||v){var za=a("ReactComposerStore").getRef(l);switch(za){case a("ComposerEntryPointRef").GROUP:F="group";break;case a("ComposerEntryPointRef").EVENT:case a("ComposerEntryPointRef").EVENT_ABOUT:F="event";break;case a("ComposerEntryPointRef").PAGES_FEED:F="composer";break;default:F=za}}var G=a("ifRequired")("PagesComposerUnpublishedPostsStore",function(N){return N.getScheduledPublishTime(g.composerID)},function(){return null});G=G?Math.round(G.getTime()/1e3):null;var H=void 0;if(u){C=a("XGroupTaskSaveController").getURIBuilder().getURI();a("ifRequired")("ReactComposerTaskStore",function(N){Object.assign(A,N.getTaskData(l));a("ifRequired")("GroupTaskLoggedAction",function(O){Object.assign(A,{action_to_be_logged:O.CREATE_TASK})})})}else if(va){H=a("ReactComposerPostDataUtils").getMediaUploadsData(l,D);Object.assign(A,H);if(z)C=a("XComposerXMediaInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else if(E)C=a("XComposerXMediaMarkdownInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setBool("markdown_enabled",A.is_markdown).getURI();else if(ya)C=a("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else{n=a("ComposerPublisher").getShouldUseGraphQLForMedia(k,A,g.composerID);C=new(a("URI"))("/media/upload/photos/composer/")}}else if(q&&ra){var Aa=d||typeof e.getDropboxFileID!=="function"?null:e.getDropboxFileID(l);C=new(a("URI"))(e.getURI(l));Object.assign(A,{transaction_id:Aa})}else if(r){C=new(a("URI"))("/ajax/questions/save.php");a("ifRequired")("ReactComposerQuestionStore",function(N){var O=N.getOptionStrings(l),P=N.getOptionImageIndices(l);Object.assign(A,{composerAttachmentQuestion:a("ReactComposerStatusStore").getMessage(l),question_options:O,question_option_image_indices:P,source:F,create_eigenpoll:N.canChooseMultiplePollOptions(l),anyone_add_options:N.canAnyoneAddPollOptions(l)})});Object.assign(A,a("ReactComposerPostDataUtils").getMediaUploadsData(l,D))}else if(t&&A.attachment.params.allowMultiMedia){o=a("ComposerPublisher").getShouldUseGraphQLForPageCTA(k,A);C=a("XPagesComposerCustomCTAPublishAsyncController").getURIBuilder().setString("message",A.xhpc_message_text).setHackType("cta_data",A.cta_data).setFBID("video_id",A.attachment.params.videoID).setFBID("photo_id",A.attachment.params.photoID).setFBID("page_id",g.targetID).setString("boosted_post_config",wa).setHackType("raw_data",A).setInt("schedule_time",G).setBool("use_premade_video",A.attachment.params.usingPremadePostVideo).getURI()}else if(ia)C=this._postForRedEnvelope(g);else if(s)C=new(a("URI"))("/ajax/groups/sell/save.php");else if(ka){var Ba=void 0,I=void 0;a("ifRequired")("ReactComposerProfilePictureFrameStore",function(N){Ba=N.getSelectedOverlayID(l);I=N.getScheduledPostDate(l);H=a("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(l,N.getCroppedPhotoForUpload(l))});var Ca=void 0,Da=void 0,Ea=void 0,Fa=false;if(I){Ca=a("formatDate")(I,"m/d/Y",{skipPatternLocalization:true});var Ga=I.getHours()*a("DateConsts").MIN_PER_HOUR+I.getMinutes();Da=a("DateConsts").SEC_PER_MIN*Ga;Ea=I.getTime()/1e3;Fa=true}C=new(a("URI"))("/media/upload/photos/composer/");Object.assign(A,babelHelpers["extends"]({},H,{scheduled:Fa,sticker_id:Ba,future_date:Ca,future_time:Da,scheduled_publish_time:Ea}))}else if(v){a("ifRequired")("ReactComposerGroupQAStore",function(N){C=new(a("URI"))("/group_qa/save/");Object.assign(A,{composer_question_title:N.getTitle(l),composer_question_description:N.getDescription(l),source:F})});Object.assign(A,a("ReactComposerPostDataUtils").getMediaUploadsData(l,D))}else if(na){a("ifRequired")("ReactComposerSalesPromoStore",function(N){Object.assign(A,{availability_location:N.getAvailabilityLocation(l),description:N.getDescription(l),destination_uri:N.getDestinationURI(l),discount_code:N.getDiscountCode(l),expiration_time:N.getExpirationTime(l),photo_ids:a("ReactComposerPostDataUtils").getMediaUploadsData(l,D).composer_unpublished_photo,terms_and_conditions:N.getTermsAndConditions(l)})});C=a("XSalesPromoCreateAsyncController").getURIBuilder().setEnum("availability_location",A.availability_location).setString("description",A.description).setString("destination_uri",A.destination_uri).setString("discount_code",A.discount_code).setInt("expiration_time",A.expiration_time).setFBID("group_id",g.targetID).setFBID("owner_id",k).setFBIDVector("photo_ids",A.photo_ids).setString("referrer","www_group_composer").setString("terms_and_conditions",A.terms_and_conditions).getURI();Object.assign(A,a("ReactComposerPostDataUtils").getMediaUploadsData(l,D))}else if(la)a("ifRequired")("ReactComposerFindPlayersStore",function(N){C=new(a("URI"))(a("XGamesFindPlayersSaveController").getURIBuilder().getURI());Object.assign(A,{composer_find_players_title:N.getTitle(l),composer_find_players_tags:N.getTags(l),composer_find_players_name:N.getName(l),composer_find_players_description:a("ReactComposerStatusStore").getMessage(l),photo_ids:a("ReactComposerPostDataUtils").getMediaUploadsData(l,D).composer_unpublished_photo})});else if(ma)(function(){__p&&__p();var N=void 0,O=true;a("ifRequired")("ReactComposerMediaEffectShareStore",function(P){__p&&__p();H=a("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(l,P.getEffectPhotoForUpload(l));var Q=P.getComposerData(l).effectStatus;N=P.getEffectToApply(l);if(Q==="active")O=false;var R=P.getUploadedVideoID(l);if(R){Object.assign(A,{draft:O});P.postVideo(l,A);return}});C=new(a("URI"))("/media/upload/photos/composer/");Object.assign(A,babelHelpers["extends"]({},H,{scheduled:false,sticker_id:N,draft:O}))})();else if(A.attachment&&A.attachment.params.canvas_video)(function(){C=a("XVideoEditDialogSaveController").getURIBuilder().setInt("v",A.attachment.params.canvas_video.video_id).getURI();var N=G===null&&!A.draft;Object.assign(A,A.attachment.params.canvas_video);Object.assign(A,{description:A.xhpc_message,is_canvas_video:true,publish:N,scheduled_publish_time:G,source:a("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var O={content_id:A.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:false,scraped_url:A.attachment.params.url,target_id:g.targetID};a("ifRequired")("PagesComposerActionsLogger",function(P){P.log(O)})})();else if(A.attachment&&A.attachment.params.carousel_video_lpp)(function(){C=a("XVideoEditDialogSaveController").getURIBuilder().setInt("v",A.attachment.params.carousel_video_lpp.video_id).getURI();var N=G===null&&!A.draft;Object.assign(A,A.attachment.params.carousel_video_lpp);Object.assign(A,{description:A.xhpc_message,scheduled_publish_time:G,publish:N,source:a("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var O={child_attachments:A.attachment.params.child_attachments,event:"publish",target_id:g.targetID,content_id:A.attachment.params.carousel_video_lpp.video_id,is_old_composer:false,scraped_url:A.attachment.params.url};a("ifRequired")("PagesComposerActionsLogger",function(P){P.log(O)})})();else if(z)C=a("XComposerXStatusInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else{m=a("ComposerPublisher").getShouldUseGraphQLForStatus(k,A);C=new(a("URI"))("/ajax/updatestatus.php")}var Ha=C,J=false;a("ifRequired")("ReactComposerVideoXEditDialogStore",function(N){__p&&__p();var O;J=N.hasSelectedCustomThumbnails(g.composerID);if(J)(function(){__p&&__p();var P=D.map(function($){return $.id}),Q=N.getThumbnailTypes(P.toArray(),g.composerID),R={};D.forEach(function($){return R[$.id]=$.photoID});var Ja={};for(var S=Q,Ka=Array.isArray(S),T=0,S=Ka?S:S[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var U;if(Ka){if(T>=S.length)break;U=S[T++]}else{T=S.next();if(T.done)break;U=T.value}var La=U,Ma=La[0],Na=La[1];Ja[R[Ma]]=Na}Object.assign(A,{thumb_types:Ja});var Oa=N.getUploadsWithTextOnThumbnail(P.toArray(),g.composerID),V=[];for(var W=Oa,Pa=Array.isArray(W),X=0,W=Pa?W:W[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var Y;if(Pa){if(X>=W.length)break;Y=W[X++]}else{X=W.next();if(X.done)break;Y=X.value}var Qa=Y;V=V.concat(R[Qa])}Object.assign(A,{videos_with_text_thumbnails:V});var Z=a("ReactComposerPostDataUtils").createFormData(A);N.getThumbnails(P.toArray(),g.composerID).then(function($){$.forEach(function(Ra){Z.append("thumb"+R[Ra[0]],Ra[1])});if(q&&e.hasFile(l)){var M=e.getFile(l);Z.append("file1",M)}var K=a("ActorURI").create(C,k),L=new(a("ReactComposerAsyncRequest"))(g.composerID,K).setRawData(Z).setHandler(g.onPostSuccess).setErrorHandler(g.onPostFailure);L.send()}).done()})()});C===Ha||b(0);if(m||n||o){a("ComposerPublisher").publish(g,A);return}if(!J){var K=a("ActorURI").create(C,k),L=new(a("ReactComposerAsyncRequest"))(g.composerID,K).setData(A).setHandler(g.onPostSuccess).setErrorHandler(g.onPostFailure);if(q&&e.hasFile(l)){var M=e.getFile(l),Ia=new FormData();Ia.append("file1",M);L.setRawData(Ia)}L.send()}}};ea.exports=ga}),null);
__d("ProgressBarBase",["emptyFunction","requestAnimationFrame","removeFromArray"],(function a(b,c,d,e,f,g){__p&&__p();var h=[];function i(j,k){"use strict";__p&&__p();this._min=j||0;this._max=k||100;this._initialPosition=0;this._position=0;this._initialVelocity=0;this._velocity=0;this._acceleration=0;this.useAcceleration=true;this._targetPosition=0;this._targetTime=0;this._startTime=null;this._onComplete=c("emptyFunction")}i.prototype.setPosition=function(j){"use strict";j=this._normalizePosition(j);this._initialPosition=j;this._position=j;this.updateMeter(this._position);this.stop();return this};i.prototype.setCompleteHandler=function(j){"use strict";this._onComplete=j||c("emptyFunction");return this};i.prototype.setTarget=function(j,k){"use strict";__p&&__p();this._stopAnimating();this._clearOnCompleteTimeout();this._targetPosition=j;var l=this._normalizePosition(j);this._targetTime=k;this._initialVelocity=this._velocity;this._initialPosition=this._position;if(this.useAcceleration)this._acceleration=2*(l-this._initialPosition-this._initialVelocity*k)/(k*k);else{this._acceleration=0;this._velocity=this._initialVelocity=(l-this._initialPosition)/k}if(this._position>=l)this._onComplete();else this._start();return this};i.prototype.setNoAcceleration=function(j){"use strict";this.useAcceleration=!j;return this};i.prototype._clearOnCompleteTimeout=function(){"use strict";b.clearTimeout(this._onCompleteTimeout)};i.prototype.stop=function(){"use strict";this._clearOnCompleteTimeout();this._velocity=0;this._initialVelocity=0;this._acceleration=0;this._stopAnimating();return this};i.prototype._start=function(){"use strict";this._startTime=Date.now();this._onCompleteTimeout=b.setTimeout(function(){this.setPosition(this._targetPosition);this._onComplete()}.bind(this),this._targetTime);this._startAnimating();return this};i.prototype._loop=function(){"use strict";__p&&__p();var j=Date.now()-this._startTime;this._position=.5*this._acceleration*j*j+this._initialVelocity*j+this._initialPosition;var k=this._velocity;this._velocity=this._acceleration*j+this._initialVelocity;var l=k<0!==this._velocity<0;if(this._position>this._normalizePosition(this._targetPosition)||l){this.setPosition(this._targetPosition);this._onComplete()}else this.updateMeter(this._position)};i.prototype.updateMeter=function(j){"use strict";throw new Error("Unimplemented function: updateMeter")};i.prototype._normalizePosition=function(j){"use strict";return Math.min(Math.max((j-this._min)/(this._max-this._min),0),1)};i.prototype._startAnimating=function(){"use strict";if(!h.includes(this)){h.push(this);if(h.length===1)c("requestAnimationFrame")(i.prototype._requestAnimationFrameCallback)}};i.prototype._stopAnimating=function(){"use strict";c("removeFromArray")(h,this)};i.prototype._requestAnimationFrameCallback=function(){"use strict";h.forEach(function(j){j._loop()});if(h.length)c("requestAnimationFrame")(i.prototype._requestAnimationFrameCallback)};i.setPosition=function(j,k){"use strict";j.setPosition(k)};i.setTarget=function(j,k,l){"use strict";j.setTarget(k,l)};f.exports=i}),null);
__d("ProgressBar",["cx","csx","ProgressBarBase","CSS","Style","DOM"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("ProgressBarBase"));k=j&&j.prototype;function l(m,n,o){"use strict";k.constructor.call(this,n,o);this._root=m;this._meter=c("DOM").find(m,"div._5e4k");this._meter2=c("DOM").scry(m,"div._5e2g")[0]}l.prototype.getRoot=function(){"use strict";return this._root};l.prototype.updateMeter=function(m){"use strict";__p&&__p();var n=Math.min(Math.max(m,0),1);c("CSS").conditionClass(this._meter,"_5e2d",n<=0);c("CSS").conditionClass(this._meter,"_5e4j",n>=1);this._root.setAttribute("aria-valuenow",n*100);n=n*100+"%";c("Style").set(this._meter,"width",n);if(this._meter2){c("Style").set(this._meter2,"left",n);c("Style").set(this._meter2,"width",n)}};l.prototype.changeLabel=function(m){"use strict";var n=c("DOM").scry(this._root,"span._5e2h");n.forEach(function(o){c("DOM").setContent(o,m)});return this};f.exports=l}),null);
__d("ScrollColumnRenderer",["DOMContainer.react","React","ReactRenderer","ScrollColumn.react"],(function a(b,c,d,e,f,g){var h={init:function i(j,k,l){c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("ScrollColumn.react"),babelHelpers["extends"]({children:[c("React").createElement(c("DOMContainer.react"),{key:"content"},j)]},l),k)}};f.exports=h}),null);
__d("SearchSourceWithMetrics",["AbstractSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.searchSource=k;this.reporter=l}j.prototype.searchImpl=function(k,l,m){"use strict";this.reporter.reportQueryBegin(k);if(m)this.reporter.reportStrategyName(m.strategyName);var n=Date.now();this.searchSource.search(k,function(o,k){this.reporter.reportQueryComplete(Date.now()-n,0);l(o,k)}.bind(this),m)};j.prototype.bootstrapImpl=function(k){"use strict";this.reporter.reportBootstrapBegin();return this.searchSource.bootstrap(function(){this.searchSource.getBootstrappedEntries(function(l){this.reporter.reportBootstrapComplete(l.map(function(m){return m.getType()}));k()}.bind(this))}.bind(this))};f.exports=j}),null);
__d("CapitalizedNameMentionsStrategy",["DocumentMentionsRegex"],(function a(b,c,d,e,f,g){"use strict";var h=1,i=new RegExp("(^|[^#])((?:"+c("DocumentMentionsRegex").NAME+"{"+h+",})$)"),j={name:"CapitalizedNameMentionsStrategy",findMentionableString:function k(l){var m=i.exec(l);if(m!==null)return{matchingString:m[2],leadOffset:m[2].length};return null}};f.exports=j}),null);
__d("ComposerNUXType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAMERA_NUX:"camera_nux_seen",ADD_MORE_NUX:"add_more_nux_seen",OGCOMPOSER_NUX:"ogcomposer_nux_seen",FACEREC_SUGGESTIONS_NUX:"facerec_suggestions_nux_seen",TAGGING_FLYOUT_NUX:"tagging_flyout_nux_seen",SHARER_MINUTIAE_NUX:"sharer_minutiae_nux_seen",ADD_STICKERS_NUX:"add_stickers_nux_seen",UPCOMING_BIRTHDAYS_NUX:"upcoming_birthdays_nux_seen",CROSS_POST_NUX:"cross_post_nux_seen",SLIDESHOW_NUX:"slideshow_nux_seen"})}),null);
__d("QE",["Banzai","Cache"],(function a(b,c,d,e,f,g){__p&&__p();var h="qe_log_exposure",i=60,j=new(c("Cache"))(),k={logExposure:function l(m,n){var o=n?m+"|"+n:m;if(j.has(o))return;var p={signal:true},q={name:m,id:null};if(n)q.id=n;c("Banzai").post(h,q,p);j.set(o,true,1,i)}};f.exports=k}),null);