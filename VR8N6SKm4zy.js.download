if (self.CavalryLogger) { CavalryLogger.start_js(["HInun"]); }

__d("BrowserExtensionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:BrowserExtensionsLoggerConfig",this.$BrowserExtensionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:BrowserExtensionsLoggerConfig",this.$BrowserExtensionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$BrowserExtensionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$BrowserExtensionsTypedLogger1=babelHelpers["extends"]({},this.$BrowserExtensionsTypedLogger1,j);return this};h.prototype.setAPIEndpoint=function(j){this.$BrowserExtensionsTypedLogger1.api_endpoint=j;return this};h.prototype.setAppID=function(j){this.$BrowserExtensionsTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$BrowserExtensionsTypedLogger1.appversion=j;return this};h.prototype.setClientUserID=function(j){this.$BrowserExtensionsTypedLogger1.client_userid=j;return this};h.prototype.setClienttime=function(j){this.$BrowserExtensionsTypedLogger1.clienttime=j;return this};h.prototype.setCountry=function(j){this.$BrowserExtensionsTypedLogger1.country=j;return this};h.prototype.setDeviceid=function(j){this.$BrowserExtensionsTypedLogger1.deviceid=j;return this};h.prototype.setErrorCode=function(j){this.$BrowserExtensionsTypedLogger1.error_code=j;return this};h.prototype.setErrorMessage=function(j){this.$BrowserExtensionsTypedLogger1.error_message=j;return this};h.prototype.setExtraClientData=function(j){this.$BrowserExtensionsTypedLogger1.extra_client_data=j;return this};h.prototype.setIsemployee=function(j){this.$BrowserExtensionsTypedLogger1.isemployee=j;return this};h.prototype.setName=function(j){this.$BrowserExtensionsTypedLogger1.name=j;return this};h.prototype.setSessionid=function(j){this.$BrowserExtensionsTypedLogger1.sessionid=j;return this};h.prototype.setStartURL=function(j){this.$BrowserExtensionsTypedLogger1.start_url=j;return this};h.prototype.setStringPageID=function(j){this.$BrowserExtensionsTypedLogger1.string_page_id=j;return this};h.prototype.setThreadID=function(j){this.$BrowserExtensionsTypedLogger1.thread_id=j;return this};h.prototype.setWebsiteURL=function(j){this.$BrowserExtensionsTypedLogger1.website_url=j;return this};var i={api_endpoint:true,appid:true,appversion:true,client_userid:true,clienttime:true,country:true,deviceid:true,error_code:true,error_message:true,extra_client_data:true,isemployee:true,name:true,sessionid:true,start_url:true,string_page_id:true,thread_id:true,website_url:true};f.exports=h}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1570574486349284"};j.getQueryID=function(){"use strict";return"389945858066688"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XMNCommerceCTAPostProcessController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:true},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation","PopupWindow","XMNCommerceCTAPostProcessController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.prototype.process=function(i){var j=arguments.length<=1||arguments[1]===undefined?null:arguments[1],k=c("PopupWindow").open("",500,1024),l=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",i).setString("message_id",j).getURI();new(c("AsyncRequest"))().setURI(l).setMethod("POST").setHandler(function(m){return k.location=m.payload}).send()};h.prototype.postHandle=function(i,j){var k=c("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation").getURI({cta_id:i,message_id:j});new(c("AsyncRequest"))().setURI(k).send()};function h(){}f.exports=new h()}),null);
__d("MNCommerceCallToActionGenericIntentHandler",["cx","fbt","Link.react","MNCommerceCTAProcessor","React","Tooltip","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){this.fallbackOnClick=function(){};this.onClickHook=function(){};this.threadID=null}j.prototype.setFallbackOnClick=function(k){this.fallbackOnClick=k;return this};j.prototype.setThreadID=function(k){if(k)this.threadID=k;return this};j.prototype.setOnClickHook=function(k){this.onClickHook=k;return this};j.prototype.renderForWebLink=function(k,l){var m=k.onClick||this.fallbackOnClick,n=function(event){this.onClickHook();m(event);c("MNCommerceCTAProcessor").postHandle(k.id,null)}.bind(this);return c("React").createElement(c("Link.react"),{className:l,href:k.onClick?null:k.action_link||k.action_url,key:k.title+k.id,onClick:n,target:"_blank"},k.translated_title||k.title||k.action_title)};j.prototype.renderForNativeLink=function(k,l){var m=i._("To use this feature, use the Messenger app.");return c("React").createElement("div",babelHelpers["extends"]({className:c("joinClasses")("_3cno",l),"data-tooltip-alignh":"center","data-tooltip-position":"above",key:k.title},c("Tooltip").propsFor(m)),k.translated_title||k.title||k.action_title)};f.exports=j}),null);
__d("BuyOnMessengerCallToActionIntentHandler",["Link.react","MNCommerceCallToActionGenericIntentHandler","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MNCommerceCallToActionGenericIntentHandler"));i=h&&h.prototype;j.prototype.renderForWebLink=function(k,l){return this.$BuyOnMessengerCallToActionIntentHandler1(k,l)};j.prototype.renderForNativeLink=function(k,l){return this.$BuyOnMessengerCallToActionIntentHandler1(k,l)};j.prototype.$BuyOnMessengerCallToActionIntentHandler1=function(k,l){return c("React").createElement(c("Link.react"),{className:l,key:k.title+k.id,onClick:k.onClick},k.translated_title||k.title)};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("MMeCallToActionIntentHandler",["MNCommerceCallToActionGenericIntentHandler"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("MNCommerceCallToActionGenericIntentHandler"));i=h&&h.prototype;j.prototype.renderForNativeLink=function(k,l){return this.renderForWebLink(k,l)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("MNCommerceCallToActionAsyncIntentHandler",["AsyncRequest","Link.react","MNCommerceCallToActionGenericIntentHandler","React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MNCommerceCallToActionGenericIntentHandler"));i=h&&h.prototype;j.prototype.renderForWebLink=function(k,l){"use strict";return this.$MNCommerceCallToActionAsyncIntentHandler1(k,l)};j.prototype.renderForNativeLink=function(k,l){"use strict";return this.$MNCommerceCallToActionAsyncIntentHandler1(k,l)};j.prototype.$MNCommerceCallToActionAsyncIntentHandler1=function(k,l){"use strict";var m=function m(){new(c("AsyncRequest"))(k.action_link).send()};return c("React").createElement(c("Link.react"),{className:l,key:k.title+k.id,onClick:m},k.translated_title||k.title)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("MessengerGamesPlayGameLink.react",["BootloadOnRender.react","InstantGameContextType","JSResource","LazyComponent.react","Link.react","MercuryIDs","QuicksilverSources","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={playerOpen:false},this.$MessengerGamesPlayGameLink1=function(event){if(this.props.onClick)this.props.onClick(event);this.$MessengerGamesPlayGameLink3()}.bind(this),this.$MessengerGamesPlayGameLink2=function(){this.setState({playerOpen:false})}.bind(this),m}k.prototype.render=function(){var l=c("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),m=this.props.contextType,n=this.props.contextSourceID;if(!m){m=c("InstantGameContextType").THREAD;n=l}return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{className:this.props.className,onClick:this.$MessengerGamesPlayGameLink1},this.props.title),this.state.playerOpen?c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGamesPlayGameLink.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{initialContextType:m,initialContextSourceID:n,initialEntryPointData:this.props.payload,initialGameID:this.props.gameID,onHide:this.$MessengerGamesPlayGameLink2,initialSource:this.props.source||c("QuicksilverSources").UNKNOWN,sourceID:l})}):null)};k.prototype.$MessengerGamesPlayGameLink3=function(){this.setState({playerOpen:true})};k.propTypes={className:j.string,contextSourceID:j.string,contextType:j.string.isRequired,gameID:j.string.isRequired,payload:j.string,source:j.string,threadID:j.string.isRequired,title:j.string.isRequired};f.exports=k}),null);
__d("MessengerPlayGameCallToActionHelper",["URI","idx"],(function a(b,c,d,e,f,g){__p&&__p();f.exports={parseMetadata:function h(i){var j,k,l,m,n=(j=i)!=null?j.instantgame_gameid:j;if(!n)return null;var o=(k=i)!=null?k.instantgame_payload:k,p=(l=i)!=null?l.instantgame_context_type:l,q=(m=i)!=null?m.instantgame_context_id:m;return{contextSourceID:q,contextType:p,gameID:n,payload:o}},parseActionLink:function h(i){var j=new(c("URI"))(i).getQueryData();if(!j)return null;var k=j.game_id;if(!k)return null;var l=j.payload,m=j.context_type,n=j.context_id;return{contextSourceID:n,contextType:m,gameID:k,payload:l}}}}),null);
__d("MessengerPlayGameCallToActionIntentHandler",["cx","invariant","InstantGameContextType","MercuryIDs","MessengerPlayGameCallToActionHelper","MNCommerceCallToActionGenericIntentHandler","MessengerGamesPlayGameLink.react","QuicksilverSources","React","idx","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("MNCommerceCallToActionGenericIntentHandler"));k=j&&j.prototype;l.prototype.renderForWebLink=function(m,n){"use strict";return this.$MessengerPlayGameCallToActionIntentHandler1(m,n)};l.prototype.renderForNativeLink=function(m,n){"use strict";return this.$MessengerPlayGameCallToActionIntentHandler1(m,n)};l.prototype.$MessengerPlayGameCallToActionIntentHandler1=function(m,n){__p&&__p();var o,p;"use strict";var q=this.threadID||"",r=(o=m)!=null?o.instantgame_metadata:o,s=(p=m)!=null?p.action_link:p,t=null;if(r)t=c("MessengerPlayGameCallToActionHelper").parseMetadata(r);else if(s)t=c("MessengerPlayGameCallToActionHelper").parseActionLink(s);if(!t)return c("React").createElement("div",null);var u=t.gameID;u||i(0);var v=t.contextSourceID,w=t.contextType;if(!w){w=c("InstantGameContextType").THREAD;v=c("MercuryIDs").getThreadFBIDFromThreadID(q)}return c("React").createElement(c("MessengerGamesPlayGameLink.react"),{className:c("joinClasses")(n,"_fy2"),contextSourceID:v,contextType:w,gameID:u,key:m.title+m.id,onClick:this.onClickHook,payload:t.payload||undefined,source:c("QuicksilverSources").MESSENGER_CALL_TO_ACTION,threadID:q,title:m.translated_title||m.title})};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("MNCommerceCallToActionHandlerMap",["BuyOnMessengerCallToActionIntentHandler","MMeCallToActionIntentHandler","MNCommerceCallToActionAsyncIntentHandler","MNCommerceCallToActionGenericIntentHandler","MessengerPlayGameCallToActionIntentHandler","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={"fb-messenger://payments/buy/mc?":c("BuyOnMessengerCallToActionIntentHandler"),"fb-messenger://business/commerce/":c("BuyOnMessengerCallToActionIntentHandler"),"fb-messenger://instant_games/play":c("MessengerPlayGameCallToActionIntentHandler"),"https://m.me/":c("MMeCallToActionIntentHandler")};function i(j){for(var k in h)if(j.startsWith(k)){var l=h[k];return new l()}if(new(c("URI"))(j).getQueryData().async)return new(c("MNCommerceCallToActionAsyncIntentHandler"))();return new(c("MNCommerceCallToActionGenericIntentHandler"))()}f.exports={getHandler:i}}),null);
__d("ChatPageComposerNullState.react",["cx","fbt","Link.react","MNCommerceCallToActionType","MNCommerceCallToActionHandlerMap","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){switch(this.props.cta.action_type){case c("MNCommerceCallToActionType").OPEN_NATIVE:return this.$ChatPageComposerNullState1();case c("MNCommerceCallToActionType").POSTBACK:default:return this.$ChatPageComposerNullState2()}};l.prototype.$ChatPageComposerNullState1=function(){return c("MNCommerceCallToActionHandlerMap").getHandler(this.props.cta.action_link).setThreadID(this.props.threadID).setOnClickHook(this.props.onClick).renderForNativeLink(this.props.cta,"_2xh6 _2xh7"+(this.props.disabled?" _5vsu":""))};l.prototype.$ChatPageComposerNullState2=function(){return c("React").createElement(c("Link.react"),{className:"_2xh6 _2xh7"+(this.props.disabled?" _5vsu":""),onClick:this.props.onClick},i._("{name}",[i.param("name",this.props.cta.title)]))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("MNCommercePromotionReactShapes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.arrayOf(h.shape({action_link:h.string,title:h.string})),j={CallToActions:i,RetailItem:h.shape({call_to_actions:i,id:h.string,metalines:h.shape({metaline_1:h.string,metaline_2:h.string,metaline_3:h.string}),name:h.string,url:h.string,source:h.string})};f.exports=j}),null);
__d("BrowserExtensionsErrorHandler",["errorCode","errorDesc"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getExternalError:function k(l){__p&&__p();switch(l){case 2018062:return{code:2018062,message:i._(function(m,n){return m._("The URL provided is not whitelisted for messenger extensions")},{})};case 2018067:return{code:2018067,message:i._(function(m,n){return m._("Pages using Messenger Extensions must use https and not include any port.")},{})};case 2018164:return{code:2018164,message:i._(function(m,n){return m._("Please pass in a valid app ID.")},{})};case 2018166:return{code:2018166,message:i._(function(m,n){return m._("Permission not valid to call the SDK API.")},{})};case 2018159:return{code:2018159,message:i._(function(m,n){return m._("Invalid payload were passed to the share flow.")},{})};case 2018160:return{code:2018160,message:i._(function(m,n){return m._("The provided open graph template is not supported.")},{})};case 2018161:return{code:2018161,message:i._(function(m,n){return m._("Open graph URL in the preview content does not match the one in share content.")},{})};case 2018053:return{code:2018053,message:i._(function(m,n){return m._("Element button title cannot be empty.")},{})};case 2018125:return{code:2018125,message:i._(function(m,n){return m._("Invalid URL button fields provided. Please check documentation for details.")},{})};case 2018041:return{code:2018041,message:i._(function(m,n){return m._("Web url cannot be empty for url type button")},{})};case 2018158:return{code:2018158,message:i._(function(m,n){return m._("There was a problem creating the share attachment. Please try again later.")},{})};case 2018142:return{code:2018142,message:i._(function(m,n){return m._("Beginshare parameters are not valid.")},{})};case 2018034:return{code:2018034,message:i._(function(m,n){return m._("Message cannot be empty, must provide valid attachment or text")},{})};case 2018167:return{code:2018167,message:i._(function(m,n){return m._("Another API operation is in progress.")},{})};case 2018012:return{code:2018012,message:i._(function(m,n){return m._("Unexpected internal error")},{})};case 2018154:default:return{code:2018154,message:i._(function(m,n){return m._("Messenger Extensions unexpected error.")},{})}}}};f.exports=j}),null);
__d("MessengerPlatformBeginShareMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1467034453348931"};j.getQueryID=function(){"use strict";return"294980674291966"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsShareChatTabDialog.react",["cx","fbt","AbstractTextArea.react","AsyncRequest","MessengerPlatformBeginShareMutationWebGraphQLMutation","CurrentUser","BrowserExtensionsErrorHandler","Image.react","immutable","MessengerComposeViewHeader.react","MessengerTextWithEntities.react","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUISpinner.react","emptyFunction","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m="broadcast";j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={isSending:false,message:"",recipients:c("immutable").List()},this.$BrowserExtensionsShareChatTabDialog3=function(t){this.setState({recipients:this.state.recipients.push(t)})}.bind(this),this.$BrowserExtensionsShareChatTabDialog4=function(t){var u=this.state.recipients;this.setState({recipients:u["delete"](u.indexOf(t))})}.bind(this),this.$BrowserExtensionsShareChatTabDialog2=function(){this.setState({recipients:c("immutable").List()})}.bind(this),this.$BrowserExtensionsShareChatTabDialog6=function(){__p&&__p();this.setState({isSending:true});var t=this.state.recipients.map(function(v){return v.getUniqueID()}).toArray(),u=c("MessengerPlatformBeginShareMutationWebGraphQLMutation").getURI({content_for_preview:{button_url:this.props.buttonUrl,button_title:this.props.buttonTitle,image_url:this.props.imageUrl,item_url:this.props.itemUrl,open_graph_url:this.props.openGraphUrl,preview_type:this.props.previewType,subtitle:this.props.subtitle,target_display:this.props.targetDisplay,title:this.props.title,attachment_id:this.props.attachmentID,facebook_media_url:this.props.facebookMediaUrl,media_type:this.props.mediaType},content_for_share:this.props.contentForShare,message_text:this.state.message,page_id:this.props.pageID,thread_ids:this.props.sharingType===m?t:this.props.threadID,trigger:this.props.sharingType===m?"JS_BRIDGE_BROADCAST":"JS_BRIDGE_DIRECT"});new(c("AsyncRequest"))(u).setHandler(function(v){var w;if(this.$BrowserExtensionsShareChatTabDialog1)this.setState({isSending:false});var x=(w=v)!=null?(w=w.payload)!=null?(w=w.errors)!=null?w[0]:w:w:w;if(x){var y=x?x.code:null;this.props.errorCallback(c("BrowserExtensionsErrorHandler").getExternalError(y))}else this.props.successCallback({is_sent:true})}.bind(this)).send()}.bind(this),p}n.prototype.componentDidMount=function(){this.$BrowserExtensionsShareChatTabDialog1=true};n.prototype.componentWillUnmount=function(){this.$BrowserExtensionsShareChatTabDialog1=false};n.prototype.render=function(){var o=this.props.sharingType===m?i._("Share"):i._("Send To Current Thread"),p=this.props.sharingType===m?this.state.recipients.size!==0:true,q=this.props.sharingType===m?c("React").createElement(c("MessengerComposeViewHeader.react"),{className:"_189v",forceHideClearButton:false,onClear:this.$BrowserExtensionsShareChatTabDialog2,onAddRecipient:this.$BrowserExtensionsShareChatTabDialog3,onRemoveRecipient:this.$BrowserExtensionsShareChatTabDialog4,onResize:c("emptyFunction"),recipients:this.state.recipients,viewer:c("CurrentUser").getID()}):null,r=this.props.sharingType===m?c("React").createElement("div",{className:"_4te6"},c("React").createElement(c("AbstractTextArea.react"),{autoFocus:true,className:"_4te8",disabled:this.state.isSending,onChange:function(u){return this.setState({message:u.target.value})}.bind(this),placeholder:i._("Type a message..."),rows:2,value:this.state.message})):null,s=this.state.isSending?c("React").createElement(c("XUISpinner.react"),{size:"large"}):null,t=this.props.imageUrl?this.props.imageUrl:this.props.facebookMediaPreviewUrl;return c("React").createElement("div",null,c("React").createElement(c("XUIDialogHeader.react"),null,c("React").createElement(c("XUIDialogHeaderTitle.react"),null,o)),c("React").createElement(c("XUIDialogBody.react"),{className:"_189w"},q,r,c("React").createElement("div",{className:"_5l-3"},c("React").createElement("div",{className:"_4tea"},c("React").createElement(c("Image.react"),{src:t})),c("React").createElement("div",{className:"_4tef"},c("React").createElement("div",{style:{fontWeight:"bold"}},this.$BrowserExtensionsShareChatTabDialog5(this.props.title)),c("React").createElement("div",null,this.$BrowserExtensionsShareChatTabDialog5(this.props.subtitle)),c("React").createElement("div",null,this.$BrowserExtensionsShareChatTabDialog5(this.props.targetDisplay))))),c("React").createElement(c("XUIDialogFooter.react"),{leftContent:s},c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.state.isSending||!p,label:i._("Send"),onClick:this.$BrowserExtensionsShareChatTabDialog6,use:"default"})))};n.prototype.$BrowserExtensionsShareChatTabDialog5=function(o){return c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,text:o||""})};n.propTypes={buttonTitle:l.string,buttonUrl:l.string,contentForShare:l.string,imageUrl:l.string,itemUrl:l.string,openGraphUrl:l.string,facebookMediaUrl:l.string,facebookMediaPreviewUrl:l.string,attachmentID:l.string,mediaType:l.string,previewType:l.string,subtitle:l.string,targetDisplay:l.string,title:l.string,sharingType:l.string.isRequired,pageID:l.string.isRequired,threadID:l.string.isRequired,successCallback:l.func.isRequired,errorCallback:l.func.isRequired};f.exports=n}),null);
__d("BrowserExtensionsShareMessengerDialog.react",["cx","fbt","AbstractTextArea.react","AsyncRequest","MessengerPlatformBeginShareMutationWebGraphQLMutation","CurrentUser","BrowserExtensionsErrorHandler","Image.react","immutable","LayerFadeOnHide","MessengerComposeViewHeader.react","MessengerDialog.react","MessengerDialogs.bs","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogFooter.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerSpinner.react","MessengerTextWithEntities.react","React","emptyFunction","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MessengerDialogBodyReact.bs").jsComponent,m=c("React").PropTypes,n="broadcast";j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={clickedSend:false,isSending:false,message:"",recipients:c("immutable").List()},this.$BrowserExtensionsShareMessengerDialog3=function(u){this.setState({recipients:this.state.recipients.push(u)})}.bind(this),this.$BrowserExtensionsShareMessengerDialog4=function(u){var v=this.state.recipients;this.setState({recipients:v["delete"](v.indexOf(u))})}.bind(this),this.$BrowserExtensionsShareMessengerDialog2=function(){this.setState({recipients:c("immutable").List()})}.bind(this),this.$BrowserExtensionsShareMessengerDialog7=function(){__p&&__p();this.setState({clickedSend:true,isSending:true});var u=this.state.recipients.map(function(w){return w.getUniqueID()}).toArray(),v=c("MessengerPlatformBeginShareMutationWebGraphQLMutation").getURI({content_for_preview:{button_url:this.props.buttonUrl,button_title:this.props.buttonTitle,image_url:this.props.imageUrl,item_url:this.props.itemUrl,open_graph_url:this.props.openGraphUrl,preview_type:this.props.previewType,subtitle:this.props.subtitle,target_display:this.props.targetDisplay,title:this.props.title,attachment_id:this.props.attachmentID,facebook_media_url:this.props.facebookMediaUrl,media_type:this.props.mediaType},content_for_share:this.props.contentForShare,message_text:this.state.message,page_id:this.props.pageID,thread_ids:this.props.sharingType===n?u:this.props.threadID,trigger:this.props.sharingType===n?"JS_BRIDGE_BROADCAST":"JS_BRIDGE_DIRECT"});new(c("AsyncRequest"))(v).setHandler(function(w){__p&&__p();var x;if(this.$BrowserExtensionsShareMessengerDialog1)this.setState({isSending:false},function(){c("MessengerDialogs.bs").removeDialog()});var y=(x=w)!=null?(x=x.payload)!=null?(x=x.errors)!=null?x[0]:x:x:x;if(y){var z=y?y.code:null;this.props.errorCallback(c("BrowserExtensionsErrorHandler").getExternalError(z))}else this.props.successCallback({is_sent:true})}.bind(this)).send()}.bind(this),this.$BrowserExtensionsShareMessengerDialog5=function(u){if(!u){if(!this.state.clickedSend)this.props.successCallback({is_sent:false});c("MessengerDialogs.bs").removeDialog()}}.bind(this),q}o.prototype.componentDidMount=function(){this.$BrowserExtensionsShareMessengerDialog1=true};o.prototype.componentWillUnmount=function(){this.$BrowserExtensionsShareMessengerDialog1=false};o.prototype.render=function(){var p=this.props.sharingType===n?i._("Share"):i._("Send To Current Thread"),q=this.props.sharingType===n?this.state.recipients.size!==0:true,r=this.props.sharingType===n?c("React").createElement(c("MessengerComposeViewHeader.react"),{className:"_189v",forceHideClearButton:false,onClear:this.$BrowserExtensionsShareMessengerDialog2,onAddRecipient:this.$BrowserExtensionsShareMessengerDialog3,onRemoveRecipient:this.$BrowserExtensionsShareMessengerDialog4,onResize:c("emptyFunction"),recipients:this.state.recipients,viewer:c("CurrentUser").getID()}):null,s=this.props.sharingType===n?c("React").createElement("div",{className:"_4te6"},c("React").createElement(c("AbstractTextArea.react"),{autoFocus:true,className:"_4te8",disabled:this.state.isSending,onChange:function(v){return this.setState({message:v.target.value})}.bind(this),placeholder:i._("Type a message..."),rows:2,value:this.state.message})):null,t=this.state.isSending?c("React").createElement(c("MessengerSpinner.react"),null):null,u=this.props.imageUrl?this.props.imageUrl:this.props.facebookMediaPreviewUrl;return c("React").createElement(c("MessengerDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},hideOnEscape:true,onToggle:this.$BrowserExtensionsShareMessengerDialog5,shown:true,width:500},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogTitle.react"),null,p)),c("React").createElement(l,{className:"_189w"},r,s,c("React").createElement("div",{className:"_5l-3"},c("React").createElement("div",{className:"_4tea"},c("React").createElement(c("Image.react"),{src:u})),c("React").createElement("div",{className:"_4tef"},c("React").createElement("div",{style:{fontWeight:"bold"}},this.$BrowserExtensionsShareMessengerDialog6(this.props.title)),c("React").createElement("div",null,this.$BrowserExtensionsShareMessengerDialog6(this.props.subtitle)),c("React").createElement("div",null,this.$BrowserExtensionsShareMessengerDialog6(this.props.targetDisplay))))),c("React").createElement(c("MessengerDialogFooter.react"),{leftContent:t},c("React").createElement(c("MessengerDialogCancelButton.react"),null),c("React").createElement(c("MessengerDialogButton.react"),{action:"confirm",disabled:this.state.isSending||!q,label:i._("Send"),onClick:this.$BrowserExtensionsShareMessengerDialog7,type:"primary"})))};o.prototype.$BrowserExtensionsShareMessengerDialog6=function(p){return c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,text:p||""})};o.propTypes={buttonTitle:m.string,buttonUrl:m.string,contentForShare:m.string,imageUrl:m.string,itemUrl:m.string,openGraphUrl:m.string,facebookMediaUrl:m.string,facebookMediaPreviewUrl:m.string,attachmentID:m.string,mediaType:m.string,previewType:m.string,subtitle:m.string,targetDisplay:m.string,title:m.string,sharingType:m.string.isRequired,pageID:m.string.isRequired,threadID:m.string.isRequired,successCallback:m.func.isRequired,errorCallback:m.func.isRequired};f.exports=o}),null);
__d("MessengerPlatformMediaAttachmentPreviewWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1480172682071484"};j.getQueryID=function(){"use strict";return"1145458142265315"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsBeginShareHelper",["AsyncRequest","BrowserExtensionsShareChatTabDialog.react","BrowserExtensionsShareMessengerDialog.react","DialogX","BrowserExtensionsErrorHandler","LayerDestroyOnHide","LayerFadeOnHide","LayerHideOnBlur","MessengerPlatformMediaAttachmentPreviewWebGraphQLQuery","MessengerDialogs.bs","MessengerEnvironment","React","WebGraphQL","XShareScrapeAttachmentAsyncController","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="OPEN_GRAPH",i=150,j=150;function k(m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E){__p&&__p();var F;if(c("MessengerEnvironment").messengerui)c("MessengerDialogs.bs").showDialog(function(){return c("React").createElement(c("BrowserExtensionsShareMessengerDialog.react"),{buttonTitle:m,buttonUrl:n,contentForShare:o,imageUrl:p,itemUrl:q,openGraphUrl:r,facebookMediaUrl:s,facebookMediaPreviewUrl:t,attachmentID:u,mediaType:v,previewType:w,subtitle:x,targetDisplay:y,title:z,sharingType:A,pageID:B,threadID:C,successCallback:D,errorCallback:E})});else(function(){var G={width:500,addedBehaviors:[c("LayerDestroyOnHide"),c("LayerFadeOnHide"),c("LayerHideOnBlur")]},H=c("React").createElement(c("BrowserExtensionsShareChatTabDialog.react"),{buttonTitle:m,buttonUrl:n,contentForShare:o,imageUrl:p,itemUrl:q,openGraphUrl:r,facebookMediaUrl:s,facebookMediaPreviewUrl:t,attachmentID:u,mediaType:v,previewType:w,subtitle:x,targetDisplay:y,title:z,sharingType:A,pageID:B,threadID:C,successCallback:D,errorCallback:E}),I=new(c("DialogX"))(G,H);I.subscribe("confirm",function(){I.hide()});I.subscribe("cancel",function(){D({is_sent:false})});I.show()})()}var l={beginShareFlow:function m(n,o,p,q,r,s,t){__p&&__p();if(r.preview_type===h){var u=c("XShareScrapeAttachmentAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(u).setData({image_height:i,image_width:j,uri:r.open_graph_url}).setHandler(function(v){var w,x,y,z=(w=v)!=null?(w=w.payload)!=null?(w=w.media)!=null?w.image:w:w:w,A=(x=v)!=null?(x=x.payload)!=null?x.title:x:x,B=(y=v)!=null?(y=y.payload)!=null?(y=y.target)!=null?(y=y.artists)!=null?y[0]:y:y:y:y;k(r.button_title,r.button_url,q,z,r.item_url,r.open_graph_url,null,null,null,null,r.preview_type,B,r.target_display,A,p,n,o,s,t)}).send()}else if(!r.image_url)c("WebGraphQL").exec(new(c("MessengerPlatformMediaAttachmentPreviewWebGraphQLQuery"))({params:{attachment_id:r.attachment_id,page_id:n,url:r.facebook_media_url,media_type:r.media_type}})).done(function(v){var w=v.messenger_platform_media_attachment_preview_info;k(r.button_title,r.button_url,q,null,r.item_url,r.open_graph_url,r.facebook_media_url,w.media_attachment.image.uri,r.attachment_id,r.media_type,r.preview_type,r.subtitle,r.target_display,r.title,p,n,o,s,t)},function(v){var w,x=(w=v)!=null?(w=w.errors)!=null?(w=w[0])!=null?w.code:w:w:w;t(c("BrowserExtensionsErrorHandler").getExternalError(x))});else k(r.button_title,r.button_url,q,r.image_url,r.item_url,r.open_graph_url,r.facebook_media_url,null,r.attachment_id,r.media_type,r.preview_type,r.subtitle,r.target_display,r.title,p,n,o,s,t)}};f.exports=l}),null);
__d("BrowserExtensionsAskPermissionsChatTabDialog.react",["cx","BrowserExtensionsTypedLogger","BrowserExtensionsPermissionsHelper","Image.react","React","URI","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_5_jw",src:this.props.profileImageUrl})),this.props.message),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:this.props.rejectButtonTitle,onClick:function(){this.$BrowserExtensionsAskPermissionsChatTabDialog1(false)}.bind(this)}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:this.props.confirmButtonTitle,onClick:function(){this.$BrowserExtensionsAskPermissionsChatTabDialog1(true);c("BrowserExtensionsPermissionsHelper").grantPermissions(this.props.pageID,this.props.threadID,this.props.permissionToGrant,this.props.successCallback,this.props.errorCallback)}.bind(this),use:"confirm"})))};l.prototype.$BrowserExtensionsAskPermissionsChatTabDialog1=function(m){new(c("BrowserExtensionsTypedLogger"))().setAPIEndpoint("askPermission").setExtraClientData(JSON.stringify({source:"platform_api",extension_type:"messenger_extension",permission_requested:this.props.permissionToGrant,permission_accepted:m})).setName("browser_extensions_permission_dialog_action").setWebsiteURL(this.props.thirdPartyURI.toString()).setStartURL(this.props.thirdPartyURI.toString()).setStringPageID(this.props.pageID).setThreadID(this.props.threadID).log()};function l(){i.apply(this,arguments)}l.propTypes={thirdPartyURI:k.instanceOf(c("URI")).isRequired,pageID:k.string.isRequired,threadID:k.string.isRequired,message:k.string.isRequired,profileImageUrl:k.string.isRequired,confirmButtonTitle:k.string.isRequired,rejectButtonTitle:k.string.isRequired,permissionToGrant:k.string.isRequired,successCallback:k.func.isRequired,errorCallback:k.func.isRequired};f.exports=l}),null);
__d("BrowserExtensionsAskPermissionsMessengerDialog.react",["cx","BrowserExtensionsPermissionsHelper","BrowserExtensionsTypedLogger","Image.react","LayerFadeOnHide","MessengerDialog.react","MessengerDialogs.bs","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogFooter.react","React","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MessengerDialogBodyReact.bs").jsComponent,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={clickedConfirm:false},this.$BrowserExtensionsAskPermissionsMessengerDialog1=function(s){if(!s){if(!this.state.clickedConfirm)this.props.successCallback({permissions:this.props.grantedPermissions});c("MessengerDialogs.bs").removeDialog()}}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("MessengerDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},hideOnEscape:true,onToggle:this.$BrowserExtensionsAskPermissionsMessengerDialog1,shown:true},c("React").createElement(k,null,c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_5_jw",src:this.props.profileImageUrl})),this.props.message),c("React").createElement(c("MessengerDialogFooter.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),{label:this.props.rejectButtonTitle,onClick:function(){this.$BrowserExtensionsAskPermissionsMessengerDialog2(false)}.bind(this)}),c("React").createElement(c("MessengerDialogButton.react"),{action:"confirm",label:this.props.confirmButtonTitle,onClick:function(){this.setState({clickedConfirm:true},function(){this.$BrowserExtensionsAskPermissionsMessengerDialog2(true);c("MessengerDialogs.bs").removeDialog();c("BrowserExtensionsPermissionsHelper").grantPermissions(this.props.pageID,this.props.threadID,this.props.permissionToGrant,this.props.successCallback,this.props.errorCallback)}.bind(this))}.bind(this),type:"primary"})))};m.prototype.$BrowserExtensionsAskPermissionsMessengerDialog2=function(n){new(c("BrowserExtensionsTypedLogger"))().setAPIEndpoint("askPermission").setExtraClientData(JSON.stringify({source:"platform_api",extension_type:"messenger_extension",permission_requested:this.props.permissionToGrant,permission_accepted:n})).setName("browser_extensions_permission_dialog_action").setWebsiteURL(this.props.thirdPartyURI.toString()).setStartURL(this.props.thirdPartyURI.toString()).setStringPageID(this.props.pageID).setThreadID(this.props.threadID).log()};m.propTypes={thirdPartyURI:l.instanceOf(c("URI")).isRequired,pageID:l.string.isRequired,threadID:l.string.isRequired,message:l.string.isRequired,profileImageUrl:l.string.isRequired,confirmButtonTitle:l.string.isRequired,rejectButtonTitle:l.string.isRequired,permissionToGrant:l.string.isRequired,grantedPermissions:l.arrayOf(l.string).isRequired,successCallback:l.func.isRequired,errorCallback:l.func.isRequired};f.exports=m}),null);
__d("MessengerPlatformGrantPermissionsMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1544630875548192"};j.getQueryID=function(){"use strict";return"611085139087610"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerPlatformPermissionWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1068951296538364"};j.getQueryID=function(){"use strict";return"1526731417350771"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsPermissionsHelper",["AsyncRequest","BrowserExtensionsAskPermissionsChatTabDialog.react","BrowserExtensionsAskPermissionsMessengerDialog.react","BrowserExtensionsTypedLogger","DialogX","BrowserExtensionsErrorHandler","MessengerPlatformGrantPermissionsMutationWebGraphQLMutation","LayerDestroyOnHide","LayerFadeOnHide","LayerHideOnBlur","MessengerDialogs.bs","MessengerEnvironment","MessengerPlatformPermissionWebGraphQLQuery","React","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u;if(c("MessengerEnvironment").messengerui)c("MessengerDialogs.bs").showDialog(function(){return c("React").createElement(c("BrowserExtensionsAskPermissionsMessengerDialog.react"),{thirdPartyURI:j,pageID:k,threadID:l,message:m,profileImageUrl:n,confirmButtonTitle:o,rejectButtonTitle:p,permissionToGrant:q,grantedPermissions:r,successCallback:s,errorCallback:t})});else(function(){var v={width:400,addedBehaviors:[c("LayerDestroyOnHide"),c("LayerFadeOnHide"),c("LayerHideOnBlur")]},w=c("React").createElement(c("BrowserExtensionsAskPermissionsChatTabDialog.react"),{thirdPartyURI:j,pageID:k,threadID:l,message:m,profileImageUrl:n,confirmButtonTitle:o,rejectButtonTitle:p,permissionToGrant:q,successCallback:s,errorCallback:t}),x=new(c("DialogX"))(v,w),y=false;x.subscribe("confirm",function(){y=true});x.subscribe("hide",function(){if(!y)s({permissions:r})});x.show()})();new(c("BrowserExtensionsTypedLogger"))().setAPIEndpoint("askPermission").setName("browser_extensions_permission_dialog_shown").setWebsiteURL(j.toString()).setStartURL(j.toString()).setStringPageID(k).setThreadID(l).log()}var i={askPermissions:function j(k,l,m,n,o,p){__p&&__p();var q=c("MessengerPlatformPermissionWebGraphQLQuery").getURI({params:{page_id:l,thread_id:m},selected_permissions:[n]});new(c("AsyncRequest"))().setURI(q).setHandler(function(r){__p&&__p();var s,t,u,v=(s=r)!=null?(s=s.payload)!=null?(s=s.data)!=null?(s=s.messenger_platform_permission)!=null?(s=s.selected_permission_infos)!=null?s[0]:s:s:s:s:s,w=(t=r)!=null?(t=t.payload)!=null?(t=t.data)!=null?(t=t.messenger_platform_permission)!=null?t.granted_permission_infos:t:t:t:t,x=(u=r)!=null?(u=u.payload)!=null?(u=u.errors)!=null?u[0]:u:u:u;if(!w){var y=x?x.code:null;p(c("BrowserExtensionsErrorHandler").getExternalError(y))}else{var z=w.map(function(B){return B.permission_type});if(!v||v.is_granted)o({permissions:z});else{var A=v.dialog_info;h(k,l,m,A.title,A.profile_image.uri,A.confirm_button_text,A.reject_button_text,n,z,o,p)}}}).send()},grantPermissions:function j(k,l,m,n,o){__p&&__p();var p=c("MessengerPlatformGrantPermissionsMutationWebGraphQLMutation").getURI({page_id:k,thread_id:l,permissions:[m]});new(c("AsyncRequest"))().setURI(p).setHandler(function(q){var r,s,t=(r=q)!=null?(r=r.payload)!=null?(r=r.data)!=null?(r=r.messenger_platform_grant_permissions)!=null?r.granted_permission_infos:r:r:r:r,u=(s=q)!=null?(s=s.payload)!=null?(s=s.errors)!=null?s[0]:s:s:s;if(t){var v=t.map(function(x){return x.permission_type});n({permissions:v})}else{var w=u?u.code:null;o(c("BrowserExtensionsErrorHandler").getExternalError(w))}}).send()}};f.exports=i}),null);
__d("MessengerPlatformGetContextMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1350985785027565"};j.getQueryID=function(){"use strict";return"182243942324918"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsDesktopController",["AsyncRequest","BrowserExtensionsBeginShareHelper","BrowserExtensionsPermissionsHelper","BrowserExtensionsTypedLogger","DOMEventListener","BrowserExtensionsErrorHandler","MessengerPlatformGetContextMutationWebGraphQLMutation","JSONRPC","MessengerPlatformPermissionWebGraphQLQuery","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="MESSENGER_EXTENSIONS_RPC:";function i(m,n,o,p,q,r,s){var t=c("MessengerPlatformGetContextMutationWebGraphQLMutation").getURI({actor_id:p,app_id:q,page_id:n,thread_id:o,extension_uri:m.getOrigin()});new(c("AsyncRequest"))().setURI(t).setHandler(function(u){var v,w,x=(v=u)!=null?(v=v.payload)!=null?(v=v.data)!=null?v.messenger_platform_get_context:v:v:v,y=(w=u)!=null?(w=w.payload)!=null?(w=w.errors)!=null?w[0]:w:w:w;if(x)r(x);else{var z=y?y.code:null;s(c("BrowserExtensionsErrorHandler").getExternalError(z))}}).send()}function j(m,n,o,p){__p&&__p();var q=c("MessengerPlatformPermissionWebGraphQLQuery").getURI({params:{page_id:m,thread_id:n}});new(c("AsyncRequest"))().setURI(q).setHandler(function(r){var s,t,u=(s=r)!=null?(s=s.payload)!=null?(s=s.data)!=null?(s=s.messenger_platform_permission)!=null?s.granted_permission_infos:s:s:s:s,v=(t=r)!=null?(t=t.payload)!=null?(t=t.errors)!=null?t[0]:t:t:t;if(u){var w=u.map(function(y){return y.permission_type});o({permissions:w})}else{var x=v?v.code:null;p(c("BrowserExtensionsErrorHandler").getExternalError(x))}}).send()}function k(m,n,o){m(n)}function l(m,n,o,p,q,r){__p&&__p();var s=new(c("JSONRPC"))(function(u){var v=m instanceof HTMLIFrameElement?m.contentWindow:m;v.postMessage(h+u,n.getOrigin())});this.$BrowserExtensionsDesktopController1=c("DOMEventListener").add(window,"message",function(event){if(typeof event.data!=="string"||!event.data.startsWith(h))return;s.read(event.data.substring(h.length))},false);function t(u){new(c("BrowserExtensionsTypedLogger"))().setAPIEndpoint(u).setName("browser_extensions_native_bridge_called").setWebsiteURL(n.toString()).setStartURL(n.toString()).setStringPageID(o).setThreadID(p).log()}s.local.askPermission=function(u,v,w){t("askPermission");c("BrowserExtensionsPermissionsHelper").askPermissions(n,o,p,u,v,w)};s.local.beginShareFlow=function(u,v,w,x,y){t("beginShareFlow");c("BrowserExtensionsBeginShareHelper").beginShareFlow(o,p,u,v,w,x,y)};s.local.getContext=function(u,v,w){t("getContext");i(n,o,p,q,u,v,w)};s.local.getGrantedPermissions=function(u,v){t("getGrantedPermissions");j(o,p,u,v)};s.local.requestCloseBrowser=function(u,v){t("requestCloseBrowser");k(r,u,v)}}l.prototype.getListener=function(){return this.$BrowserExtensionsDesktopController1};f.exports=l}),null);
__d("BrowserExtensionsDesktopCoordinator",["BrowserExtensionsDesktopController"],(function a(b,c,d,e,f,g){"use strict";var h=void 0,i={setActiveBridge:function j(k,l,m,n,o,p){if(h)h.remove();var q=new(c("BrowserExtensionsDesktopController"))(k,l,m,n,o,p);h=q.getListener()}};f.exports=i}),null);
__d("BrowserExtensionsIframe.react",["BrowserExtensionsDesktopCoordinator","BrowserExtensionsTypedLogger","ControlledRefererIFrame.react","MessengerEnvironment","React","URI","isFacebookURI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.componentDidMount=function(){if(this.refs.iframeRef){c("BrowserExtensionsDesktopCoordinator").setActiveBridge(this.refs.iframeRef,this.props.thirdPartyURI,this.props.pageID,this.props.threadID,this.props.userID,this.props.closeDialogHandler);new(c("BrowserExtensionsTypedLogger"))().setName("browser_extensions_browser_open").setWebsiteURL(this.props.thirdPartyURI.toString()).setStartURL(this.props.thirdPartyURI.toString()).setStringPageID(this.props.pageID).setThreadID(this.props.threadID).log()}};k.prototype.componentWillUnmount=function(){new(c("BrowserExtensionsTypedLogger"))().setName("browser_extensions_browser_closed").setWebsiteURL(this.props.thirdPartyURI.toString()).setStartURL(this.props.thirdPartyURI.toString()).setStringPageID(this.props.pageID).setThreadID(this.props.threadID).log()};k.prototype.render=function(){var l=new(c("URI"))(window.location.href),m=this.props.thirdPartyURI,n={ref:"iframeRef",src:m.addQueryData("fb_iframe_origin",l.getOrigin()).toString(),name:c("isFacebookURI")(l)?"facebook_ref":"messenger_ref",style:{border:0,height:this.props.height,width:this.props.width}};return c("isFacebookURI")(m)?c("React").createElement("iframe",n):c("React").createElement(c("ControlledRefererIFrame.react"),n)};function k(){h.apply(this,arguments)}k.propTypes={thirdPartyURI:j.instanceOf(c("URI")).isRequired,pageID:j.string.isRequired,threadID:j.string.isRequired,userID:j.string.isRequired,height:j.number.isRequired,width:j.number.isRequired,closeDialogHandler:j.func.isRequired};f.exports=k}),null);
__d("MessengerPageInfoWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1340699622714874"};j.getQueryID=function(){"use strict";return"794225320759977"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("BrowserExtensionsChatTabDialog.react",["cx","fbt","MessengerConstants","AsyncRequest","BrowserExtensionsIframe.react","Image.react","MessengerPageInfoWebGraphQLQuery","React","URI","XUICloseButton.react","XUIDialogBody.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MessengerConstants").BROWSER_EXTENSIONS_DIALOG_DIMENSIONS,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={profilePicUrl:null,title:null},p}n.prototype.componentDidMount=function(){var o=c("MessengerPageInfoWebGraphQLQuery").getURI({node_id:this.props.pageID});new(c("AsyncRequest"))().setURI(o).setHandler(function(p){var q,r,s=(q=p)!=null?(q=q.payload)!=null?(q=q.data)!=null?(q=q.node)!=null?(q=q.profile_picture)!=null?q.uri:q:q:q:q:q,t=(r=p)!=null?(r=r.payload)!=null?(r=r.data)!=null?(r=r.node)!=null?r.name:r:r:r:r;this.setState({profilePicUrl:s,title:t})}.bind(this)).send()};n.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_4-i0"},c("React").createElement("div",{className:"_5l-3 _3qur"},c("React").createElement("div",{className:"_3o_f"},c("React").createElement(c("Image.react"),{className:"_3o_g",src:this.state.profilePicUrl})),c("React").createElement("div",{className:"_3o_i"},this.state.title),c("React").createElement("div",{className:"_3qus"},c("React").createElement(c("XUICloseButton.react"),{className:"layerCancel _51-t",label:i._("Close")})))),c("React").createElement(c("XUIDialogBody.react"),{className:"_3o_l"},c("React").createElement(c("BrowserExtensionsIframe.react"),{thirdPartyURI:this.props.thirdPartyURI,pageID:this.props.pageID,threadID:this.props.threadID,userID:this.props.userID,height:this.props.height,width:this.props.width,closeDialogHandler:this.props.closeDialogHandler})))};n.defaultProps={height:l.HEIGHT,width:l.WIDTH};n.propTypes={thirdPartyURI:m.instanceOf(c("URI")).isRequired,pageID:m.string.isRequired,threadID:m.string.isRequired,userID:m.string.isRequired,height:m.number,width:m.number,closeDialogHandler:m.func.isRequired};f.exports=n}),null);
__d("BrowserExtensionsMessengerDialog.react",["cx","MessengerConstants","AsyncRequest","BrowserExtensionsIframe.react","Image.react","LayerFadeOnHide","MessengerDialog.react","MessengerDialogs.bs","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogHeader.react","MessengerPageInfoWebGraphQLQuery","React","URI","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MessengerConstants").BROWSER_EXTENSIONS_DIALOG_DIMENSIONS,l=c("MessengerDialogBodyReact.bs").jsComponent,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={profilePicUrl:null,title:null,shown:true},this.$BrowserExtensionsMessengerDialog3=function(t){this.setState({shown:false},t)}.bind(this),p}n.prototype.componentDidMount=function(){var o=c("MessengerPageInfoWebGraphQLQuery").getURI({node_id:this.props.pageID});this.$BrowserExtensionsMessengerDialog1=new(c("AsyncRequest"))().setURI(o).setHandler(function(p){var q,r,s=(q=p)!=null?(q=q.payload)!=null?(q=q.data)!=null?(q=q.node)!=null?(q=q.profile_picture)!=null?q.uri:q:q:q:q:q,t=(r=p)!=null?(r=r.payload)!=null?(r=r.data)!=null?(r=r.node)!=null?r.name:r:r:r:r;this.setState({profilePicUrl:s,title:t})}.bind(this));this.$BrowserExtensionsMessengerDialog1.send()};n.prototype.componentWillUnmount=function(){this.$BrowserExtensionsMessengerDialog1&&this.$BrowserExtensionsMessengerDialog1.abandon()};n.prototype.render=function(){return c("React").createElement(c("MessengerDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},hideOnEscape:true,onToggle:this.$BrowserExtensionsMessengerDialog2,shown:this.state.shown,type:"default",width:this.props.width},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement("div",{className:"_5l-3 _3o_e"},c("React").createElement("div",{className:"_3o_f"},c("React").createElement(c("Image.react"),{className:"_3o_g",src:this.state.profilePicUrl})),c("React").createElement("div",{className:"_3o_i"},this.state.title),c("React").createElement("div",{className:"_3o_f"},c("React").createElement(c("MessengerDialogButton.react"),{action:"cancel",className:"_3o_k",label:"",type:"primary",use:"default"})))),c("React").createElement(l,{className:"_3o_l"},c("React").createElement(c("BrowserExtensionsIframe.react"),{thirdPartyURI:this.props.thirdPartyURI,pageID:this.props.pageID,threadID:this.props.threadID,userID:this.props.userID,height:this.props.height,width:this.props.width,closeDialogHandler:this.$BrowserExtensionsMessengerDialog3})))};n.prototype.$BrowserExtensionsMessengerDialog2=function(o){if(!o)c("MessengerDialogs.bs").removeDialog()};n.defaultProps={height:k.HEIGHT,width:k.WIDTH};n.propTypes={thirdPartyURI:m.instanceOf(c("URI")).isRequired,pageID:m.string.isRequired,threadID:m.string.isRequired,userID:m.string.isRequired,height:m.number,width:m.number};f.exports=n}),null);
__d("BrowserExtensionsDialog",["MessengerConstants","BrowserExtensionsChatTabDialog.react","BrowserExtensionsMessengerDialog.react","DialogX","LayerDestroyOnHide","LayerFadeOnHide","LayerHideOnBlur","MessengerDialogs.bs","MessengerEnvironment","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("MessengerConstants").BROWSER_EXTENSIONS_DIALOG_DIMENSIONS,i={show:function j(k,l,m,n){var o;if(c("MessengerEnvironment").messengerui)c("MessengerDialogs.bs").showDialog(function(){return c("React").createElement(c("BrowserExtensionsMessengerDialog.react"),{thirdPartyURI:k,pageID:l,threadID:m,userID:n})});else(function(){var p=void 0,q={width:h.WIDTH,addedBehaviors:[c("LayerDestroyOnHide"),c("LayerFadeOnHide"),c("LayerHideOnBlur")]},r=c("React").createElement(c("BrowserExtensionsChatTabDialog.react"),{thirdPartyURI:k,pageID:l,threadID:m,userID:n,closeDialogHandler:function s(t){return i.hideChatTabDialog(p,t)}});p=new(c("DialogX"))(q,r);p.show()})()},hideChatTabDialog:function j(k,l){if(k){k.hide();l()}}};f.exports=i}),null);
__d("FBPaymentsSerializableCheckoutConfigurationParser",["FBPaymentsContentConfigurationParser"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={parse:function i(j){var k=JSON.parse(j);return this._parseCheckoutConfiguration(k.checkout_configuration)},_parseCheckoutConfiguration:function i(j){var k={version:j.version,paymentInfo:this._parsePaymentInfo(j.payment_info),contentConfiguration:c("FBPaymentsContentConfigurationParser").parse(j.version,j.content_configuration),orderStatusModel:this._parseOrderStatusModel(j.order_status_model)};return k},_parsePaymentInfo:function i(j){var k={paymentItemType:j.payment_item_type,receiverId:j.receiver_id,orderId:j.order_id,action:j.action,extraData:j.extra_data};return k},_parseOrderStatusModel:function i(j){var k={type:j.type};return k}};f.exports=h}),null);
__d("MessengerPlatformCallToAction.react",["cx","fbt","AsyncDialog","AsyncRequest","Bootloader","BrowserExtensionsDialog","CurrentUser","MessengerEnvironment","FBConfirmDialog.react","FBPaymentsCheckoutFlowContainer.react","FBPaymentsSerializableCheckoutConfigurationParser","Link.react","LazyComponent.react","LoadOnRender.react","MercuryIDs","MessageShareType","MessagingForwardAttachmentDialog.react","MessengerAdsWebTypedLogger","MessengerForwardAttachmentDialogReact.bs","MNAdsLoggerEventEnum","MNCommerceCallToActionHandlerMap","MNCommerceCallToActionType","MNCommerceCTAProcessor","MNCommercePostbackCTADataManager","MNCommercePromotionReactShapes","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","MercuryShareAttachmentRenderLocations","Tooltip","URI","idx","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MessengerForwardAttachmentDialogReact.bs").jsComponent,m=c("React").PropTypes,n=function n(p){c("Bootloader").loadModules(["MessengerPreviewDialogReact.bs"],function(q){var r=q.jsComponent;return p(r)},"MessengerPlatformCallToAction.react")};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={showDialog:false,showPaymentCheckoutDialog:false,showShare:false},this.$MessengerPlatformCallToAction4=function(event){if(this.props.isSponsored)new(c("MessengerAdsWebTypedLogger"))().setEvent(c("MNAdsLoggerEventEnum").LINK_CLICK_CTA).setIsSponsored(this.props.isSponsored).setItemID(this.props.retailItem&&this.props.retailItem.id).setMessageID(this.props.messageID).setPageID(this.props.pageID).log();if(this.props.isPageAttachment&&this.props.pageID)c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").MESSENGER_ATTACHMENT,"messenger_thread",[],{action_title:this.props.callToAction.action_title});this.$MessengerPlatformCallToAction2()}.bind(this),this.$MessengerPlatformCallToAction6=function(){this.setState({showShare:true})}.bind(this),this.$MessengerPlatformCallToAction3=function(){this.setState({showPaymentCheckoutDialog:true})}.bind(this),this.$MessengerPlatformCallToAction8=function(){this.setState({showPaymentCheckoutDialog:false})}.bind(this),this.$MessengerPlatformCallToAction5=function(){this.setState({showShare:false})}.bind(this),this.onConfirm=function(){this.setState({showDialog:true})}.bind(this),this.onCancel=function(){this.setState({showDialog:false})}.bind(this),q}o.prototype.render=function(){__p&&__p();var p,q=this.props.callToAction,r=this.props.threadID,s=this.props.index;if(!q)return null;var t=function(q,y){return c("React").createElement("div",{key:s},this.$MessengerPlatformCallToAction1(q),c("React").createElement(c("Link.react"),{className:"_h2l",onClick:function(){this.$MessengerPlatformCallToAction2();this.$MessengerPlatformCallToAction3()}.bind(this)},c("React").createElement("div",{className:y},q.translated_title||q.title)),c("React").createElement("div",{className:"_h2m"},q.payment_metadata.total_price))}.bind(this),u=function u(q,y){var K=i._("The feature has been disabled.");return w(q,y,K)},v=function v(q,y){var K=i._("To use this feature, use the Messenger app.");return w(q,y,K)},w=function w(q,y,K){return c("React").createElement("div",babelHelpers["extends"]({className:c("joinClasses")("_3cno",y),"data-tooltip-alignh":"center","data-tooltip-position":"above",key:q.title||q.action_title},c("Tooltip").propsFor(K)),q.translated_title||q.title||q.action_title)},x=function(q,y){var K=function(L){c("BrowserExtensionsDialog").show(new(c("URI"))(q.action_link||q.action_url),c("MercuryIDs").getThreadFBIDFromThreadID(this.props.pageID),c("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),c("CurrentUser").getID());this.$MessengerPlatformCallToAction2()}.bind(this);return c("React").createElement("div",{key:q.id},c("React").createElement(c("Link.react"),{className:y,onClick:K},q.title||q.action_title))}.bind(this),y=this.props.classNames;if(q.is_disabled)return u(q,y);var z=q.action_type||q.action_open_type;switch(z){case c("MNCommerceCallToActionType").POSTBACK:var A=function(K){this.onCancel();if(q.is_mutable_by_server)c("MNCommercePostbackCTADataManager").send(q.id,null,null,this.props.messageID);else c("MNCommercePostbackCTADataManager").sendAndConfirm(q.id,q.title||q.action_title,r,null,null,null,[],this.props.messageID)}.bind(this),B=null;if(this.state.showDialog&&q.should_show_user_confirmation)B=c("React").createElement(c("FBConfirmDialog.react"),{title:q.confirmation_title,shown:true,onConfirm:A,onCancel:this.onCancel,confirmButtonText:q.confirmation_continue_label,cancelButtonText:q.confirmation_cancel_label,content:q.confirmation_message});var C=q.should_show_user_confirmation?this.onConfirm:A;return c("React").createElement("div",{key:s},c("React").createElement(c("Link.react"),{className:y,onClick:C},q.translated_title||q.title||q.action_title),B);case c("MNCommerceCallToActionType").OPEN_URL:return c("MNCommerceCallToActionHandlerMap").getHandler(q.action_link||q.action_url).setFallbackOnClick(this.$MessengerPlatformCallToAction4).setThreadID(r).renderForWebLink(q,y);case c("MNCommerceCallToActionType").OPEN_CANCEL_RIDE_MUTATION:return v(q,y);case c("MNCommerceCallToActionType").OPEN_NATIVE:var D=(p=q)!=null?(p=p.webview_metadata)!=null?p.messenger_extensions:p:p;if(D)return x(q,y);return c("MNCommerceCallToActionHandlerMap").getHandler(q.action_link||q.action_url).setFallbackOnClick(this.$MessengerPlatformCallToAction4).setThreadID(r).renderForNativeLink(q,y);case c("MNCommerceCallToActionType").PAYMENT:return t(q,y);case c("MNCommerceCallToActionType").SHARE:var E=c("MessengerEnvironment").messengerui?l:c("MessagingForwardAttachmentDialog.react"),F=i._("Share in Separate messages"),G=c("React").createElement(E,{attachmentID:q.id,messageID:this.props.messageID,onClose:this.$MessengerPlatformCallToAction5,shown:this.state.showShare,title:F,shareType:c("MessageShareType").PLATFORM_SHARE_CTA});return c("React").createElement("div",{key:s},c("React").createElement(c("Link.react"),{className:y,onClick:this.$MessengerPlatformCallToAction6},q.title||q.action_title),G);case c("MNCommerceCallToActionType").EXTENSIBLE_SHARE:var H=i._("Share in Separate messages");return c("React").createElement("div",{key:s},c("React").createElement(c("Link.react"),{className:y,onClick:this.$MessengerPlatformCallToAction6},q.title),c("React").createElement(c("LoadOnRender.react"),{key:"dialog",component:c("React").createElement(c("LazyComponent.react"),{attachmentID:q.id,image_url:q.action_objects[0].image_url,messageID:this.props.messageID,onClose:this.$MessengerPlatformCallToAction5,pageID:this.props.pageID,preview_title:q.action_objects[0].preview_title,preview_subtitle:q.action_objects[0].preview_subtitle,shown:this.state.showShare,target_display:q.action_objects[0].target_display,title:H,threadID:this.props.threadID}),loader:n,placeholder:c("React").createElement("span",null)}));case c("MNCommerceCallToActionType").ACCOUNT_LINK:var I=function(K){c("MNCommerceCTAProcessor").process(q.id,this.props.messageID)}.bind(this);return c("React").createElement(c("Link.react"),{className:y,key:s,onClick:I},q.translated_title||q.title);case c("MNCommerceCallToActionType").FACEBOOK_REPORT_A_PROBLEM:var J=function J(K){c("AsyncDialog").send(new(c("AsyncRequest"))("/ajax/bugs/report"))};return c("React").createElement(c("Link.react"),{className:y,key:s,onClick:J},q.translated_title||q.title);default:return v(q,y)}};o.prototype.$MessengerPlatformCallToAction1=function(p){if(this.state.showPaymentCheckoutDialog){var q=c("FBPaymentsSerializableCheckoutConfigurationParser").parse(this.$MessengerPlatformCallToAction7(p.payment_metadata.payment_module_config));q.contentConfiguration.checkoutClosedCallback=this.$MessengerPlatformCallToAction8;var r=q.contentConfiguration.confirmationConfiguration||{};r.confirmationClosedCallback=this.$MessengerPlatformCallToAction8;q.contentConfiguration.confirmationConfiguration=r;return c("React").createElement(c("FBPaymentsCheckoutFlowContainer.react"),{configuration:q})}return null};o.prototype.$MessengerPlatformCallToAction7=function(p){var q="";try{q=JSON.parse(p)}catch(r){return p}if(q.checkout_configuration&&q.checkout_configuration.payment_info&&q.checkout_configuration.payment_info.extra_data)q.checkout_configuration.payment_info.extra_data.message_id=this.props.messageID;return JSON.stringify(q)};o.prototype.$MessengerPlatformCallToAction2=function(){c("MNCommerceCTAProcessor").postHandle(this.props.callToAction.id,this.props.messageID)};o.propTypes={callToAction:m.object,index:m.number,classNames:m.string,isSponsored:m.bool,isPageAttachment:m.bool,location:m.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),messageID:m.string,mnMessageType:m.string,pageID:m.string,retailItem:c("MNCommercePromotionReactShapes").RetailItem,threadID:m.string};f.exports=o}),null);
__d("PageMessengerShareAttachment.react",["ix","cx","CenteredContainer.react","GeoCoordinates","GeoMarker","Image.react","Link.react","MercuryAttachment","MercuryFallbackShareAttachment.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MessengerPlatformCallToAction.react","React","StaticGeoMapBase.react","URI","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MercuryShareAttachmentRenderLocations").CHAT,m=c("MercuryShareAttachmentRenderLocations").MESSENGER,n=500,o=200,p=15,q=80,r=String.fromCodePoint(183);function s(y){__p&&__p();var z=y.coverPhotoDimensions,A=y.coverPhotoURL;if(y.latitude!=null&&y.longitude!=null){var B=new(c("GeoMarker"))(new(c("GeoCoordinates"))(y.latitude,y.longitude));z={width:n,height:o};var C=c("StaticGeoMapBase.react").getMapImageURI({size:z,zoom:p,markers:[B],boundingBox:null,center:null,paths:null});A=C==null?"":C.toString()}if(A===null)return c("React").createElement("div",{className:"_3ay3"});var D=c("MercuryAttachment").resizeContain({width:y.maxWidth,height:y.maxWidth},z),E=D.width,F=D.height;return c("React").createElement(c("Image.react"),{src:A,height:F,width:E,className:"_3ay6"})}function t(y){return c("React").createElement("div",{className:(y.hasCoverPhoto?"_3ay7":"")+(!y.hasCoverPhoto?" _3ayd":"")+" _2pim"},c("React").createElement(c("Image.react"),{src:y.media.image,height:q,width:q,className:"_3aye"}))}function u(y){return c("React").createElement("div",{className:"__6k _3ayf _2phz"},y.name)}function v(y){var z=y.rating===null||y.rating===0?null:c("React").createElement("span",null,c("React").createElement("text",{className:"_3ayg"},y.rating),c("React").createElement(c("Image.react"),{className:"_3ayh",src:h("134821")})," "+r+" ");return c("React").createElement("div",{className:"_3ayi _2pi7 _2pio"},c("React").createElement("div",null,z,y.category),c("React").createElement("div",null,y.address))}function w(y){var z=y.attachment.messenger_ctas;if(!z||z.length===0)return null;var A=y.location===l;z=z.filter(function(B){return B.action_link||B.action_url}).map(function(B,C){var D="_38ac"+(A?" _38ae":"")+(y.location!==m?" _38aj":"");return c("React").createElement(c("MessengerPlatformCallToAction.react"),{callToAction:B,classNames:D,index:C,isPageAttachment:true,key:C,location:y.location,pageID:B.page_id})});return c("React").createElement("div",{className:"_38ak"+(A?" _38al":"")+(A?" _38aa":"")+" _17fw"},z)}j=babelHelpers.inherits(x,c("React").PureComponent);k=j&&j.prototype;x.prototype.render=function(){if(!this.props.attachment.target)return c("React").createElement(c("MercuryFallbackShareAttachment.react"),this.props);var y=this.props,z=y.attachment,A=y.maxWidth,B=z.media,C=z.target,D=C.address,E=C.category,F=C.coverPhotoDimensions,G=C.coverPhotoID,H=C.coverPhotoURL,I=C.latitude,J=C.longitude,K=C.name,L=C.rating;return c("React").createElement("div",{className:(this.props.location===m?"_52mr":"")+(this.props.location===m?" _5i_d":""),style:{maxWidth:A}},c("React").createElement(c("Link.react"),{href:new(c("URI"))(this.props.attachment.uri),target:"_blank"},c("React").createElement(s,{maxWidth:A,coverPhotoURL:H,coverPhotoDimensions:F,latitude:I,longitude:J})),c("React").createElement(c("Link.react"),{href:new(c("URI"))(this.props.attachment.uri),target:"_blank"},c("React").createElement(t,{media:B,hasCoverPhoto:G!==null})),c("React").createElement(c("CenteredContainer.react"),{horizontal:true},c("React").createElement(c("Link.react"),{href:new(c("URI"))(this.props.attachment.uri),target:"_blank"},c("React").createElement(u,{name:K})),c("React").createElement(v,{address:D,category:E,rating:L})),c("React").createElement(w,{attachment:this.props.attachment,location:this.props.location}))};function x(){j.apply(this,arguments)}f.exports=x}),null);