if (self.CavalryLogger) { CavalryLogger.start_js(["wuwx2"]); }

__d("SwapButtonDEPRECATED",["Event","Arbiter","CSS","Focus"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k){this._swapperButton=i;this._swappeeButton=j;c("Event").listen(i,"click",this.swap.bind(this));if(k)c("Event").listen(j,"click",this.unswap.bind(this));c("Arbiter").subscribe("SwapButtonDEPRECATED/focusOnJoinButton",this.setFocusOnSwapper.bind(this),c("Arbiter").SUBSCRIBE_ALL)}Object.assign(h.prototype,{_swapperButton:null,_swappeeButton:null,swap:function i(j){c("CSS").hide(this._swapperButton);c("CSS").show(this._swappeeButton);j!==false&&c("Focus").setWithoutOutline(this._swappeeButton)},unswap:function i(j){c("CSS").show(this._swapperButton);c("CSS").hide(this._swappeeButton);j!==false&&c("Focus").setWithoutOutline(this._swapperButton)},toggle:function i(){c("CSS").toggle(this._swapperButton);c("CSS").toggle(this._swappeeButton)},setFocusOnSwapper:function i(){this._swapperButton.focus()}});f.exports=h}),null);
__d("XFollowPrivacyNuxLogViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/follow/follow_privacy/nux/log/view/",{})}),null);
__d("XPubcontentChainedSuggestionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pubcontent/chained_suggestions/",{pageid:{type:"String"},profileid:{type:"Int"},eh:{type:"Bool",defaultValue:false},friendid:{type:"Int"}})}),null);
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","CSS","Event","TooltipData","XFollowPrivacyNuxLogViewAsyncController","XPubcontentChainedSuggestionsController"],(function a(b,c,d,e,f,g){__p&&__p();var h={SUBSCRIBED:"FollowingUser",UNSUBSCRIBED:"UnfollowingUser",_enable:function i(j){c("Button").setEnabled(j,true);c("TooltipData").remove(j)},_disable:function i(j,k){c("Button").setEnabled(j,false);if(k)c("TooltipData").set(j,k)},init:function i(j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();var w=!t&&!v,x=!(r===undefined||r===null);if(x&&!p&&!q)h._disable(k,r);c("Event").listen(k,"click",function(){c("Arbiter").inform(h.SUBSCRIBED,{profile_id:m,contextID:u,suppress:true});if(s){s.show();var y=c("XFollowPrivacyNuxLogViewAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))(y).send()}});c("Arbiter").subscribe(h.SUBSCRIBED,function(y,z){__p&&__p();if(m==z.profile_id){if(!n)l.suppressNextMouseEnter&&l.suppressNextMouseEnter();if(x){if(typeof z.connected!=="undefined")p=z.connected;if(p||q)h._enable(k)}if(z.focusOnClick!==undefined)w=z.focusOnClick;j.swap(w);if(o===true&&z.chaining!==false){var A=c("XPubcontentChainedSuggestionsController").getURIBuilder().setInt("profileid",m).getURI();new(c("AsyncRequest"))().setURI(A).send()}}});c("Arbiter").subscribe(h.UNSUBSCRIBED,function(y,z){__p&&__p();if(m==z.profile_id){j.unswap(w);l.hideFlyout&&l.hideFlyout();if(x){if(typeof z.connected!=="undefined")p=z.connected;if(!p&&!q)h._disable(k,r)}c("Arbiter").inform("SubMenu/Reset")}})},initSubscribe:function i(j,k){c("Event").listen(j,"click",function(){setTimeout(c("Arbiter").inform.bind(c("Arbiter"),h.SUBSCRIBED,{profile_id:k}),0)})},initUnsubscribe:function i(j,k,l){c("Event").listen(j,"click",function(){setTimeout(c("Arbiter").inform.bind(c("Arbiter"),h.UNSUBSCRIBED,{profile_id:k,contextID:l}),0)})},initSubscribeMenuItem:function i(j,k,l){c("CSS").hide(k);this._initMenuItem(j,k,l)},initUnsubscribeMenuItem:function i(j,k,l){c("CSS").hide(j);this._initMenuItem(j,k,l)},_initMenuItem:function i(j,k,l){this.initSubscribe(j,l);this.initUnsubscribe(k,l);c("Arbiter").subscribe(h.SUBSCRIBED,function(m,n){c("CSS").hide(j);c("CSS").show(k)});c("Arbiter").subscribe(h.UNSUBSCRIBED,function(m,n){c("CSS").hide(k);c("CSS").show(j)})}};f.exports=h}),null);
__d("ContextualLayerHideOnScroll",["Event"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("contextchange",this._handleContextChange.bind(this)),this._layer.subscribe("show",this.attach.bind(this)),this._layer.subscribe("hide",this.detach.bind(this))]};h.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach()};h.prototype.attach=function(){"use strict";if(this._listener)return;var i=this._layer.getContextScrollParent();if(i===window)return;this._listener=c("Event").listen(i,"scroll",this._layer.hide.bind(this._layer))};h.prototype.detach=function(){"use strict";this._listener&&this._listener.remove();this._listener=null};h.prototype._handleContextChange=function(){"use strict";this.detach();if(this._layer.isShown())this.attach()};Object.assign(h.prototype,{_subscriptions:[]});f.exports=h}),null);
__d("Popover",["ContextualLayer","ContextualLayerHideOnScroll","DOM","ParameterizedPopover"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ParameterizedPopover"));i=h&&h.prototype;j.prototype._init=function(){"use strict";__p&&__p();var k=new(c("ContextualLayer"))({context:this._triggerElem,position:"below",arrowDimensions:{offset:12,length:16},"data-testid":this._config["data-testid"]},c("DOM").create("div"));k.enableBehaviors([c("ContextualLayerHideOnScroll")]);this._config.layer=k;if(this._config.alignh)k.setAlignment(this._config.alignh);if(this._config.layer_content)k.setContent(this._config.layer_content);if(this._config.position)k.setPosition(this._config.position);if(this._config.arrowDimensions)k.setArrowDimensions(this._config.arrowDimensions);i._init.call(this)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("MenuSeparator",["cx","DOM","CSS","MenuItemInterface"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("MenuItemInterface"));j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this,l);this._data=l;this.showFn=this._data.should_show_fn}k.prototype.updateShownState=function(l){"use strict";if(this.showFn){this._isHidden=!this.showFn(l);if(this._root)c("CSS").conditionShow(this._root,!this._isHidden)}};k.prototype.isShown=function(l){"use strict";var m=this.showFn?this.showFn(l):true;return m};k.prototype.render=function(){"use strict";var l="_54ak";if(this._data.className)l+=" "+this._data.className;var m=this._data.label||"",n=c("DOM").create("li",{className:l,role:"separator"},m);if(this._isHidden)c("CSS").hide(n);return n};f.exports=k}),null);
__d("MenuStaticItem",["cx","DOM","MenuItemBase","React","ReactDOM","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("MenuItemBase"));j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this);this._data=l}k.prototype._renderItemContent=function(){"use strict";var l=c("DOM").create("span",{className:"_54nc _54ah"});if(this._data.children)c("ReactDOM").render(c("React").createElement("span",{className:"_54nh"},this._data.children),l);else c("DOM").setContent(l,c("DOM").create("span",{className:"_54nh"},this._data.markup));return l};Object.assign(k.prototype,{handleClick:c("emptyFunction")});f.exports=k}),null);
__d("ContextualLayerInlineTabOrder",["AccessibilityConfig","DOM","DOMTraverser","Event","Focus","Keys","Map","SubscriptionsHandler","TabbableElements","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";__p&&__p();if(!c("AccessibilityConfig").a11yNUXDialog)return;this._layer=i;this._isSetup=false;this._ignoreFocus=false;this._layerFocused=true;this._layerRoot=this._layer.getContentRoot();this._layerID=c("getOrCreateDOMID")(this._layerRoot);this._mutedTabbables=new(c("Map"))([]);this._subscriptions=new(c("SubscriptionsHandler"))();this._tabbableLayerElements=[]}h.prototype.enable=function(){"use strict";if(!c("AccessibilityConfig").a11yNUXDialog)return;this._subscriptions.addSubscriptions(this._layer.subscribe("aftershow",this._onAfterShow.bind(this)),this._layer.subscribe("hide",this._onAfterHide.bind(this)));if(this._layer.isShown())this._onAfterShow()};h.prototype.disable=function(){"use strict";if(!c("AccessibilityConfig").a11yNUXDialog)return;this._subscriptions.release();this._isSetup=false};h.prototype._getContext=function(){"use strict";return this._layer.getCausalElement()};h.prototype._getContextOwns=function(){"use strict";var i=this._getContext();if(!i)return[];var j=(i.getAttribute("aria-owns")||"").trim();j=j?j.match(/[^ ]+/g):[];return j};h.prototype._identifyTabbableElements=function(){"use strict";this._tabbableLayerElements=c("TabbableElements").find(this._layerRoot);if(!this._tabbableLayerElements.length&&!this._mutedTabbables.size)this._layerRoot.setAttribute("tabindex","0");if(this._layerRoot.tabIndex>=0)this._tabbableLayerElements.unshift(this._layerRoot)};h.prototype._onAfterShow=function(){"use strict";this._setupTabBehavior();var i=this._getContext(),j=this._getContextOwns();if(i&&!j.includes(this._layerID)){j.push(this._layerID);i.setAttribute("aria-owns",j.join(" "))}};h.prototype._onAfterHide=function(){"use strict";var i=this._getContext();if(i){var j=this._getContextOwns(),k=j.indexOf(this._layerID);if(k>-1){j.splice(k,1);i.setAttribute("aria-owns",j.join(" "))}}};h.prototype._setupTabBehavior=function(){"use strict";if(!this._isSetup){var i=this._getContext();if(!this._layerRoot||!i)return;this._setupTabTriggers();this._setupTabToggle();this._isSetup=true}};h.prototype._setupTabTriggers=function(){"use strict";var i=this._getContext();if(!c("TabbableElements").isTabbable(i))i.setAttribute("tabindex","0");this._subscriptions.addSubscriptions(c("Event").listen(i,"keyup",this._checkNUXFocus.bind(this)),c("Event").listen(i,"keydown",this._checkNUXFocus.bind(this)),c("Event").listen(this._layerRoot,"keydown",this._checkContextFocus.bind(this)),c("Event").listen(this._layerRoot,"layerFocus",this._setNUXFocusStart.bind(this)),c("Event").listen(this._layerRoot,"layerFocusEnd",this._setNUXFocusEnd.bind(this)),c("Event").listen(this._layerRoot,"tempFocusIgnore",this._tempIgnoreFocus.bind(this)))};h.prototype._setupTabToggle=function(){"use strict";this._handleLayerBlur();this._subscriptions.addSubscriptions(c("Event").listen(document.documentElement,"click",this._checkForFocus.bind(this)),c("Event").listen(document.documentElement,"keydown",this._checkForFocus.bind(this)))};h.prototype._handleLayerBlur=function(){"use strict";__p&&__p();if(!this._layerFocused)return;this._identifyTabbableElements();this._tabbableLayerElements.forEach(function(i){if(!this._mutedTabbables.has(i)){var j=i.getAttribute("tabindex");i.setAttribute("tabindex","-1");this._mutedTabbables.set(i,j)}},this);this._layerFocused=false};h.prototype._handleLayerFocus=function(){"use strict";__p&&__p();if(this._layerFocused)return;for(var i=this._mutedTabbables,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}var m=l,n=m[0],o=m[1];if(o===null)n.removeAttribute("tabindex");else n.setAttribute("tabindex",o)}this._mutedTabbables.clear();this._layerFocused=true};h.prototype._checkNUXFocus=function(event){"use strict";__p&&__p();if(this._ignoreFocus){event.preventDefault();this._ignoreFocus=false;return}if(event.getTarget()!==this._getContext()||!this._layer.isShown())return;var i=c("Event").getKeyCode(event),j=this._getContextOwns();if(!j.length||i!==c("Keys").TAB)return;var k=event.getModifiers(),l=k.shift,m=j[0]===this._layerID,n=j[j.length-1]===this._layerID;if(event.type==="keydown"&&l&&n||event.type==="keyup"&&!l&&m){event.preventDefault();c("Event").fire(this._layerRoot,l?"layerFocusEnd":"layerFocus")}};h.prototype._setNUXFocusStart=function(){"use strict";this._handleLayerFocus();this._identifyTabbableElements();c("Focus").set(this._tabbableLayerElements[0])};h.prototype._setNUXFocusEnd=function(){"use strict";this._handleLayerFocus();this._identifyTabbableElements();c("Focus").set(this._tabbableLayerElements[this._tabbableLayerElements.length-1])};h.prototype._tempIgnoreFocus=function(){"use strict";this._ignoreFocus=true};h.prototype._checkContextFocus=function(event){"use strict";__p&&__p();var i=c("Event").getKeyCode(event),j=event.getModifiers(),k=j.shift;this._handleLayerFocus();this._identifyTabbableElements();if(!this._tabbableLayerElements.length||i!==c("Keys").TAB||!this._getContext())return;var l=this._tabbableLayerElements[0],m=this._tabbableLayerElements[this._tabbableLayerElements.length-1];if(event.getTarget()===m&&!k){if(this._setFocusAfterLayer())event.preventDefault()}else if(event.getTarget()===l&&k)if(this._setFocusBeforeLayer())event.preventDefault()};h.prototype._isTabbableNode=function(i){"use strict";return c("TabbableElements").isTabbable(i)&&!c("DOM").contains(this._layerRoot,i)};h.prototype._setFocusBeforeLayer=function(){"use strict";__p&&__p();var i=this._getContextOwns();if(!i||!i.length)return false;if(i[0]===this._layerID){var j=c("DOMTraverser").previousFilteredNode(document.body,this._getContext(),this._isTabbableNode.bind(this));c("Focus").set(j);return true}if(i.includes(this._layerID)){var k=i[i.indexOf(this._layerID)-1];return this._focusOnElement(k,true)}return false};h.prototype._setFocusAfterLayer=function(){"use strict";__p&&__p();var i=this._getContextOwns();if(!i||!i.length)return false;if(i[i.length-1]===this._layerID){this._refocusOnContext();return true}if(i.includes(this._layerID)){var j=i[i.indexOf(this._layerID)+1];return this._focusOnElement(j,false)}return false};h.prototype._focusOnElement=function(i,j){"use strict";var k=document.getElementById(i);if(!k)return false;c("Event").fire(k,j?"layerFocusEnd":"layerFocus");this._handleLayerBlur();return true};h.prototype._refocusOnContext=function(event){"use strict";__p&&__p();var i=this._getContext(),j=this._getContextOwns();c("Event").fire(document.getElementById(j[0]),"tempFocusIgnore");this._handleLayerBlur();if(i)if(i.tabIndex===-1){i.tabIndex=0;c("Focus").setWithoutOutline(i)}else c("Focus").set(i)};h.prototype._checkForFocus=function(event){"use strict";var i=event.getTarget(),j=this._layer.getContentRoot(),k=c("DOM").contains(j,i);if(!this._ignoreFocus&&!this._layerFocused&&k)this._handleLayerFocus();if(this._layerFocused&&!k)this._handleLayerBlur()};f.exports=h}),null);