if (self.CavalryLogger) { CavalryLogger.start_js(["PrfDa"]); }

__d("ChatEmployeeAwayWarning",["MercuryIDs","MercuryParticipants","MercuryViewer"],(function a(b,c,d,e,f,g){__p&&__p();var h={updateEmployeeAwayWarning:function i(j,k,l){__p&&__p();c("MercuryParticipants").get(c("MercuryViewer").getID(),function(m){__p&&__p();var n=m.employee;if(n)c("MercuryParticipants").getMulti(j.participants,function(o){__p&&__p();var p=false,q=c("MercuryIDs").getUserIDFromThreadID(j.thread_id);if(!q)return;var m="fbid:"+q;for(var r in o)if(m==o[r].id&&o[r].is_employee_away)p=true;if(p)k();else l()})})}};f.exports=h}),null);
__d("LinkedMentorshipProgramWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1394271047351794"};j.getQueryID=function(){"use strict";return"377639685981003"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("WorkAvailabilityStatusWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1773257862745160"};j.getQueryID=function(){"use strict";return"178438159573089"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XNativeComponentFlowBookingRequestCountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/platform/native-component-flow/booking_request_count/",{page_id:{type:"FBID",required:true},user_id:{type:"FBID",required:true}})}),null);
__d("FantaReducersTabSheets",["AsyncRequest","Bootloader","ChatEmployeeAwayWarning","ChatPrivacyActionController","ChatTimezoneWarning","ChatUserFocusWarning","CurrentUser","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTabSheetActions","FBIDCheck","ImmutableObject","MercuryBlockedParticipants.bs","MercuryConfig","MercuryIDs","MercuryParticipants","MercurySheetPolicy","MercuryThreadInfo","MercuryThreads","MercuryViewer","MessageThreadAssociatedObjectUtils","RTCCallState","WebGraphQL","WorkAvailabilityStatusWebGraphQLQuery","LinkedMentorshipProgramWebGraphQLQuery","XNativeComponentFlowBookingRequestCountController","emptyFunction","idx","ifRequired","setImmediate","gkx"],(function aa(ba,a,ca,da,b,ea){"use strict";__p&&__p();var c=a("MercuryBlockedParticipants.bs").get(),d=a("MercuryThreads").get(),e=a("FantaTabActions").Types,f=a("FantaGetMessageActions").Types,g=a("FantaMessageActions").Types,h=a("FantaTabSheetActions").Types;function i(T,U){switch(U.type){case e.CLOSE_TAB:case e.CLOSE_AND_TAB_NEXT:var V=U.tabID,W=T.mercury.tabContents.get(V);if(!W)return T;W=W.merge({typeahead:null});T=T.setIn(["mercury","tabContents",V],W);return j(T,V)}return T}function j(T,U,V){__p&&__p();var W=T.mercury.tabContents.get(U);if(!W)return T;if(V&&W.openSheet!==V)return T;W=W.merge({openSheet:null});T=T.setIn(["mercury","tabContents",U],W);if(W.thread)T=P(T,U,W.thread);return T}function k(T,U){__p&&__p();switch(U.type){case e.CLOSE_ALL_TABS:for(var V=T.mercury.tabContents.values(),W=Array.isArray(V),X=0,V=W?V:V[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var Y;if(W){if(X>=V.length)break;Y=V[X++]}else{X=V.next();if(X.done)break;Y=X.value}var Z=Y,$=Z.id;Z=Z.merge({typeahead:null});T=T.setIn(["mercury","tabContents",$],Z);T=j(T,$)}}return T}function l(T,U){switch(U.type){case f.ON_GET_THREAD_RESPONSE:case f.ON_GET_THREAD_PREVIEW_RESPONSE:var V=U.thread,W=U.tabID||V.thread_id;T=m(T,V,W)}return T}function m(T,U,V){__p&&__p();var W=a("MercuryViewer").getID(),X=U.participants.filter(function(Y){return Y!==W});if(X.length<1&&!d.isNewEmptyLocalThread(V)&&!a("MessageThreadAssociatedObjectUtils").shouldRender(U.associated_object))T=r(T,V,a("MercurySheetPolicy").sheets.ChatNoRecipientsTabSheet);else T=j(T,V,a("MercurySheetPolicy").sheets.ChatNoRecipientsTabSheet);if(U.participants.length!==0){oa(T,V);ma(T,V);T=P(T,V,U)}return T}function n(T,U){switch(U.type){case f.THREADS_UPDATED:U.threads.forEach(function(V){T=m(T,new(a("ImmutableObject"))(V),V.thread_id)})}return T}function o(T,U){switch(U.type){case e.OPEN_TAB:case e.REPLACE_TAB:var V=U.tabID,W=T.mercury.tabContents.get(V).thread;if(W)T=P(T,V,W)}return T}function p(T,U,V){if(a("MercuryThreadInfo").isMuted(V))return r(T,U,a("MercurySheetPolicy").sheets.ChatThreadIsMutedTabSheet);else return j(T,U,a("MercurySheetPolicy").sheets.ChatThreadIsMutedTabSheet)}function q(T,U,V){if(c.isMessageBlocked(V))return r(T,U,a("MercurySheetPolicy").sheets.ChatThreadIsMessageBlockedSheet);else return j(T,U,a("MercurySheetPolicy").sheets.ChatThreadIsMessageBlockedSheet)}function r(T,U,V){var W=T.mercury.tabContents.get(U),X=T.tabGroup.tabs.get(U);if(!X||!W)return T;var Y=W,Z=Y.openSheet;if(Z&&!a("MercurySheetPolicy").canReplaceOpenSheet(Z,V))return T;W=W.merge({openSheet:V});T=T.setIn(["mercury","tabContents",U],W);return T}function s(T,U){return T}function t(T,U){switch(U.type){case h.OPEN_APPOINTMENT_SHEET:var V=U.tabID;return r(T,V,a("MercurySheetPolicy").sheets.ChatAppointmentBanner)}return T}function u(T,U){switch(U.type){case h.OPEN_USER_FOCUS_SHEET:var V=U.tabID;return r(T,V,a("MercurySheetPolicy").sheets.ChatUserFocusSheet)}return T}function v(T,U){switch(U.type){case h.CLOSE_USER_FOCUS_AND_BYPASS_SHEET:var V=U.tabID;T=j(T,V,a("MercurySheetPolicy").sheets.ChatUserFocusSheet);T=j(T,V,a("MercurySheetPolicy").sheets.ChatUserFocusBypassSheet)}return T}function w(T,U,V){__p&&__p();a("ChatUserFocusWarning").updateUserFocusWarning(V,function(W){W?a("setImmediate")(function(){a("FantaTabSheetActions").openBypassFocusSheet(U)}):a("setImmediate")(function(){a("FantaTabSheetActions").openUserFocusSheet(U)})},function(){var W=T.mercury.tabContents.get(U);if(!W||!W.openSheet)return;if(W.openSheet===a("MercurySheetPolicy").sheets.ChatUserFocusBypassSheet||W.openSheet===a("MercurySheetPolicy").sheets.ChatUserFocusSheet)a("setImmediate")(function(){a("FantaTabSheetActions").closeUserFocusAndBypassSheet(U)})});return T}function x(T,U){switch(U.type){case h.OPEN_BYPASS_FOCUS_SHEET:var V=U.tabID;return r(T,V,a("MercurySheetPolicy").sheets.ChatUserFocusBypassSheet)}return T}function y(T,U){switch(U.type){case h.OPEN_USER_TIMEZONE_SHEET:var V=U.tabID,W=U.timezoneInfo,X=T.mercury.tabContents.get(V);if(!X)return T;X=X.merge({timezoneInfo:W});T=T.setIn(["mercury","tabContents",V],X);return r(T,V,a("MercurySheetPolicy").sheets.ChatUserTimezoneSheet)}return T}function z(T,U){switch(U.type){case h.CLOSE_USER_TIMEZONE_SHEET:var V=U.tabID,W=T.mercury.tabContents.get(V);if(!W)return T;W=W.merge({timezoneInfo:null});T=T.setIn(["mercury","tabContents",V],W);T=j(T,V,a("MercurySheetPolicy").sheets.ChatUserTimezoneSheet)}return T}function A(T,U,V){a("ChatTimezoneWarning").updateUserTimezoneWarning(V,function(W){a("setImmediate")(function(){a("FantaTabSheetActions").openUserTimezoneSheet(U,W)})},function(){a("setImmediate")(function(){a("FantaTabSheetActions").closeUserTimezoneSheet(U)})});return T}function B(T,U,V){a("ChatEmployeeAwayWarning").updateEmployeeAwayWarning(V,function(){return a("setImmediate")(function(){a("FantaTabSheetActions").openEmployeeAwaySheet(U)})},a("emptyFunction"));return T}function C(T,U){switch(U.type){case h.OPEN_EMPLOYEE_AWAY_SHEET:var V=U.tabID;T=r(T,V,a("MercurySheetPolicy").sheets.ChatEmployeeAwaySheet)}return T}function D(T,U){switch(U.type){case h.OPEN_NAME_CONVERSATION_TAB_SHEET:return r(T,U.tabID,a("MercurySheetPolicy").sheets.ChatNameConversationTabSheet)}return T}function E(T,U){switch(U.type){case h.CLOSE_NAME_CONVERSATION_TAB_SHEET:return j(T,U.tabID,a("MercurySheetPolicy").sheets.ChatNameConversationTabSheet)}return T}function F(T,U){return T}function G(T,U){switch(U.type){case h.OPEN_READ_ONLY_PERMANENT_SHEET:return r(T,U.tabID,a("MercurySheetPolicy").sheets.ChatReadOnlyPermanentTabSheet)}return T}function H(T,U){switch(U.type){case h.CLOSE_READ_ONLY_PERMANENT_SHEET:return j(T,U.tabID,a("MercurySheetPolicy").sheets.ChatReadOnlyPermanentTabSheet)}return T}function I(T,U){switch(U.type){case h.OPEN_READ_ONLY_SHEET:return r(T,U.tabID,a("MercurySheetPolicy").sheets.ChatReadOnlyTabSheet)}return T}function J(T,U){switch(U.type){case h.CLOSE_READ_ONLY_SHEET:return j(T,U.tabID,a("MercurySheetPolicy").sheets.ChatReadOnlyTabSheet)}return T}function K(T,U){return T}function L(T,U){return T}function M(T,U){switch(U.type){case h.CLOSE_ADD_FRIENDS_SHEET:var V=U.tabID,W=T.mercury.tabContents.get(V);if(!W)return T;W=W.merge({typeahead:null});T=T.setIn(["mercury","tabContents",V],W);return j(T,V,a("MercurySheetPolicy").sheets.FantaAddFriendsSheet)}return T}function N(T,U){switch(U.type){case h.CLOSE_ADD_MORE_FRIENDS_SHEET:var V=U.tabID,W=T.mercury.tabContents.get(V);if(!W)return T;W=W.merge({typeahead:null});T=T.setIn(["mercury","tabContents",V],W);return j(T,V,a("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet)}return T}function O(T,U){switch(U.type){case g.SEND_GROUP_MESSAGE:var V=U.tabID||U.threadID;return j(T,V,a("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet)}return T}function fa(T,U){switch(U.type){case g.RECEIVED_NEW_MESSAGE:var V=U.tabID,W=T.mercury.tabContents.get(V);if(W&&!W.isScrolledToBottom)T=r(T,V,a("MercurySheetPolicy").sheets.ChatNewMessagesTabSheet);else T=j(T,V,a("MercurySheetPolicy").sheets.ChatNewMessagesTabSheet)}return T}function ga(T,U){switch(U.type){case e.SCROLL_BOTTOM_CHANGED:var V=U.tabID,W=U.isScrolledToBottom;if(W)T=j(T,V,a("MercurySheetPolicy").sheets.ChatNewMessagesTabSheet);var X=T.mercury.tabContents.get(V);if(X&&X.thread)T=Q(T,V,X.thread)}return T}function ha(T,U){__p&&__p();switch(U.type){case f.ON_PRIVACY_STATE_CHANGE:var V=U.threadID,W=U.privacyState;switch(W){case a("ChatPrivacyActionController").OFFLINE:T=j(T,V,a("MercurySheetPolicy").sheets.ChatUserBlockedTabSheet);T=r(T,V,a("MercurySheetPolicy").sheets.ChatOfflineTabSheet);break;case a("ChatPrivacyActionController").NORMAL:T=j(T,V,a("MercurySheetPolicy").sheets.ChatUserBlockedTabSheet);T=j(T,V,a("MercurySheetPolicy").sheets.ChatOfflineTabSheet);break;case a("ChatPrivacyActionController").BLOCKED:T=j(T,V,a("MercurySheetPolicy").sheets.ChatOfflineTabSheet);var X=a("MercuryIDs").getUserIDFromThreadID(V);if(X){var Y=a("MercuryParticipants").getNow(a("MercuryIDs").getParticipantIDFromUserID(X));Y&&Y.is_friend?T=r(T,V,a("MercurySheetPolicy").sheets.ChatUserBlockedTabSheet):T=j(T,V,a("MercurySheetPolicy").sheets.ChatUserBlockedTabSheet)}break}}return T}function ia(T,U){switch(U.type){case h.ON_IS_PAGE_TAB:var V=U.tabID,W=U.pageIndicator,X=T.mercury.tabContents.get(V);if(!X)return T;X=X.merge({pageIndicator:W});T=T.setIn(["mercury","tabContents",V],X)}return T}function P(T,U,V){__p&&__p();T=w(T,U,V);T=A(T,U,V);T=q(T,U,V);T=p(T,U,V);T=B(T,U,V);T=R(T,U,V);T=la(T,U,V);T=Q(T,U,V);T=ja(T,U,V);T=qa(T,U,V);return T}function ja(T,U,V){var W=V.rtc_call_data,X=V.thread_fbid,Y=W&&W.call_state!==a("RTCCallState").NO_ONGOING_CALL&&X;if(Y)T=r(T,U,a("MercurySheetPolicy").sheets.ChatJoinCallSheet);else T=j(T,U,a("MercurySheetPolicy").sheets.ChatJoinCallSheet);return T}function Q(T,U,V){var W=V.has_montage&&a("MercuryConfig").MontageThreadViewer,X=T.mercury.tabContents.get(U),Y=!!(X&&X.isScrolledToBottom);if(Y&&W)T=r(T,U,a("MercurySheetPolicy").sheets.ChatMontageSheet);else T=j(T,U,a("MercurySheetPolicy").sheets.ChatMontageSheet);return T}function R(T,U,V){__p&&__p();a("ifRequired")("EventReminderActions",function(W){__p&&__p();var event=void 0;if(V.associated_object&&V.associated_object.room_type==="EVENT"){event=V.associated_object;W.updateEventReminder(U,event,V.participants_event_status)}else if(V.lightweight_event){event=V.lightweight_event;W.updateEventReminder(U,event)}if(event)T=r(T,U,a("MercurySheetPolicy").sheets.ChatEventReminderTabSheet);else a("ifRequired")("EventReminderStateStore",function(X){var Y=X.getEvent(U);if(Y&&Y.exists)W.deleteEventReminder(U);T=j(T,U,a("MercurySheetPolicy").sheets.ChatEventReminderTabSheet)},function(){return S(U)})},function(){return S(U)});return T}function S(T){a("Bootloader").loadModules(["EventReminderActions","EventReminderStateStore"],function(U,V){a("setImmediate")(function(){a("FantaTabSheetActions").onBootloadEventReminder(T)})},"FantaReducersTabSheets")}function ka(T,U){switch(U.type){case h.ON_BOOTLOAD_EVENT_REMINDER:var V=U.tabID,W=T.mercury.tabContents.get(V);if(!W)return T;var X=W.thread;if(X)T=R(T,V,X)}return T}function la(T,U,V){__p&&__p();var W=V.other_user_fbid;if(W&&!a("FBIDCheck").isUser_deprecated(W)&&a("gkx")("AT6lRFQLpQZ6UWlPrB9gInaarooSpaHqBAt5ho6-RghBTrVcE-XKcrf8CtnjJLZJDFVcDhkmvsbKnTVqx76gSACvoOe9JNcrEBY54bqb1L214A")){var X=a("XNativeComponentFlowBookingRequestCountController").getURIBuilder().setFBID("page_id",W).setFBID("user_id",a("CurrentUser").getID()).getURI();new(a("AsyncRequest"))().setURI(X).setHandler(function(Y){var Z=Y&&Y.getPayload();if(Z&&Z.confirmed+Z.pending>0)a("FantaTabSheetActions").openAppointmentBannerSheet(U)}).send()}else T=j(T,U,a("MercurySheetPolicy").sheets.ChatAppointmentBanner);return T}function ma(T,U){var V=a("MercuryIDs").getUserIDFromThreadID(U),W=T.mercury.tabContents.get(U),X=!W||W&&!W.mentorship;if(V&&X)a("WebGraphQL").exec(new(a("LinkedMentorshipProgramWebGraphQLQuery"))({id:V})).done(function(Y){var Z,$,ra=(Z=Y)!=null?(Z=Z.message_thread)!=null?(Z=Z.linked_mentorship_programs)!=null?(Z=Z.edges)!=null?(Z=Z[0])!=null?(Z=Z.node)!=null?(Z=Z.mentorship_group)!=null?Z.id:Z:Z:Z:Z:Z:Z:Z,sa=($=Y)!=null?($=$.message_thread)!=null?($=$.linked_mentorship_programs)!=null?($=$.edges)!=null?($=$[0])!=null?($=$.node)!=null?$.name:$:$:$:$:$:$;a("FantaTabSheetActions").onMentorshipProgramResponse(U,sa,ra)})}function na(T,U){__p&&__p();switch(U.type){case h.ON_MENTORSHIP_PROGRAM_RESPONSE:var V=U.tabID,W=U.groupID,X=U.programName,Y=T.mercury.tabContents.get(V);if(!Y)return T;if(X&&W){Y=Y.merge({mentorship:{programName:X,groupID:W}});T=T.setIn(["mercury","tabContents",V],Y);T=r(T,V,a("MercurySheetPolicy").sheets.ChatMentorshipProgramSheet)}break}return T}function oa(T,U){var V=a("MercuryIDs").getUserIDFromThreadID(U);if(V&&a("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6"))a("WebGraphQL").exec(new(a("WorkAvailabilityStatusWebGraphQLQuery"))({id:V})).done(function(W){var X,Y,Z=(X=W)!=null?(X=X.user)!=null?(X=X.work_info)!=null?(X=X.availability_status)!=null?X.status:X:X:X:X,$=(Y=W)!=null?(Y=Y.user)!=null?(Y=Y.work_info)!=null?(Y=Y.availability_status)!=null?Y.human_readable:Y:Y:Y:Y;a("FantaTabSheetActions").onWorkDoNotDisturbResponse(U,Z,$)})}function pa(T,U){__p&&__p();switch(U.type){case h.ON_WORK_DO_NOT_DISTURB_RESPONSE:var V=U.tabID,W=U.status,X=U.description,Y=T.mercury.tabContents.get(V);if(!Y)return T;Y=Y.merge({workAvailabilityHumanReadable:X,workAvailabilityStatus:W});T=T.setIn(["mercury","tabContents",V],Y);if(W==="DO_NOT_DISTURB")T=r(T,V,a("MercurySheetPolicy").sheets.ChatWorkDoNotDisturbSheet);else T=j(T,V,a("MercurySheetPolicy").sheets.ChatWorkDoNotDisturbSheet);break}return T}function qa(T,U,V){var W=V.associated_object;if(a("MessageThreadAssociatedObjectUtils").shouldRender(W))T=r(T,U,a("MercurySheetPolicy").sheets.ChatRoomAssociatedObjectSheet);return T}b.exports={closeAddFriends:M,closeAddMoreFriends:N,closeAllTabs:k,closeFocusUserSheet:v,closeNameConversationSheet:E,closePermanentReadOnlySheet:H,closeReadOnlySheet:J,closeTab:i,closeUserTimezoneSheet:z,onBootloadEventReminder:ka,onGetThreadResponse:l,onIsPageTab:ia,onPrivacyStateChange:ha,onWorkDoNotDisturbResponse:pa,openAddFriendsSheet:s,openAppointmentBannerSheet:t,openBypassFocusSheet:x,openEmployeeAwaySheet:C,openFocusUserSheet:u,openNameConversationSheet:D,openNewMessagesSheet:F,openPermanentReadOnlySheet:G,openReadOnlySheet:I,openTab:o,openUploadWarningTabSheet:K,openUserFocusSheet:L,openUserTimezoneSheet:y,receivedNewMessage:fa,scrollBottomChanged:ga,sendGroupMessage:O,threadsUpdated:n,onMentorshipProgramResponse:na}}),null);