if (self.CavalryLogger) { CavalryLogger.start_js(["Twl0j"]); }

__d("EventsMessengerComActionContextJSConfig",[],(function a(b,c,d,e,f,g){f.exports={messenger_com:"messenger_com",reminder_banner:"reminder_banner",reminder_admin_text:"reminder_admin_text"}}),null);
__d("MNCommerceErrors",[],(function a(b,c,d,e,f,g){f.exports={ALREADY_UNLINKED:1893001}}),null);
__d("MNCommerceReplyTypes",[],(function a(b,c,d,e,f,g){f.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3}}),null);
__d("PageCommItemFolder",[],(function a(b,c,d,e,f,g){f.exports={DONE:"DONE",FOLLOW_UP:"FOLLOW_UP",SPAM:"SPAM",TODO:"TODO",UNREAD:"UNREAD"}}),null);
__d("AdsIncrementalNumberInput.react",["cx","fbt","AdsTestIDs","Keys","React","ShimButton.react","XUITextInput.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsIncrementalNumberInput6=function(s){if(this.props.allowEmptyValue&&s===null)return s;if((s||0)>this.props.max)return this.props.max;if((s||0)<this.props.min)return this.props.min;return s}.bind(this),this.$AdsIncrementalNumberInput7=function(s){if(isNaN(s))return;s=this.$AdsIncrementalNumberInput6(s);if(s!==this.props.value&&(this.props.allowEmptyValue||s!==null))this.props.onChange(s)}.bind(this),this.$AdsIncrementalNumberInput4=function(){this.$AdsIncrementalNumberInput7((this.props.value||0)+1)}.bind(this),this.$AdsIncrementalNumberInput5=function(){this.$AdsIncrementalNumberInput7((this.props.value||0)-1)}.bind(this),this.$AdsIncrementalNumberInput1=function(){if(this.props.value===null)this.$AdsIncrementalNumberInput7(this.props.min)}.bind(this),this.$AdsIncrementalNumberInput2=function(event){var s=event.target.value;if(this.props.allowEmptyValue&&s==="")s=null;else s=+s;this.$AdsIncrementalNumberInput7(s)}.bind(this),this.$AdsIncrementalNumberInput3=function(event){if(event.keyCode===c("Keys").UP)this.$AdsIncrementalNumberInput4();if(event.keyCode===c("Keys").DOWN)this.$AdsIncrementalNumberInput5()}.bind(this),o}m.prototype.render=function(){var n=this.props.arrowStyle==="light",o=this.props.value||0;return c("React").createElement("span",{className:"_4one"},c("React").createElement(c("XUITextInput.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_4onf"),max:this.props.max?""+this.props.max:"",min:this.props.min?""+this.props.min:"",value:this.props.value===null?"":""+o,onBlur:this.$AdsIncrementalNumberInput1,onChange:this.$AdsIncrementalNumberInput2,onKeyDown:this.$AdsIncrementalNumberInput3})),c("React").createElement("span",{className:"_4ong","data-testid":this.props["data-testid"]},c("React").createElement(c("ShimButton.react"),{"aria-label":i._("Increment value"),className:"_4onh"+(n?" _35jc":"")+(!n?" _35jd":"")+(this.props.showDisabled&&this.props.value!==null&&o>=this.props.max?" _35je":""),"data-testid":c("AdsTestIDs").ADS_INCREMENTAL_NUMBER_ARROW_UP,onClick:this.$AdsIncrementalNumberInput4},c("React").createElement("span",null)),c("React").createElement("div",{"aria-label":i._("Decrement value"),className:"_4oni"+(n?" _35jc":"")+(!n?" _35jd":"")+(this.props.showDisabled&&this.props.value!==null&&o<=this.props.min?" _35je":""),"data-testid":c("AdsTestIDs").ADS_INCREMENTAL_NUMBER_ARROW_DOWN,role:"button",tabIndex:"0",onClick:this.$AdsIncrementalNumberInput5},c("React").createElement("span",null))))};m.propTypes={"data-testid":l.string,allowEmptyValue:l.bool.isRequired,arrowStyle:l.oneOf(["light","dark"]).isRequired,className:l.string,max:l.number.isRequired,min:l.number.isRequired,showDisabled:l.bool.isRequired,value:l.number,onChange:l.func.isRequired};m.defaultProps={allowEmptyValue:false,arrowStyle:"light",max:Infinity,min:-Infinity,showDisabled:false};f.exports=m}),null);
__d("BonfireStrings",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();f.exports={add_friend_button:i._("Add"),ring_friend_button:i._("Ring"),bonfire_edit_name_submit:i._("Done"),cancel_ring_button:i._("Cancel"),close_window_warning:i._("Leaving so soon?"),join_button_label:i._("Join"),ignore_button_label:i._("Ignore"),joining_message:i._("Joining"),label_refresh:i._("Refresh"),load_error_media:i._("An Error occured when trying to get access to Camera and\/or Microphone:"),load_error_media_permission:i._("Please Allow Camera and Microphone Access"),load_error_media_permission_explanation:i._("To use Bonfire, you need to turn your camera and microphone on. This will let your friends see and hear you when you connect with them."),load_error_media_permission_explanation_later:i._("You can turn these off later."),load_error_media_permission_learn_more:i._("Learn more"),load_error_unknown:i._("An Unknown Error occured trying to load Bonfire."),load_error_unknown_refresh_request:i._("Please refresh your browser or try again later."),leave_button_label:i._("Leave"),logout:i._("Sign Out"),audio_settings:i._("Audio Settings"),audio_settings_modal_title:i._("Audio Settings"),list_tray_active_bonfire_header:i._("ACTIVE BONFIRES"),list_tray_friend_requests_header:i._("FRIEND REQUESTS"),list_tray_all_friend_header:i._("FRIENDS"),list_tray_all_friend_suggestions_header:i._("SUGGESTIONS"),report_user_modal_title:i._("What's going on?"),report_user_modal_subtitle:i._("You can report a profile if someone is violating our community standards."),contact_law_enforcement_msg:i._("Contact law enforcement in your area if someone is in immediate danger."),is_self_display_name:i._("You"),bonfire_edit_name_placeholder:i._("Name this bonfire"),bonfire_search_placeholder:i._("Search"),cancel_friend_request:i._("Cancel"),respond_yes_friend_request:i._("Accept"),reporting_threatening_violence:i._("This person is threatening violence"),reporting_bullying:i._("This person is bullying me or others"),reporting_harassment:i._("This person is harassing me or others"),reporting_self_harm:i._("This person is threatening to hurt themselves"),reporting_pornography:i._("This person is exposing themselves or committing sex acts"),reporting_hate_speech:i._("This person is using hate speech"),reporting_other:i._("Other"),login_continue_as_button_label:function j(k){return i._("Sign in as {name}",[i.param("name",k)])},bonfire_not_yet_available:i._("Bonfire is not yet available in your area. Please check back again soon."),hideListTray:i._("Hide"),login_phone_generic_error:i._("The email or phone number you've entered doesn't match an account. Sign up for an account in the mobile app. Get the app on {=iOS} or {=Android}.",[i.param("=iOS",c("React").createElement("a",{className:"_3-a-",target:"_blank",href:"https://itunes.apple.com/dk/app/bonfire-group-video-chat/id1240352476"},i._("iOS"))),i.param("=Android",c("React").createElement("a",{className:"_3-a-",target:"_blank",href:"https://play.google.com/store/apps/details?id=com.facebook.bonfire"},i._("Android")))]),login_button_label:i._("Sign in"),logout_button_label:i._("Log out"),login_fb_header:i._("Sign in with Facebook"),login_fb_explanation:i._("Sign in with Facebook"),login_ig_explanation:i._("Sign in with Instagram Account"),login_phone_explanation:i._("Sign in with Phone Number"),login_switch_account_link:i._("Not You?"),login_with_fb:i._("Facebook"),login_with_phone:i._("Bonfire"),login_with_ig:i._("Instagram"),login_generic_error:i._("The username or password you've entered is incorrect. Please re-enter your username and password."),login_password_error:i._("The password you've entered is incorrect. Please re-enter your password."),login_password_placeholder:i._("Password"),login_phone_placeholder:i._("Phone"),login_username_placeholder:i._("Email, phone or username"),login_invalid_error:i._("Invalid value"),get_bonfire_button:i._("Get Bonfire"),landing_about:i._("ABOUT"),landing_privacy:i._("PRIVACY"),landing_terms:i._("TERMS"),get_app_text:i._("Get the app to sign up"),or:i._("or"),login_back_button:i._("Back"),notification_report_success:i._("Thanks for submitting the report."),block_user:i._("Block"),unblock_user:i._("Unblock"),joining_blocked_user_bonfire_title:i._("Someone You Blocked is in This Bonfire"),joined_by_blocked_user:i._("Someone You Blocked has Joined the Bonfire"),joining_blocked_user_bonfire_subtitle:function j(k){return i._("Are you sure you want to join? You previously blocked {=[name]}, who is in this bonfire.",[i.param("=[name]",c("React").createElement("span",{className:"_1dym _65z9"},i._("{name}",[i.param("name",k)])))])},joined_by_blocked_user_subtitle:function j(k){return i._("You previously blocked {=[name]}, who just joined this bonfire. Do you want to leave?",[i.param("=[name]",c("React").createElement("span",{className:"_1dym _65z9"},i._("{name}",[i.param("name",k)])))])},ignore:i._("Ignore"),join_anyway:i._("Join Anyway"),do_not_join:i._("Don't Join"),joining_generic_error_title:i._("Could Not Join Bonfire"),joining_generic_error_message:i._("Something happened and we could not join this bonfire. Please try again."),notification_blocked:function j(k){return i._("{=[name]} has been blocked.",[i.param("=[name]",c("React").createElement("span",{className:"_1dym"},i._("{name}",[i.param("name",k)])))])},notification_unblocked:function j(k){return i._("{=[name]} has been unblocked.",[i.param("=[name]",c("React").createElement("span",{className:"_1dym"},i._("{name}",[i.param("name",k)])))])},notification_unfriended:function j(k){return i._("{=[name]} has been unfriended.",[i.param("=[name]",c("React").createElement("span",{className:"_1dym"},i._("{name}",[i.param("name",k)])))])},notification_ringing:function j(k){return i._("{=[name]} wants to video chat with you",[i.param("=[name]",c("React").createElement("span",{className:"_1dym"},i._("{name}",[i.param("name",k)])))])},okay:i._("Okay"),user_video_off:function j(k){return i._("{name}'s camera is off",[i.param("name",k)])},viewer_video_off:function j(k){return i._("Your camera is off")},locked_label:i._("Locked"),last_active_time:function j(k,l){if((l==="second"||l==="seconds"||l==="minute"||l==="minutes")&&k<=5)return i._("Active now");return k===1?i._({"year":"Active {numeric time value} year ago","month":"Active {numeric time value} month ago","week":"Active {numeric time value} week ago","day":"Active {numeric time value} day ago","hour":"Active {numeric time value} hour ago","minute":"Active {numeric time value} minute ago","second":"Active {numeric time value} second ago"},[i.param("numeric time value",k),i["enum"](l,{year:"year",month:"month",week:"week",day:"day",hour:"hour",minute:"minute",second:"second"})]):i._({"years":"Active {numeric time value} years ago","months":"Active {numeric time value} months ago","weeks":"Active {numeric time value} weeks ago","days":"Active {numeric time value} days ago","hours":"Active {numeric time value} hours ago","minutes":"Active {numeric time value} minutes ago","seconds":"Active {numeric time value} seconds ago"},[i.param("numeric time value",k),i["enum"](l,{years:"years",months:"months",weeks:"weeks",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"})])}}}),null);
__d("CommerceCommonNUXAPI",["AsyncRequest","XCommerceSelfServeMerchantNUXSeenController"],(function a(b,c,d,e,f,g){"use strict";var h={update:function i(j){var k=c("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",j.pageID).setEnum("nux_type",j.nuxType).setEnum("event",j.event).getURI();new(c("AsyncRequest"))(k).send()}};f.exports=h}),null);
__d("CommerceCommonNUX.react",["BOFSellerLoggerEvent","CommerceCommonNUXAPI","React","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes,k=180;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(m){"use strict";i.constructor.call(this,m);this.$CommerceCommonNUX1=function(){this.setState({shown:false});c("CommerceCommonNUXAPI").update({event:c("BOFSellerLoggerEvent").ACTN_NUX_SEEN,nuxType:this.props.type,pageID:this.props.pageID})}.bind(this);this.state={shown:m.shown}}l.prototype.componentDidMount=function(){"use strict";if(this.state.shown)c("CommerceCommonNUXAPI").update({event:c("BOFSellerLoggerEvent").ACTN_NUX_SHOW,nuxType:this.props.type,pageID:this.props.pageID})};l.prototype.render=function(){"use strict";if(!this.state||!this.state.shown)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{className:this.props.className,contextRef:this.props.contextRef,customwidth:k,onCloseButtonClick:this.$CommerceCommonNUX1,position:"above",shown:this.props.shown&&this.state.shown,width:this.props.width},this.props.children)};l.defaultProps={width:"custom"};l.PropTypes={children:j.any,className:j.string,contextRef:j.func.isRequired,pageID:j.string.isRequired,shown:j.bool.isRequired,type:j.string.isRequired,width:j.oneOf(["auto","custom","normal","wide"])};f.exports=l}),null);
__d("CommerceCurrencyUtil",["ix","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i={BRL:h("127535"),EUR:h("127538"),GBP:h("127541"),IDR:h("127545"),MYR:h("127553"),NTD:h("127557"),PHP:h("127561"),SEK:h("127565"),THB:h("307416"),TRY:h("127573"),VEF:h("307420"),VND:h("127585"),YEN:h("127588"),USD:h("127577")},j="USD",k={getIconSrc:function l(m){if(!m)return i[j];return i[m]||i[j]}};f.exports=k}),null);
__d("PagesMarkAsPaidCurrencyUtil",["ix","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i={BRL:h("116319"),GBP:h("116325"),INR:h("116333"),MYR:h("116337"),PHP:h("116345"),THB:h("307029"),VND:h("116369"),USD:h("116361")},j=["BRL","EGP","GBP","INR","MXN","MYR","PHP","THB","TWD","USD","VND"],k="USD",l={getIconSrc:function m(n){if(!n)return i[k];return i[n]||i[k]},getCurrencyList:function m(){return j}};f.exports=l}),null);
__d("CommerceInvoiceButtonConfirmPaymentPUX.react",["fbt","CommerceCommonNUX.react","CommerceSelfServeNUXType","React","XUIText.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("CommerceCommonNUX.react"),{contextRef:this.props.contextRef,pageID:this.props.pageID,shown:this.props.shown,type:c("CommerceSelfServeNUXType").INVOICE_PAYMENTS_CONFIRM_PUX,width:"auto"},c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},h._("New! Confirm Payments")),h._("Now you can mark orders as paid"))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("CommerceInvoiceButtonPUX.react",["fbt","CommerceCommonNUX.react","CommerceSelfServeNUXType","MercuryParticipants","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$CommerceInvoiceButtonPUX2=function(r){this.setState({recipientName:r&&r.name})}.bind(this),n}l.prototype.componentDidMount=function(){"use strict";this.$CommerceInvoiceButtonPUX1(this.props)};l.prototype.componentWillReceiveProps=function(m){"use strict";this.$CommerceInvoiceButtonPUX1(m)};l.prototype.$CommerceInvoiceButtonPUX1=function(m){"use strict";c("MercuryParticipants").get("fbid:"+m.recipientID,this.$CommerceInvoiceButtonPUX2)};l.prototype.render=function(){"use strict";if(!this.state||!this.state.recipientName)return null;return c("React").createElement(c("CommerceCommonNUX.react"),{contextRef:this.props.contextRef,pageID:this.props.pageID,shown:this.props.shown,type:c("CommerceSelfServeNUXType").INVOICE_PAYMENTS_CREATION_PUX},h._("Click here to send {buyer} a payment request",[h.param("buyer",this.state.recipientName)]))};l.PropTypes={contextRef:k.func.isRequired,pageID:k.string.isRequired,recipientID:k.string.isRequired,shown:k.bool.isRequired};f.exports=l}),null);
__d("XCommerceTransactionInvoiceUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/transaction-invoice/update/",{})}),null);
__d("CommerceInvoiceAPI",["ActorURI","AsyncRequest","XCommerceTransactionInvoiceUpdateController","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={updateInvoiceStatus:function i(j){var k=c("XCommerceTransactionInvoiceUpdateController").getURIBuilder().getURI();k=c("ActorURI").create(k,j.pageID);var l=j.onSuccess||c("emptyFunction"),m=j.onError||c("emptyFunction"),n={invoice_id:j.invoiceID,transaction_status:j.status,receipt_reject_reason:j.receiptRejectReason,shipment_tracking_no:j.shipmentTrackingNumber};new(c("AsyncRequest"))().setURI(k).setData(n).setMethod("POST").setHandler(function(o){var p=o.getPayload();l(p)}).setErrorHandler(function(o){m()}).send()}};f.exports=h}),null);
__d("CommerceInvoiceAdminActionMoneyAmountInput.react",["cx","fbt","PagesMarkAsPaidCurrencyUtil","FBPaymentsLinkHelper","Image.react","MessengerEnvironment","Middot.react","P2PAmountUtils","React","ReactDOM","ShimButton.react","XUIError.react","XUIGrayText.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=1,l=999999,m=c("React").createClass({displayName:"CommerceInvoiceAdminActionMoneyAmountInput",propTypes:{currencySymbol:j.string,disabled:j.bool,isRequesting:j.bool,onInputChange:j.func,receiversCount:j.number,value:j.string,currency:j.string,pageID:j.string},getDefaultProps:function n(){return{currencySymbol:"$",disabled:false,isRequesting:false,onInputChange:c("emptyFunction"),receiversCount:1,value:""}},getInitialState:function n(){var o=void 0;if(c("MessengerEnvironment").messengerui)o=236;else o=200;return{inputError:null,maxInputWidth:o,value:this.props.value,width:""}},componentDidMount:function n(){this.updateAmount(this.state.value);if(!this.props.disabled)this.initDelayedFocus()},initDelayedFocus:function n(){setTimeout(this.focus)},focus:function n(){__p&&__p();var o=void 0,p=this.state.value,q=0;if(this.isMounted()&&this.refs.textInput){o=c("ReactDOM").findDOMNode(this.refs.textInput);if(o!==null){o.focus();if(p){q=p.length;o.setSelectionRange(q,q)}}}},handleAmountInputChange:function n(o){var p=o.target.value;this.clearInputError();this.updateAmount(p)},clearInputError:function n(){this.setState({inputError:null})},setInputError:function n(o){this.setState({inputError:o})},handleAmountInputBlur:function n(o){var p=o.target.value,q=p.split("."),r=q[0],s=q[1];if(s){if(s.length===1)this.updateAmount(p+"0")}else if(s==="")this.updateAmount(r)},updateAmount:function n(o){__p&&__p();var p=true,q=void 0,r=parseFloat(o)>l;o=c("P2PAmountUtils").sanitizeAmount(o);q=parseFloat(o);if(r){p=false;this.setInputError(i._("Please enter a smaller amount"))}var s=o.split("."),t=s[0],u=s[1];if(u!==undefined)o=(t&&parseFloat(t)!==0?t:"0")+"."+u.substr(0,2);else if(t)if(parseFloat(t)===0)o="0";else if(t.length>1&&t[0]==="0")o=o.substr(1,o.length);if(o.length===0)o="0";this.setValue(o);q=parseFloat(o);p=p&&!isNaN(q)&&q>0;this.props.onInputChange(o,p)},setValue:function n(o){this.setState({value:o},this.updateWidth)},updateWidth:function n(){var o=this.getMockWidth();if(o)this.setState({width:Math.min(o,this.state.maxInputWidth)})},getMockWidth:function n(){var o=c("ReactDOM").findDOMNode(this.refs.mock_input);return o.offsetWidth+k},renderGroupRequestInformation:function n(){if(this.props.receiversCount<=1)return null;var o=Math.round(this.state.value*this.props.receiversCount*100)/100;return c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._("Per Person"),c("React").createElement(c("Middot.react"),null),i._("{currency}{total} Total",[i.param("currency",this.props.currencySymbol),i.param("total",o)]))},_onChangeCurrency:function n(){var o=c("FBPaymentsLinkHelper").getPagePaymentSettingsURI(this.props.pageID,"AdminButton");window.open(o)},render:function n(){var o=void 0;return c("React").createElement("div",{className:"_2zja"+(this.props.isRequesting?" _2zjd":"")},c("React").createElement("label",null,o,c("React").createElement("div",{className:"_2zje"},c("React").createElement("div",{ref:"mock_input",className:"_2zjg"},this.state.value),c("React").createElement(c("XUIError.react"),{xuiError:this.state.inputError},c("React").createElement("div",{className:"_3y9z"},c("React").createElement(c("ShimButton.react"),{role:"button",className:"_3y9-",onClick:this._onChangeCurrency},c("React").createElement(c("Image.react"),{src:c("PagesMarkAsPaidCurrencyUtil").getIconSrc(this.props.currency)})),c("React").createElement("div",{className:"_3y9_"},c("React").createElement("input",{className:"_3ya0",autoFocus:true,disabled:this.props.disabled,onBlur:this.handleAmountInputBlur,onChange:this.handleAmountInputChange,ref:"textInput",style:{width:this.state.width},value:this.state.value})))),this.renderGroupRequestInformation())))}});f.exports=m}),null);
__d("MessengerAdsLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WILL_TRY_SENDING_ADS:"will_try_sending_ads",NO_ADS_SENT:"no_ads_sent",FULL_AD_SENT:"full_ad_sent",AD_BODY_SENT:"ad_body_sent",AD_ATTACHMENT_SENT:"ad_attachment_sent",ERROR_SENDING_AD:"error_sending_ad",ERROR_SENDING_MESSAGE:"error_sending_message",ERROR_INJECTING_AD:"error_injecting_ad",ERROR_INTRO_DIRECTION_COPY_AD:"error_intro_direction_copy_ad",UNCATEGORIZED_USER_EVENT:"uncategorized_user_event",LOGGED_IMPRESSION:"logged_impression",RULES_RESULT:"rules_result",EXCEPTION_IN_ASYNC_PROCESSOR:"exception_in_async",AD_VALIDATION_RESULT:"ad_validation_result",LOGGED_CLICK:"logged_click",ERROR_CREATING_PROMO:"error_creating_promotion",ERROR_CREATING_TRENDING_STORY:"error_creating_trending_story",AD_SEND_FAILURE:"ad_send_failure",AD_ADMIN_SEND_FAILURE:"ad_admin_send_failure",PROCESSED_USER_EVENT:"processed_user_event",AD_FINDER_RESULT:"ad_finder_result",NO_AD_IMPRESSION_FOUND:"no_ad_impression_found",NO_CLIENT_TOKEN_FOUND:"no_client_token_found",NO_CREATIVE_FOUND:"no_creative_found",MISSING_IDENTIFIER:"missing_identifier",ERROR_WRITING_MAPPING:"error_writing_mapping",ERROR_READING_MAPPING:"error_reading_mapping",LOGGED_CONVERSION:"logged_conversion",SENDING_DEMO_AD:"sending_demo_ad",MASTER_HOLDOUT_USER:"master_holdout",ERROR_UPDATING_DELIVERY_COUNTER:"error_updating_delivery_counter",ERROR_READING_DELIVERY_COUNTER:"error_reading_delivery_counter",REVOKE_ADS:"revoke_ads",ERROR_APP_REQUEST_LOOKUP:"error_app_request_lookup",TAG_THREAD_ON_REPLY:"tag_thread_on_reply",TAG_THREAD_ON_REPLY_FAIL:"tag_thread_on_reply_fail",TAG_THREAD_ON_REPLY_SKIP:"tag_thread_on_reply_skip",TAG_THREAD_ON_TWO_WAY_MESSAGE:"tag_thread_on_two_way_message",AD_COPIED_TO_SENDER:"ad_copied_to_sender",AD_COPIED_TO_SENDER_FAIL:"ad_copied_to_sender_fail",AD_WELCOME_MESSAGE_SENT:"ad_welcome_message_sent",AD_WELCOME_MESSAGE_FAIL:"ad_welcome_message_fail",LOCAL_AWARENESS_CTA_DEFAULTING:"local_awareness_cta_defaulting",MULTIPLE_IMAGES_PER_ATTACHMENT:"multiple_images_per_attachment",DUPLICATE_REPLY_MSG:"duplicate_reply_msg",DUPLICATE_FIRST_REPLY:"duplicate_first_reply",DUPLICATE_PAGE_SENT_MSG:"duplicate_page_sent_msg",ADMIN_MESSAGE_AD_CONTEXT:"admin_message_ad_context",DUPLICATE_OPEN_THREAD:"duplicate_open_thread",PAGE_MARK_CONVERSION:"page_mark_conversion",DETECTED_PURCHASE:"detected_purchase",CUSTOM_AUDIENCE_CREATION_FAILED:"custom_audience_creation_failed",ERROR_UPDATING_RTCS_COUNTER:"error_updating_rtcs_counter",RECENT_FIRST_REPLY_DEBUG:"recent_first_reply_debug",CONVERSATION_TRACKER_ERROR:"conversation_tracker_error"})}),null);
__d("MessengerAdsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MessengerAdsLoggerConfig",this.$MessengerAdsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MessengerAdsLoggerConfig",this.$MessengerAdsTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:MessengerAdsLoggerConfig",this.$MessengerAdsTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$MessengerAdsTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$MessengerAdsTypedLogger1)};h.prototype.updateData=function(j){this.$MessengerAdsTypedLogger1=babelHelpers["extends"]({},this.$MessengerAdsTypedLogger1,j);return this};h.prototype.setAdID=function(j){this.$MessengerAdsTypedLogger1.ad_id=j;return this};h.prototype.setAdType=function(j){this.$MessengerAdsTypedLogger1.ad_type=j;return this};h.prototype.setAdfinderAccountsReturned=function(j){this.$MessengerAdsTypedLogger1.adfinder_accounts_returned=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setAdfinderAdsReturned=function(j){this.$MessengerAdsTypedLogger1.adfinder_ads_returned=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setAdsReturnedCount=function(j){this.$MessengerAdsTypedLogger1.ads_returned_count=j;return this};h.prototype.setAsyncSource=function(j){this.$MessengerAdsTypedLogger1.async_source=j;return this};h.prototype.setClientUserID=function(j){this.$MessengerAdsTypedLogger1.client_userid=j;return this};h.prototype.setConversationLength=function(j){this.$MessengerAdsTypedLogger1.conversation_length=j;return this};h.prototype.setErrorCode=function(j){this.$MessengerAdsTypedLogger1.error_code=j;return this};h.prototype.setErrorMessage=function(j){this.$MessengerAdsTypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$MessengerAdsTypedLogger1.event=j;return this};h.prototype.setFailedRules=function(j){this.$MessengerAdsTypedLogger1.failed_rules=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setGkStatus=function(j){this.$MessengerAdsTypedLogger1.gk_status=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setImpGenerationTime=function(j){this.$MessengerAdsTypedLogger1.imp_generation_time=j;return this};h.prototype.setImpressionPrice=function(j){this.$MessengerAdsTypedLogger1.impression_price=j;return this};h.prototype.setIsSubsequent=function(j){this.$MessengerAdsTypedLogger1.is_subsequent=j;return this};h.prototype.setMessageFolder=function(j){this.$MessengerAdsTypedLogger1.message_folder=j;return this};h.prototype.setMessageID=function(j){this.$MessengerAdsTypedLogger1.message_id=j;return this};h.prototype.setPageID=function(j){this.$MessengerAdsTypedLogger1.page_id=j;return this};h.prototype.setPassedRules=function(j){this.$MessengerAdsTypedLogger1.passed_rules=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setRulesPassed=function(j){this.$MessengerAdsTypedLogger1.rules_passed=j;return this};h.prototype.setSkippedRules=function(j){this.$MessengerAdsTypedLogger1.skipped_rules=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setUserEventName=function(j){this.$MessengerAdsTypedLogger1.user_event_name=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$MessengerAdsTypedLogger1=babelHelpers["extends"]({},this.$MessengerAdsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={ad_id:true,ad_type:true,adfinder_accounts_returned:true,adfinder_ads_returned:true,ads_returned_count:true,async_source:true,client_userid:true,conversation_length:true,error_code:true,error_message:true,event:true,failed_rules:true,gk_status:true,imp_generation_time:true,impression_price:true,is_subsequent:true,message_folder:true,message_id:true,page_id:true,passed_rules:true,rules_passed:true,skipped_rules:true,user_event_name:true};f.exports=h}),null);
__d("MessengerConversionEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REPLY_ACTION:"reply",FIRST_REPLY_ACTION:"first_reply",OPEN_THREAD_ACTION:"open_thread",ACCEPT_MESSENGER_REQUEST_ACTION:"accept_messenger_request",IGNORE_MESSENGER_REQUEST_ACTION:"ignore_messenger_request",DELETE_THREAD:"delete",BLOCK_THREAD:"block",MARK_SPAM_THREAD:"mark_spam",PROMOTIONAL_OFF_THREAD:"promotional_off",DELETE_MESSAGE:"delete_message",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",LABEL_ADDED:"label_added",LABEL_REMOVED:"label_removed",PAGE_MESSAGE_SENT:"page_message_sent",PURCHASE:"purchase",PAGE_CLICK_INVOICE_BUTTON:"page_click_invoice_button",PAGE_START_MARK_AS_PAID:"page_start_mark_as_paid",PAGE_CONFIRM_PAID:"page_confirm_paid",USER_OPEN_RECEIPT:"user_open_receipt",PAGE_OPEN_RECEIPT:"page_open_receipt",CONVERSATION_START_7_DAY:"conversation_start_7_day"})}),null);
__d("CommerceInvoiceAdminActionContextualDialog.react",["cx","fbt","ix","CommerceCurrencyUtil","Image.react","Link.react","CommerceInvoiceAdminActionMoneyAmountInput.react","MessengerAdsTypedLogger","MessengerAdsLoggerEvent","MessengerConversionEvent","React","XUIContextualDialog.react","XUIGrayText.react","XUIText.react","XUITextInput.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){__p&&__p();l.constructor.call(this,n);this.$CommerceInvoiceAdminActionContextualDialog1=function(){new(c("MessengerAdsTypedLogger"))().setEvent(c("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(c("MessengerConversionEvent").PAGE_START_MARK_AS_PAID).setPageID(this.props.pageID).log();this.setState({view:"confirm_payment"})}.bind(this);this.$CommerceInvoiceAdminActionContextualDialog2=function(){if(!this.state.canConfirm)return;this.props.onConfirmPayment(parseFloat(this.state.paymentAmount),this.state.paymentNote,this.props.defaultCurrency);new(c("MessengerAdsTypedLogger"))().setEvent(c("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(c("MessengerConversionEvent").PAGE_CONFIRM_PAID).setPageID(this.props.pageID).log()}.bind(this);this.$CommerceInvoiceAdminActionContextualDialog3=function(o,p){this.setState({paymentAmount:o,canConfirm:p})}.bind(this);this.$CommerceInvoiceAdminActionContextualDialog4=function(event){this.setState({paymentNote:event.target.value})}.bind(this);this.state={view:this.props.view||"default",paymentNote:"",paymentAmount:"0",canConfirm:false}}m.prototype.$CommerceInvoiceAdminActionContextualDialog5=function(){return c("React").createElement("div",{className:"_5_vv"},c("React").createElement("div",{className:"_4375"},c("React").createElement("div",{className:"_437a"},i._("Mark a Conversation as Paid")),c("React").createElement("div",{className:"_437b"},i._("With Mark as Paid, you can track all payments you receive on Facebook for improved Page Insights that help increase sales."))),this.props.shouldShowRequestPayment||this.props.shouldAllowPaymentOnboarding?c("React").createElement("div",{className:"_5_vw",onClick:this.props.onRequestPayment,role:"presentation"},c("React").createElement(c("Image.react"),{className:"_5_vx",src:c("CommerceCurrencyUtil").getIconSrc(this.props.defaultCurrency)}),c("React").createElement("span",{className:"_5_vy"},c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},i._("Request Payment")),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},i._("Send this buyer a request to pay for products")))):null,this.props.shouldShowConfirmPayment?c("React").createElement("div",{className:"_5_vw",onClick:this.$CommerceInvoiceAdminActionContextualDialog1,role:"presentation"},c("React").createElement(c("Image.react"),{className:"_5_vx",src:j("127386")}),c("React").createElement("span",{className:"_5_vy"},c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},i._("Mark As Paid")),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},i._("Confirm that you've received payment from this buyer")))):null)};m.prototype.$CommerceInvoiceAdminActionContextualDialog6=function(){return c("React").createElement("div",{className:"_5_vz"},c("React").createElement("div",{className:"_5_v-"},i._("Confirm Amount Paid")),c("React").createElement("div",{className:"_5_v_"},c("React").createElement(c("CommerceInvoiceAdminActionMoneyAmountInput.react"),{onInputChange:this.$CommerceInvoiceAdminActionContextualDialog3,value:this.state.paymentAmount,currency:this.props.defaultCurrency,pageID:this.props.pageID})),c("React").createElement("div",{className:"_5_w0"},c("React").createElement(c("Image.react"),{src:j("126555")}),c("React").createElement(c("XUITextInput.react"),{value:this.state.paymentNote,onChange:this.$CommerceInvoiceAdminActionContextualDialog4,placeholder:i._("What is the payment for?")})),c("React").createElement("div",{className:"_5_w1"},c("React").createElement(c("Link.react"),{onClick:this.$CommerceInvoiceAdminActionContextualDialog2},i._("Confirm"))))};m.prototype.$CommerceInvoiceAdminActionContextualDialog7=function(){switch(this.state.view){case"default":return this.$CommerceInvoiceAdminActionContextualDialog5();case"confirm_payment":return this.$CommerceInvoiceAdminActionContextualDialog6()}return null};m.prototype.render=function(){return c("React").createElement(c("XUIContextualDialog.react"),{hideOnBlur:true,shown:this.props.shown,alignment:"right",contextRef:this.props.contextRef,onToggle:this.props.onToggle},this.$CommerceInvoiceAdminActionContextualDialog7())};f.exports=m}),null);
__d("CommerceInvoiceAdminActionsTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({CREATE_INVOICE_START:"",CREATE_INVOICE_SUCCESS:"",CREATE_INVOICE_FAILURE:"",HIDE_DIALOG:"",SAVE_CONFIG:"",SET_CONFIG:"",SET_INVOICE_DETAILS:"",SET_INVOICE_NOTE:"",SET_PRODUCT_PRICE:"",SET_SELECTED_PRODUCTS:"",SHOW_DIALOG:"",SHOW_MANAGE_INVOICE_DIALOG:"",UPDATE_INVOICE_STATUS_START:"",UPDATE_INVOICE_STATUS_SUCCESS:"",MANAGE_INVOICE_ERROR:"",HIDE_MANAGE_INVOICE_DIALOG:"",TOGGLE_ADMIN_ACTION_DIALOG:""});f.exports=h}),null);
__d("CommerceInvoiceAdminDispatcher",["ExplicitRegistrationDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("XCommerceAdminTransactionInvoiceDetailsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/admin/transaction_invoice_details/",{invoice_id:{type:"FBID",required:true}})}),null);
__d("XCommerceTransactionInvoiceConfigController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/transaction/invoice/config/",{})}),null);
__d("CommerceInvoiceAdminActions",["fbt","CommerceInvoiceAdminActionsTypes","ActorURI","AsyncRequest","CommerceInvoiceAPI","CommerceInvoiceAdminDispatcher","XCommerceAdminTransactionInvoiceDetailsController","XCommerceTransactionInvoiceConfigController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={setConfig:function j(k){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_CONFIG,config:k})},createInvoiceStart:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_START})},createInvoiceSuccess:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_SUCCESS})},createInvoiceFailure:function j(k){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_FAILURE,error:k})},hideDialog:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").HIDE_DIALOG})},hideManageInvoiceDialog:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").HIDE_MANAGE_INVOICE_DIALOG})},saveConfiguration:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SAVE_CONFIG})},setInvoiceDetails:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_INVOICE_DETAILS,invoiceID:k,invoiceDetails:l})},setInvoiceNote:function j(k){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_INVOICE_NOTE,invoiceNote:k})},setProductPrice:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_PRODUCT_PRICE,productID:k,price:l})},setSelectedProducts:function j(k){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SET_SELECTED_PRODUCTS,products:k})},showDialog:function j(){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SHOW_DIALOG})},showManageInvoiceDialog:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").SHOW_MANAGE_INVOICE_DIALOG,invoiceID:k,pageID:l})},updateInvoiceStatusStart:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_START,invoiceID:l,pageID:k})},updateInvoiceStatusSuccess:function j(k,l,m){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_SUCCESS,invoiceID:l,pageID:k,status:m})},setManageInvoiceError:function j(k,l){c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").MANAGE_INVOICE_ERROR,invoiceID:k,errorMessage:l})},fetchInvoiceDetails:function j(k,l){var m=c("XCommerceAdminTransactionInvoiceDetailsController").getURIBuilder().setFBID("invoice_id",l).getURI(),n=c("ActorURI").create(m,k);new(c("AsyncRequest"))().setURI(n).setHandler(function(o){var p=o.payload,q=p.items[0],r={id:q.product_item_id,imageURL:q.product_image_uri,name:q.product_name,price:q.product_price/100},s={currency:p.currency,id:p.invoice_id,pageID:p.page_id,status:p.status,statusDisplay:p.status_display,totalCost:p.total_cost,products:[r],availableShippingOptions:p.available_shipping_options,selectedShippingOption:p.selected_shipping_option,availablePaymentOptions:p.available_payment_options,selectedPaymentOption:p.selected_payment_option,receiptPhotoURL:p.receipt_photo_url,shippingAddress:p.ship_to_address,note:p.invoice_notes,customerPhoneNumber:p.customer_phone_number};i.setInvoiceDetails(l,s)}).send()},fetchConfig:function j(k){var l=c("XCommerceTransactionInvoiceConfigController").getURIBuilder().getURI(),m=c("ActorURI").create(l,k);new(c("AsyncRequest"))().setURI(m).setHandler(function(n){var o=n.payload,p={isOnboarded:o.isOnboarded,businessEmail:o.merchantSettings.contactEmail,paymentMethods:o.paymentOptions,shippingOptions:o.shippingOptions,merchantSettings:o.merchantSettings};i.setConfig(p)}).send()},updateInvoiceStatus:function j(k,l,m){this.updateInvoiceStatusStart(k,l);c("CommerceInvoiceAPI").updateInvoiceStatus({invoiceID:l,pageID:k,status:m,onSuccess:function(){this.updateInvoiceStatusSuccess(k,l,m)}.bind(this),onError:function(){var n=h._("There was an error updating the order status");this.setManageInvoiceError(l,n)}.bind(this)})},toggleActionsDialog:function j(k){var l=arguments.length<=1||arguments[1]===undefined?null:arguments[1],m=arguments.length<=2||arguments[2]===undefined?null:arguments[2],n=arguments.length<=3||arguments[3]===undefined?null:arguments[3];c("CommerceInvoiceAdminDispatcher").dispatch({actionType:c("CommerceInvoiceAdminActionsTypes").TOGGLE_ADMIN_ACTION_DIALOG,showDialog:k,messageID:l,dialogView:m,referrer:n})}};f.exports=i}),null);
__d("CommerceInvoicePaymentOptionCategory",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({BANK_TRANSFER:"BANK_TRANSFER",CUSTOM:"CUSTOM",PAY_ON_DELIVERY:"PAY_ON_DELIVERY"});f.exports=h}),null);
__d("PagesCommercePaymentInvoiceReferrer",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({XMAT:"xmat",ACTION_SHEET:"action_sheet"})}),null);
__d("CommerceInvoiceAdminStore",["invariant","CommerceInvoiceAdminActions","CommerceInvoiceAdminActionsTypes","CommerceInvoiceAdminDispatcher","CommerceInvoicePaymentOptionCategory","FluxStore","immutable","PageProductTransactionOrderStatus","Map","PagesCommercePaymentInvoiceReferrer"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("immutable").Map;i=babelHelpers.inherits(l,c("FluxStore"));j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.$CommerceInvoiceAdminStore1=true;this.$CommerceInvoiceAdminStore2=false;this.$CommerceInvoiceAdminStore3=false;this.$CommerceInvoiceAdminStore4=k(new(c("Map"))());this.$CommerceInvoiceAdminStore5=false;this.$CommerceInvoiceAdminStore6=k(new(c("Map"))());this.$CommerceInvoiceAdminStore7=false;this.$CommerceInvoiceAdminStore8=null;this.$CommerceInvoiceAdminStore11="Draft";this.$CommerceInvoiceAdminStore12=k(new(c("Map"))());this.$CommerceInvoiceAdminStore13=k(new(c("Map"))());this.$CommerceInvoiceAdminStore14="";this.$CommerceInvoiceAdminStore10=null;this.$CommerceInvoiceAdminStore15=false;this.$CommerceInvoiceAdminStore16="default";this.$CommerceInvoiceAdminStore17=null;this.$CommerceInvoiceAdminStore18=c("PagesCommercePaymentInvoiceReferrer").ACTION_SHEET;this.$CommerceInvoiceAdminStore19()}l.prototype.$CommerceInvoiceAdminStore20=function(m){return{description:m.description,id:m.id,imageURL:m.image_url,name:m.name,permalink:m.permalink,price:m.current_price.amount/100}};l.prototype.$CommerceInvoiceAdminStore19=function(){this.$CommerceInvoiceAdminStore9=k(new(c("Map"))());this.$CommerceInvoiceAdminStore14=""};l.prototype.$CommerceInvoiceAdminStore21=function(){this.$CommerceInvoiceAdminStore8={isOnboarded:true,businessEmail:"test@test.com",paymentMethods:[{type:c("CommerceInvoicePaymentOptionCategory").BANK_TRANSFER,description:"*transfer detaile here*"}],shippingOptions:[{id:"1234",price:2e3,currency:"USD",name:"UPS Ground"}],merchantSettings:{id:"1234567",defaultCurrency:"USD"}}};l.prototype.$CommerceInvoiceAdminStore22=function(m){this.$CommerceInvoiceAdminStore2=m};l.prototype.$CommerceInvoiceAdminStore23=function(m){this.$CommerceInvoiceAdminStore3=m};l.prototype.$CommerceInvoiceAdminStore24=function(m){this.$CommerceInvoiceAdminStore7=m};l.prototype.$CommerceInvoiceAdminStore25=function(m){this.$CommerceInvoiceAdminStore14=m};l.prototype.$CommerceInvoiceAdminStore26=function(m,n){var o=this.$CommerceInvoiceAdminStore9.get(m);o.price=n;this.$CommerceInvoiceAdminStore9=this.$CommerceInvoiceAdminStore9.set(m,Object.assign({},o))};l.prototype.$CommerceInvoiceAdminStore27=function(m){var n=new(c("Map"))();m.map(function(o){return n.set(o.id,this.$CommerceInvoiceAdminStore20(o))}.bind(this));this.$CommerceInvoiceAdminStore9=k(n)};l.prototype.$CommerceInvoiceAdminStore28=function(){this.$CommerceInvoiceAdminStore4=k(new(c("Map"))());this.$CommerceInvoiceAdminStore6=k(new(c("Map"))());this.$CommerceInvoiceAdminStore12=k(new(c("Map"))())};l.prototype.$CommerceInvoiceAdminStore29=function(m,n){var o=new(c("Map"))();o.set(m,n);this.$CommerceInvoiceAdminStore13=k(o)};l.prototype.$CommerceInvoiceAdminStore30=function(m){this.$CommerceInvoiceAdminStore15=m};l.prototype.$CommerceInvoiceAdminStore31=function(m){this.$CommerceInvoiceAdminStore16=m||"default"};l.prototype.$CommerceInvoiceAdminStore32=function(m){this.$CommerceInvoiceAdminStore17=m};l.prototype.$CommerceInvoiceAdminStore33=function(m){this.$CommerceInvoiceAdminStore18=m||c("PagesCommercePaymentInvoiceReferrer").ACTION_SHEET};l.prototype.__onDispatch=function(m){__p&&__p();switch(m.actionType){case c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_FAILURE:this.$CommerceInvoiceAdminStore24(false);this.$CommerceInvoiceAdminStore23(true);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_START:this.$CommerceInvoiceAdminStore24(true);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").CREATE_INVOICE_SUCCESS:this.$CommerceInvoiceAdminStore24(false);this.$CommerceInvoiceAdminStore22(false);this.$CommerceInvoiceAdminStore23(false);this.$CommerceInvoiceAdminStore19();this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").HIDE_DIALOG:this.$CommerceInvoiceAdminStore22(false);this.$CommerceInvoiceAdminStore23(false);this.$CommerceInvoiceAdminStore19();this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").HIDE_MANAGE_INVOICE_DIALOG:this.$CommerceInvoiceAdminStore28();this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").SAVE_CONFIG:this.$CommerceInvoiceAdminStore21();this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").SET_CONFIG:this.$CommerceInvoiceAdminStore8=m.config;this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").SET_INVOICE_DETAILS:this.$CommerceInvoiceAdminStore29(m.invoiceID,m.invoiceDetails);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").SET_INVOICE_NOTE:this.$CommerceInvoiceAdminStore25(m.invoiceNote);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").SET_PRODUCT_PRICE:this.$CommerceInvoiceAdminStore26(m.productID,m.price);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").SET_SELECTED_PRODUCTS:this.$CommerceInvoiceAdminStore27(m.products);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").SHOW_DIALOG:this.$CommerceInvoiceAdminStore22(true);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").SHOW_MANAGE_INVOICE_DIALOG:var n=new(c("Map"))();n.set(m.invoiceID,true);this.$CommerceInvoiceAdminStore4=k(n);c("CommerceInvoiceAdminActions").fetchInvoiceDetails(m.pageID,m.invoiceID);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_START:var o=new(c("Map"))();o.set(m.invoiceID,true);this.$CommerceInvoiceAdminStore6=k(o);this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").UPDATE_INVOICE_STATUS_SUCCESS:var p=this.$CommerceInvoiceAdminStore13.get(m.invoiceID);p.status=m.status;this.$CommerceInvoiceAdminStore29(m.invoiceID,p);this.$CommerceInvoiceAdminStore4=k(new(c("Map"))());this.$CommerceInvoiceAdminStore6=k(new(c("Map"))());this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").MANAGE_INVOICE_ERROR:var q=new(c("Map"))();q.set(m.invoiceID,m.errorMessage);this.$CommerceInvoiceAdminStore12=k(q);this.$CommerceInvoiceAdminStore6=k(new(c("Map"))());this.__emitChange();break;case c("CommerceInvoiceAdminActionsTypes").TOGGLE_ADMIN_ACTION_DIALOG:this.$CommerceInvoiceAdminStore30(m.showDialog);this.$CommerceInvoiceAdminStore32(m.messageID);this.$CommerceInvoiceAdminStore31(m.dialogView);this.$CommerceInvoiceAdminStore33(m.referrer);this.__emitChange();break}};l.prototype.getCanSaveConfig=function(){return this.$CommerceInvoiceAdminStore1};l.prototype.getCanSendInvoice=function(){return this.$CommerceInvoiceAdminStore9.size>0};l.prototype.getIsDialogVisible=function(){return this.$CommerceInvoiceAdminStore2};l.prototype.getIsInvoicePendingApproval=function(m){var n=this.$CommerceInvoiceAdminStore13.get(m);return!!n&&n.status===c("PageProductTransactionOrderStatus").PENDING_APPROVAL};l.prototype.getIsInvoiceCancelled=function(m){var n=this.$CommerceInvoiceAdminStore13.get(m);return n&&n.status===c("PageProductTransactionOrderStatus").VOIDED};l.prototype.getIsInvoiceFulfilled=function(m){var n=this.$CommerceInvoiceAdminStore13.get(m);return n&&n.status===c("PageProductTransactionOrderStatus").SHIPPED};l.prototype.getIsInvoicePaid=function(m){var n=this.$CommerceInvoiceAdminStore13.get(m);return n&&!!n.selectedPaymentOption&&(n.status===c("PageProductTransactionOrderStatus").PAYMENT_SUBMITTED||n.status===c("PageProductTransactionOrderStatus").SHIPPED)};l.prototype.getIsManageInvoiceDialogVisible=function(m){return this.$CommerceInvoiceAdminStore4.get(m)===true};l.prototype.getIsErrorMessageVisible=function(){return this.$CommerceInvoiceAdminStore3};l.prototype.getIsSavingConfig=function(){return this.$CommerceInvoiceAdminStore5};l.prototype.getIsSendingInvoice=function(){return this.$CommerceInvoiceAdminStore7};l.prototype.getConfig=function(){return this.$CommerceInvoiceAdminStore8};l.prototype.getInvoiceNote=function(){return this.$CommerceInvoiceAdminStore14};l.prototype.getProductPrice=function(m){this.$CommerceInvoiceAdminStore9.get(m)||h(0);return this.$CommerceInvoiceAdminStore9.get(m).price};l.prototype.getSelectedProducts=function(){return this.$CommerceInvoiceAdminStore9.toArray()};l.prototype.getStatusMessage=function(){return this.$CommerceInvoiceAdminStore11};l.prototype.getManageInvoiceErrorMessage=function(m){return this.$CommerceInvoiceAdminStore12.get(m)};l.prototype.getSelectedShippingOption=function(){return this.$CommerceInvoiceAdminStore10};l.prototype.getIsManageInvoiceDialogLoading=function(m){var n=this.$CommerceInvoiceAdminStore6.get(m)===true;return n||this.getInvoiceDetails(m)==null};l.prototype.getTotalCost=function(){var m=0;this.$CommerceInvoiceAdminStore9.forEach(function(n){return m+=n.price});return m*100};l.prototype.getInvoiceDetails=function(m){return this.$CommerceInvoiceAdminStore13.get(m)};l.prototype.getShowAdminActionContextualDialog=function(){return this.$CommerceInvoiceAdminStore15};l.prototype.getActionDialogView=function(){return this.$CommerceInvoiceAdminStore16};l.prototype.getMessageID=function(){return this.$CommerceInvoiceAdminStore17};l.prototype.getReferrer=function(){return this.$CommerceInvoiceAdminStore18};f.exports=new l(c("CommerceInvoiceAdminDispatcher"))}),null);
__d("FBPaymentsCartFlowContainerBase.react",["FBPaymentsPriceListHelper","immutable","React","abstractMethod","emptyFunction","idx","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("keyMirror")({CART_SUMMARY:null,CONFIGURE_ITEM_OPTIONS:null});h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(m){__p&&__p();i.constructor.call(this,m);this.$FBPaymentsCartFlowContainerBase1=function(n){this.setState({config:n})}.bind(this);this.$FBPaymentsCartFlowContainerBase2=function(n){this.setState({errorMessage:n.message})}.bind(this);this.$FBPaymentsCartFlowContainerBase5=function(){this.props.onClose()}.bind(this);this.$FBPaymentsCartFlowContainerBase6=function(n){this.setState({configuringCartItem:n,configuringCartItemKey:null,step:k.CONFIGURE_ITEM_OPTIONS})}.bind(this);this.$FBPaymentsCartFlowContainerBase7=function(){this.setState({configuringCartItem:null,configuringCartItemKey:null,step:k.CONFIGURE_ITEM_OPTIONS})}.bind(this);this.$FBPaymentsCartFlowContainerBase8=function(n){__p&&__p();var o=this.state.configuringCartItemKey,p=this.state.itemsInCart;if(o===null||o===undefined){var q,r=((q=this.state)!=null?(q=q.config)!=null?(q=q.extraData)!=null?q.short_flow:q:q:q)==="1",s=n.id?p.findIndex(function(u){return u.id===n.id}):-1;if(r&&s>=0){var t=p.get(s);t.quantity+=n.quantity}else{o=this.$FBPaymentsCartFlowContainerBase4();p=p.set(o,n)}}else p=p.set(o,n);this.setState({configuringCartItem:null,configuringCartItemKey:null,itemsInCart:p,step:k.CART_SUMMARY})}.bind(this);this.$FBPaymentsCartFlowContainerBase9=function(n){var o=this.state.itemsInCart.get(n);this.setState({configuringCartItem:o,configuringCartItemKey:n,step:k.CONFIGURE_ITEM_OPTIONS})}.bind(this);this.$FBPaymentsCartFlowContainerBase10=function(n){var o=this.state.itemsInCart["delete"](n);this.setState({itemsInCart:o})}.bind(this);this.$FBPaymentsCartFlowContainerBase11=function(){this.props.onContinue&&this.props.onContinue(this.state.itemsInCart)}.bind(this);this.state={config:null,configuringCartItem:null,configuringCartItemKey:null,errorMessage:null,itemsInCart:c("immutable").List(),step:k.CART_SUMMARY}}l.prototype.componentWillMount=function(){this.props.configLoader().done(this.$FBPaymentsCartFlowContainerBase1,this.$FBPaymentsCartFlowContainerBase2)};l.prototype.$FBPaymentsCartFlowContainerBase3=function(){return this.state.config&&this.state.config.itemCurrency||"USD"};l.prototype.$FBPaymentsCartFlowContainerBase4=function(){return this.state.itemsInCart.size};l.prototype.__isCartFull=function(){var m=this.state.config&&this.state.config.maxCartItems;if(m===null||m===undefined||m<0)return false;return this.state.itemsInCart.size>=m};l.prototype.__isCartEmpty=function(){return this.state.itemsInCart.size===0};l.prototype.$FBPaymentsCartFlowContainerBase12=function(){var m=this.state.itemsInCart,n={currency:this.$FBPaymentsCartFlowContainerBase3(),amount:"0"};m.forEach(function(o){n=c("FBPaymentsPriceListHelper").addPrices(n,o.getPrice())});return n};l.prototype.render=function(){__p&&__p();var m=void 0,n=void 0,o=this.state.config,p=0;if(o)if(this.state.step===k.CART_SUMMARY){var q,r=this.__getProductSearchContainer(),s=((q=o)!=null?(q=q.extraData)!=null?q.short_flow:q:q)==="1",t=s?this.$FBPaymentsCartFlowContainerBase8:this.$FBPaymentsCartFlowContainerBase6,u=s&&this.__isCartEmpty();if(s)p=400;var v=this.__isCartFull()?undefined:c("React").createElement(r,{canCreateCustomItem:!!o.customItemsConfig,multiSelect:s,onCartItemSelected:t,onCreateCustomItem:this.$FBPaymentsCartFlowContainerBase7,sellerID:this.props.sellerID,showListOnLaunch:u}),w=this.__getCartSummaryScreen();n=c("React").createElement(w,{cartItems:this.state.itemsInCart,continueButtonLabel:this.props.continueButtonLabel,isContinueButtonDisabled:this.state.itemsInCart.size===0,onContinueButtonClicked:this.$FBPaymentsCartFlowContainerBase11,onEditCartItem:this.$FBPaymentsCartFlowContainerBase9,onRemoveCartItem:this.$FBPaymentsCartFlowContainerBase10,productSearchContainer:v,subtotal:this.$FBPaymentsCartFlowContainerBase12(),title:o.title})}else if(this.state.step===k.CONFIGURE_ITEM_OPTIONS){var x,y,z,A=this.__getCartProductConfigurationContainer(),B=!this.state.configuringCartItem,C=((x=o)!=null?(x=x.catalogItemsConfig)!=null?x.customizePrice:x:x)&&!B,D=(y=o)!=null?(y=y.customItemsConfig)!=null?y.itemFields:y:y,E=(z=o)!=null?(z=z.customItemsConfig)!=null?z.quantityLimit:z:z;m=c("React").createElement(A,{cartItem:this.state.configuringCartItem,cartItemKey:this.state.configuringCartItemKey,customItemFields:D,customItemMaxQuantity:E,isCustomItem:B,isPriceEditable:C,onAddItemToCart:this.$FBPaymentsCartFlowContainerBase8})}var F={cartSummaryScreen:n,errorMessage:this.state.errorMessage,isLoading:!o,onDialogClose:this.$FBPaymentsCartFlowContainerBase5,productConfigurationContainer:m,shown:this.props.shown},G=this.__getCartFlowView();if(p>0)return c("React").createElement(G,babelHelpers["extends"]({},F,{dialogWidth:p}));else return c("React").createElement(G,F)};l.prototype.__getCartFlowView=function(){return c("abstractMethod")("FBPaymentsCartFlowContainerBase","__getCartFlowView")};l.prototype.__getCartSummaryScreen=function(){return c("abstractMethod")("FBPaymentsCartFlowContainerBase","__getCartSummaryScreen")};l.prototype.__getCartProductConfigurationContainer=function(){return c("abstractMethod")("FBPaymentsCartFlowContainerBase","__getCartProductConfigurationContainer")};l.prototype.__getProductSearchContainer=function(){return c("abstractMethod")("FBPaymentsCartFlowContainerBase","__getProductSearchContainer")};l.propTypes={configLoader:j.func.isRequired,continueButtonLabel:j.node,onClose:j.func.isRequired,onContinue:j.func,sellerID:j.string.isRequired,shown:j.bool.isRequired};l.defaultProps={onClose:c("emptyFunction"),shown:true};f.exports=l}),null);
__d("FBPaymentsCartFlowViewBase.react",["React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=325;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.__shouldShowError=function(){return!!this.props.errorMessage};l.prototype.__shouldShowLoading=function(){return!!this.props.isLoading};l.prototype.__shouldShowProductConfiguration=function(){return!!this.props.productConfigurationContainer};l.prototype.__renderBodyContent=function(){if(this.__shouldShowError())return this.__renderError();else if(this.__shouldShowLoading())return this.__renderLoading();else if(this.__shouldShowProductConfiguration())return this.props.productConfigurationContainer;else return this.props.cartSummaryScreen};l.prototype.__renderLoading=function(){return c("abstractMethod")("FBPaymentsCartFlowViewBase","__renderLoading")};l.prototype.__renderError=function(){return c("abstractMethod")("FBPaymentsCartFlowViewBase","__renderError")};function l(){h.apply(this,arguments)}l.propTypes={cartSummaryScreen:j.element,dialogWidth:j.number.isRequired,errorMessage:j.node,isLoading:j.bool,onDialogClose:j.func.isRequired,productConfigurationContainer:j.element,shown:j.bool.isRequired};l.defaultProps={dialogWidth:k};f.exports=l}),null);
__d("FBPaymentsCartFlowView.react",["cx","FBPaymentsCartFlowViewBase.react","FBPaymentsLoadingView.react","LayerHideOnBlur","LayerHideOnEscape","React","XUIDialog.react","XUINotice.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCartFlowViewBase.react"));j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$FBPaymentsCartFlowView1=function(q){if(!q)this.props.onDialogClose()}.bind(this),m}k.prototype.__renderLoading=function(){return c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,isVisible:true})};k.prototype.__renderError=function(){return c("React").createElement(c("XUINotice.react"),{size:"medium",use:"warn"},this.props.errorMessage)};k.prototype.render=function(){var l="_xfh"+(this.__shouldShowError()?" _2ph_":"")+(!this.props.shown?" hidden_elem":""),m={LayerHideOnEscape:c("LayerHideOnEscape")},n=this.__shouldShowError();if(n)m=babelHelpers["extends"]({},m,{LayerHideOnBlur:c("LayerHideOnBlur")});return c("React").createElement(c("XUIDialog.react"),{behaviors:m,layerHideOnBlur:false,onToggle:this.$FBPaymentsCartFlowView1,shown:true,width:this.props.dialogWidth},c("React").createElement("div",{className:l},this.__renderBodyContent()))};f.exports=k}),null);
__d("FBPaymentsCartProductConfigurationContainerBase.react",["invariant","FBPaymentsCartItem","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.$FBPaymentsCartProductConfigurationContainerBase2=function(){__p&&__p();var o=babelHelpers["extends"]({},this.props.cartItem,{quantity:this.state.quantity});if(this.props.isCustomItem){o.quantityLimit=this.props.customItemMaxQuantity;var p=this.state.customItemFormData;for(var q=Object.entries(p),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t,v=u[0],w=u[1],x=this.props.customItemFields.get(v);if(x.type==="currency")o.unitPrice={currency:x.currency,amount:w};else o[v]=w}}else if(this.state.priceAmount)o.unitPrice={currency:this.props.cartItem.unitPrice.currency,amount:this.state.priceAmount};var y=new(c("FBPaymentsCartItem"))(o);this.props.onAddItemToCart(y)}.bind(this);this.$FBPaymentsCartProductConfigurationContainerBase3=function(o,p){if(!this.props.isCustomItem)return;this.setState({customItemFormData:o,isAddButtonEnabled:p})}.bind(this);this.$FBPaymentsCartProductConfigurationContainerBase4=function(o,p){if(!this.props.isPriceEditable)return;this.setState({priceAmount:o.price,isAddButtonEnabled:p})}.bind(this);this.$FBPaymentsCartProductConfigurationContainerBase5=function(o){this.setState({quantity:o})}.bind(this);this.assertValidProps(m);var n=m.cartItem?m.cartItem.quantity:1;this.state={customItemFormData:{},isAddButtonEnabled:true,priceAmount:"",quantity:n}}l.prototype.assertValidProps=function(m){!(m.isCustomItem&&m.isPriceEditable)||h(0);if(m.isCustomItem)!!m.customItemFields||h(0);else!!m.cartItem||h(0)};l.prototype.$FBPaymentsCartProductConfigurationContainerBase1=function(){var m=this.props.cartItem,n=void 0;if(this.props.isCustomItem)n=this.props.customItemMaxQuantity;else if(m)n=m.quantityLimit;return n};l.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsCartProductConfigurationContainerBase","__getView")};l.prototype.render=function(){var m=this.__getView();return c("React").createElement(m,babelHelpers["extends"]({},this.state,{cartItem:this.props.cartItem,customItemFields:this.props.customItemFields,isCustomItem:this.props.isCustomItem,isEditExistingItem:this.props.cartItemKey!==null,isPriceEditable:this.props.isPriceEditable,maxQuantity:this.$FBPaymentsCartProductConfigurationContainerBase1(),onAddItemToCart:this.$FBPaymentsCartProductConfigurationContainerBase2,onCustomItemFormChange:this.$FBPaymentsCartProductConfigurationContainerBase3,onPriceChange:this.$FBPaymentsCartProductConfigurationContainerBase4,onQuantityChange:this.$FBPaymentsCartProductConfigurationContainerBase5}))};l.propTypes={cartItemKey:k.number,cartItem:k.object,customItemFields:k.object,customItemMaxQuantity:k.number,isCustomItem:k.bool.isRequired,isPriceEditable:k.bool.isRequired,onAddItemToCart:k.func.isRequired};f.exports=l}),null);
__d("FBPaymentsCartBodyBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCartBody.react",["cx","FBPaymentsCartBodyBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCartBodyBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_222z"},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCartFooterBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCartFooter.react",["cx","FBPaymentsCartFooterBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCartFooterBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_222q"},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCartHeaderBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){h.apply(this,arguments)}k.propTypes={title:j.node.isRequired};f.exports=k}),null);
__d("FBPaymentsCartHeader.react",["cx","FBPaymentsCartHeaderBase.react","React","XUIDialogTitle.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCartHeaderBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_1iw9"},c("React").createElement(c("XUIDialogTitle.react"),{className:"_222x"},c("React").createElement(c("XUIGrayText.react"),{className:"_222y",shade:"dark",size:"meta1"},this.props.title)),this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCartProductConfigurationViewBase.react",["fbt","PECurrency","PECurrency.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("PECurrency").DEFAULT_AMOUNT_OFFSET,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.getFormattedItemPrice=function(n){return c("React").createElement(c("PECurrency.react"),{code:n.currency,value:k*Number(n.amount)})};m.prototype.getHeaderTitle=function(){if(this.props.isCustomItem)return h._("Add New Product");return h._("Edit Product")};m.prototype.getAddButtonLabel=function(){if(this.props.isEditExistingItem)return h._("Update");else return h._("Add")};m.prototype.getQuantityLabel=function(){return h._("Quantity")};m.prototype.shouldRenderPriceField=function(){return!this.props.isCustomItem&&this.props.isPriceEditable};m.prototype.shouldRenderCustomItemForm=function(){return this.props.isCustomItem&&!!this.props.customItemFields};function m(){i.apply(this,arguments)}m.propTypes={cartItem:l.object,customItemFields:l.object,isAddButtonEnabled:l.bool.isRequired,isCustomItem:l.bool,isEditExistingItem:l.bool,isPriceEditable:l.bool.isRequired,maxQuantity:l.number,onAddItemToCart:l.func.isRequired,onCustomItemFormChange:l.func.isRequired,onPriceChange:l.func,onQuantityChange:l.func.isRequired,quantity:l.number.isRequired};m.defaultProps={isAddButtonEnabled:true,isEditExistingItem:false,isPriceEditable:false};f.exports=m}),null);
__d("FBPaymentsCartProductConfigurationView.react",["cx","fbt","AdsIncrementalNumberInput.react","FBPaymentsCartBody.react","FBPaymentsCartFooter.react","FBPaymentsCartHeader.react","FBPaymentsCartProductConfigurationViewBase.react","FBPaymentsCustomForm.react","FBPaymentsForm.react","FBPaymentsItemSummaryView.react","FBPaymentsPriceFormField.react","React","XUIButton.react","XUIGrayText.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=1,m=48;j=babelHelpers.inherits(n,c("FBPaymentsCartProductConfigurationViewBase.react"));k=j&&j.prototype;n.prototype.renderProductHeader=function(){var o=this.props.cartItem;if(this.props.isCustomItem||!o)return null;var p=void 0;if(!this.props.isPriceEditable)p=c("React").createElement("div",{className:"_1i26 _3-9b"},c("React").createElement(c("XUIGrayText.react"),{shade:"dark",size:"meta1"},this.getFormattedItemPrice(o.unitPrice)));var q=c("React").createElement(c("XUIGrayText.react"),{className:"_222y",display:"block",shade:"dark",size:"meta1"},o.title),r=c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1"},o.subtitle);return c("React").createElement("div",{className:"_36ny"},c("React").createElement(c("FBPaymentsItemSummaryView.react"),{imageSrc:o.imageURL||"",imageHeight:m,imageWidth:m,rightContent:p},q,r))};n.prototype.renderCustomItemForm=function(){if(!this.shouldRenderCustomItemForm()||!this.props.customItemFields)return null;var o=i._("Please enter a title for the item.");return c("React").createElement(c("FBPaymentsCustomForm.react"),{fields:Array.from(this.props.customItemFields.values()),onChange:this.props.onCustomItemFormChange,customNonEmptyErrorMessage:o})};n.prototype.renderPriceField=function(){var o;if(!this.shouldRenderPriceField())return null;var p=(o=this.props.cartItem)!=null?(o=o.unitPrice)!=null?o.amount:o:o;return c("React").createElement(c("FBPaymentsForm.react"),{onChange:this.props.onPriceChange},c("React").createElement(c("FBPaymentsPriceFormField.react"),{className:"_3-96",name:"price",value:p}))};n.prototype.renderQuantitySelector=function(){var o=c("React").createElement(c("XUIGrayText.react"),{className:"_3-94 _4px8",display:"block",shade:"dark",size:"meta1"},this.getQuantityLabel());return c("React").createElement("div",null,o,c("React").createElement(c("AdsIncrementalNumberInput.react"),{arrowStyle:"dark",max:this.props.maxQuantity||undefined,min:l,onChange:this.props.onQuantityChange,showDisabled:true,value:this.props.quantity}))};n.prototype.renderProductConfigurations=function(){return c("React").createElement("div",null,this.renderPriceField(),this.renderCustomItemForm(),this.renderQuantitySelector())};n.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsCartHeader.react"),{title:this.getHeaderTitle()}),c("React").createElement(c("FBPaymentsCartBody.react"),null,this.renderProductHeader(),c("React").createElement("div",{className:"_2ph_"},this.renderProductConfigurations())),c("React").createElement(c("FBPaymentsCartFooter.react"),null,c("React").createElement(c("XUIButton.react"),{className:"_222r",disabled:!this.props.isAddButtonEnabled,label:this.getAddButtonLabel(),size:"large",onClick:this.props.onAddItemToCart,use:"confirm"})))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("FBPaymentsCartProductConfigurationContainer.react",["FBPaymentsCartProductConfigurationContainerBase.react","FBPaymentsCartProductConfigurationView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCartProductConfigurationContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsCartProductConfigurationView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCartProductSearchContainerBase.react",["React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsCartProductSearchContainerBase","__getView")};k.prototype.render=function(){var l=this.__getView();return c("React").createElement(l,this.props)};function k(){h.apply(this,arguments)}k.propTypes={canCreateCustomItem:j.bool.isRequired,multiSelect:j.bool,onCartItemSelected:j.func.isRequired,onCreateCustomItem:j.func,sellerID:j.string.isRequired,showListOnLaunch:j.bool};f.exports=k}),null);
__d("CommerceAddProductScrollRow.react",["cx","fbt","XUIText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement("div",{className:"_2jjq",onClick:this.props.onClick,role:"presentation"},c("React").createElement("table",null,c("React").createElement("tbody",null,c("React").createElement("tr",null,c("React").createElement("td",null,c("React").createElement("div",{className:"_buh"})),c("React").createElement("td",null,c("React").createElement(c("XUIText.react"),{size:"meta1",className:"_buj"},i._("Add Product")))))))};function m(){j.apply(this,arguments)}m.propTypes={onClick:l.func.isRequired};f.exports=m}),null);
__d("CommerceProductItemSearch",["ActorURI","AsyncRequest","XPagesManagerProductSearchController","Set","bind","debounce"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=300,i=30;function j(k,l,m,n){this.searchOrMore=c("debounce")(this.$CommerceProductItemSearch8,m||h,this);this.$CommerceProductItemSearch2=l||[];this.$CommerceProductItemSearch3=new(c("Set"))();this.$CommerceProductItemSearch5=[];this.$CommerceProductItemSearch7=n||i;this.$CommerceProductItemSearch1=c("ActorURI").create(c("XPagesManagerProductSearchController").getURIBuilder().getURI(),k)}j.prototype.$CommerceProductItemSearch8=function(k,l){__p&&__p();if(this.$CommerceProductItemSearch6)this.$CommerceProductItemSearch6.abort();var m=k!==this.$CommerceProductItemSearch4;if(m){this.$CommerceProductItemSearch3.clear();this.$CommerceProductItemSearch5=[];this.$CommerceProductItemSearch4=k}var n=this.$CommerceProductItemSearch2.concat(Array.from(this.$CommerceProductItemSearch3));this.$CommerceProductItemSearch6=new(c("AsyncRequest"))().setData({query:k.trim(),offset:0,limit:this.$CommerceProductItemSearch7,filter_product_group_ids:n}).setHandler(c("bind")(this,this.$CommerceProductItemSearch9,l,m)).setURI(this.$CommerceProductItemSearch1);this.$CommerceProductItemSearch6.send()};j.prototype.$CommerceProductItemSearch9=function(k,l,m){var n=m.payload.products;n.map(function(o){this.$CommerceProductItemSearch3.add(o.product_group_id)}.bind(this));this.$CommerceProductItemSearch5=this.$CommerceProductItemSearch5.concat(n);this.$CommerceProductItemSearch6=null;k(this.$CommerceProductItemSearch5,n.length!==0||l)};f.exports=j}),null);
__d("CommerceProductItemSearchSelector.react",["ix","cx","fbt","invariant","Image.react","InfiniteScrollArea.react","CommerceAddProductScrollRow.react","CommerceProductItemSearch","LayerFadeOnHide","Link.react","ProfileImageBlockEntry.react","React","ReactDOM","XUIContextualDialog.react","XUISpinner.react","XUITextInput.react","curry","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(p,q){__p&&__p();m.constructor.call(this,p,q);this.$CommerceProductItemSearchSelector11=function(r,s){var t=r.description===""?r.price:r.price+" - "+r.description;return c("React").createElement("div",{className:"_2jjq",key:r.id,onClick:c("curry")(this.$CommerceProductItemSearchSelector12,[r]),role:"presentation"},c("React").createElement(c("ProfileImageBlockEntry.react"),{imgSrc:r.image_url,title:r.name,subtitle:t}))}.bind(this);this.$CommerceProductItemSearchSelector12=function(r){if(!this.props.multiSelect)this.$CommerceProductItemSearchSelector7();this.props.onProductSelected(r)}.bind(this);this.$CommerceProductItemSearchSelector9=function(event){this.setState({query:event.target.value});this.$CommerceProductItemSearchSelector2(event.target.value)}.bind(this);this.$CommerceProductItemSearchSelector10=function(){if(this.state.hasNewData&&!this.state.loading)this.$CommerceProductItemSearchSelector2(this.state.query)}.bind(this);this.$CommerceProductItemSearchSelector13=function(r,s){if(this.isUnmounted)return;var t={loading:false,hasNewData:s};if(s)t.products=r;this.setState(t)}.bind(this);this.$CommerceProductItemSearchSelector7=function(){this.setState({isProductListVisible:false})}.bind(this);this.$CommerceProductItemSearchSelector8=function(){if(this.props.showAsDropdownMenu&&this.state.productListDialogWidth===0)this.$CommerceProductItemSearchSelector3();this.setState({isProductListVisible:true})}.bind(this);this.$CommerceProductItemSearchSelector1=new(c("CommerceProductItemSearch"))(p.pageID);this.state={hasNewData:true,isProductListVisible:p.showListOnLaunch,loading:false,products:[],productListDialogWidth:0,query:""}}o.prototype.componentDidMount=function(){this.$CommerceProductItemSearchSelector2(this.state.query)};o.prototype.componentDidUpdate=function(){if(this.state.productListDialogWidth===0)this.$CommerceProductItemSearchSelector3()};o.prototype.componentWillUnmount=function(){this.isUnmounted=true};o.prototype.$CommerceProductItemSearchSelector3=function(){var p=c("ReactDOM").findDOMNode(this.refs.searchBox).offsetWidth;if(this.props.multiSelect)p*=.75;this.setState({productListDialogWidth:p})};o.prototype.render=function(){return c("React").createElement("div",{className:this.props.className},this.$CommerceProductItemSearchSelector4(),this.$CommerceProductItemSearchSelector5())};o.prototype.$CommerceProductItemSearchSelector6=function(){if(this.state.loading)return c("React").createElement(c("XUISpinner.react"),{size:"small"});if(!this.props.showAsDropdownMenu)return c("React").createElement(c("Image.react"),{src:h("142454")});var p=this.state.isProductListVisible?h("142938"):h("142926"),q=c("React").createElement(c("Image.react"),{src:p}),r=this.state.isProductListVisible?this.$CommerceProductItemSearchSelector7:this.$CommerceProductItemSearchSelector8;return c("React").createElement(c("Link.react"),{onClick:r},q)};o.prototype.$CommerceProductItemSearchSelector4=function(){return c("React").createElement("div",{className:"_22f5",ref:"searchBox"},c("React").createElement(c("XUITextInput.react"),{className:"_22f6",onChange:this.$CommerceProductItemSearchSelector9,onFocus:this.$CommerceProductItemSearchSelector8,placeholder:j._("Search to add products"),ref:"input",role:"combobox",value:this.state.query}),c("React").createElement("div",{className:"_22f7"},this.$CommerceProductItemSearchSelector6()))};o.prototype.$CommerceProductItemSearchSelector5=function(){__p&&__p();var p=null;if(this.props.canCreateProduct){this.props.onAddProductClick||k(0);p=c("React").createElement(c("CommerceAddProductScrollRow.react"),{onClick:this.props.onAddProductClick})}var q=c("React").createElement(c("InfiniteScrollArea.react"),{distanceToEnd:1,onEndReached:this.$CommerceProductItemSearchSelector10,height:this.props.productScrollAreaHeight},p,this.state.products.map(this.$CommerceProductItemSearchSelector11,this));if(!this.props.showAsDropdownMenu)return c("React").createElement("div",{className:"_2jjp"},q);return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",autoFocus:false,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.searchBox}.bind(this),hideOnBlur:true,hideOnEscape:true,offsetY:-5,position:"below",shown:this.state.isProductListVisible,width:this.state.productListDialogWidth},q)};o.prototype.$CommerceProductItemSearchSelector2=function(p){this.$CommerceProductItemSearchSelector1.searchOrMore(p,this.$CommerceProductItemSearchSelector13);this.setState({loading:true})};o.defaultProps={canCreateProduct:false,multiSelect:false,productScrollAreaHeight:300,showAsDropdownMenu:false,showListOnLaunch:false};o.propTypes={canCreateProduct:n.bool,multiSelect:n.bool,onAddProductClick:n.func,onProductSelected:n.func.isRequired,pageID:n.string.isRequired,productScrollAreaHeight:n.number,showAsDropdownMenu:n.bool,showListOnLaunch:n.bool};f.exports=o}),null);
__d("FBPaymentsCartProductSearchViewBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){h.apply(this,arguments)}k.propTypes={canCreateCustomItem:j.bool.isRequired,multiSelect:j.bool,onCartItemSelected:j.func.isRequired,onCreateCustomItem:j.func,sellerID:j.string.isRequired,showListOnLaunch:j.bool};f.exports=k}),null);
__d("FBPaymentsCartProductSearchView.react",["CommerceProductItemSearchSelector.react","FBPaymentsCartItem","FBPaymentsCartProductSearchViewBase.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCartProductSearchViewBase.react"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$FBPaymentsCartProductSearchView1=function(p){var q=p[0],r=q.current_price,s=q.description,t=q.id,u=q.image_url,v=q.inventory,w=q.name,x=new(c("FBPaymentsCartItem"))({id:t,imageURL:u,isSelectable:true,quantity:1,quantityLimit:v,subtitle:s,title:w,unitPrice:{amount:r.raw_label,currency:r.currency}});this.props.onCartItemSelected(x)}.bind(this),l}j.prototype.render=function(){return c("React").createElement(c("CommerceProductItemSearchSelector.react"),{canCreateProduct:this.props.canCreateCustomItem,onAddProductClick:this.props.onCreateCustomItem,onProductSelected:this.$FBPaymentsCartProductSearchView1,pageID:this.props.sellerID,productScrollAreaHeight:250,showAsDropdownMenu:true,showListOnLaunch:this.props.showListOnLaunch,multiSelect:this.props.multiSelect})};f.exports=j}),null);
__d("FBPaymentsCartProductSearchContainer.react",["FBPaymentsCartProductSearchContainerBase.react","FBPaymentsCartProductSearchView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCartProductSearchContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsCartProductSearchView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCartItemSummaryBase.react",["fbt","PECurrency","PECurrency.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("PECurrency").DEFAULT_AMOUNT_OFFSET,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.PRODUCT_IMAGE_SIZE=48,this.handleEditClick=function(){this.props.onEdit(this.props.cartItemKey)}.bind(this),this.handleRemoveClick=function(){this.props.onRemove(this.props.cartItemKey)}.bind(this),o}m.prototype.getFormattedPrice=function(n){return c("React").createElement(c("PECurrency.react"),{code:n.currency,value:k*Number(n.amount)})};m.prototype.getQuantityDescription=function(){var n=this.props.cartItem;if(n.quantity>1)return h._("Quantity: {quantity} ({unit_price} ea)",[h.param("quantity",n.quantity),h.param("unit_price",this.getFormattedPrice(n.unitPrice))]);return h._("Quantity: {quantity}",[h.param("quantity",n.quantity)])};m.prototype.getEditLabel=function(){return h._("Edit")};m.prototype.getRemoveLabel=function(){return h._("Remove")};m.propTypes={cartItem:l.object.isRequired,cartItemKey:l.number.isRequired,onEdit:l.func.isRequired,onRemove:l.func.isRequired};f.exports=m}),null);
__d("FBPaymentsCartItemSummary.react",["cx","FBPaymentsCartItemSummaryBase.react","FBPaymentsItemSummaryView.react","Link.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCartItemSummaryBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props.cartItem,m=c("React").createElement(c("XUIGrayText.react"),{className:"_486y",display:"block",shade:"dark",size:"meta1"},l.title),n=c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1"},this.getQuantityDescription()),o=c("React").createElement(c("XUIGrayText.react"),{className:"_3-9a",shade:"light",size:"meta1"},this.getFormattedPrice(l.getPrice())),p=c("React").createElement("div",{className:"_3-8w"},c("React").createElement(c("Link.react"),{className:"_3-90",onClick:this.handleEditClick},this.getEditLabel()),c("React").createElement(c("Link.react"),{onClick:this.handleRemoveClick},this.getRemoveLabel()));return c("React").createElement(c("FBPaymentsItemSummaryView.react"),{className:"_36ny",imageSrc:l.imageURL||"",imageHeight:this.PRODUCT_IMAGE_SIZE,imageWidth:this.PRODUCT_IMAGE_SIZE,rightContent:o},m,n,p)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCartSummaryScreenBase.react",["fbt","PECurrency","PECurrency.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("PECurrency").DEFAULT_AMOUNT_OFFSET,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.shouldShowSearchBar=function(){return!!this.props.productSearchContainer};m.prototype.getFormattedPrice=function(n){return c("React").createElement(c("PECurrency.react"),{code:n.currency,value:k*Number(n.amount)})};m.prototype.getSubtotalLabel=function(){return h._("Subtotal")};m.prototype.getScreenTitle=function(){return this.props.title};m.prototype.getDisabledButtonText=function(){return h._("No Products Selected")};m.prototype.getContinueButtonText=function(){return this.props.continueButtonLabel||h._("Continue")};m.prototype.getButtonText=function(){return this.props.isContinueButtonDisabled?this.getDisabledButtonText():this.getContinueButtonText()};function m(){i.apply(this,arguments)}m.propTypes={cartItems:l.oneOfType([l.arrayOf(l.shape({id:l.string.isRequired})),l.object.isRequired]),continueButtonLabel:l.node,isContinueButtonDisabled:l.bool.isRequired,onContinueButtonClicked:l.func,onEditCartItem:l.func.isRequired,onRemoveCartItem:l.func.isRequired,productSearchContainer:l.element,subtotal:l.object.isRequired,title:l.node.isRequired};f.exports=m}),null);
__d("FBPaymentsCartSummaryScreen.react",["cx","FBPaymentsCartBody.react","FBPaymentsCartFooter.react","FBPaymentsCartHeader.react","FBPaymentsCartItemSummary.react","FBPaymentsCartSummaryScreenBase.react","LeftRight.react","React","ScrollableArea.react","XUIButton.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=304;i=babelHelpers.inherits(l,c("FBPaymentsCartSummaryScreenBase.react"));j=i&&i.prototype;l.prototype.$FBPaymentsCartSummaryScreen1=function(){if(!this.shouldShowSearchBar())return null;return c("React").createElement("div",{className:"_222p"},this.props.productSearchContainer)};l.prototype.$FBPaymentsCartSummaryScreen2=function(){var m=this.props.cartItems.map(function(n,o){return c("React").createElement(c("FBPaymentsCartItemSummary.react"),{cartItem:n,cartItemKey:o,key:o,onEdit:this.props.onEditCartItem,onRemove:this.props.onRemoveCartItem})}.bind(this));return c("React").createElement(c("ScrollableArea.react"),{fade:true,height:k,shadow:false},m)};l.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsCartHeader.react"),{title:this.getScreenTitle()},this.$FBPaymentsCartSummaryScreen1()),c("React").createElement(c("FBPaymentsCartBody.react"),null,this.$FBPaymentsCartSummaryScreen2()),c("React").createElement(c("FBPaymentsCartFooter.react"),null,c("React").createElement(c("LeftRight.react"),{className:"_3-96"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark"},this.getSubtotalLabel()),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark"},this.getFormattedPrice(this.props.subtotal))),c("React").createElement(c("XUIButton.react"),{className:"_222r",disabled:this.props.isContinueButtonDisabled,label:this.getButtonText(),size:"large",onClick:this.props.onContinueButtonClicked,use:"confirm"})))};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsCartFlowContainer.react",["FBPaymentsCartFlowContainerBase.react","FBPaymentsCartFlowView.react","FBPaymentsCartProductConfigurationContainer.react","FBPaymentsCartProductSearchContainer.react","FBPaymentsCartSummaryScreen.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCartFlowContainerBase.react"));i=h&&h.prototype;j.prototype.__getCartFlowView=function(){return c("FBPaymentsCartFlowView.react")};j.prototype.__getCartSummaryScreen=function(){return c("FBPaymentsCartSummaryScreen.react")};j.prototype.__getCartProductConfigurationContainer=function(){return c("FBPaymentsCartProductConfigurationContainer.react")};j.prototype.__getProductSearchContainer=function(){return c("FBPaymentsCartProductSearchContainer.react")};j.prototype.render=function(){return i.render.call(this)};function j(){h.apply(this,arguments)}j.propTypes=babelHelpers["extends"]({},c("FBPaymentsCartFlowContainerBase.react").propTypes);f.exports=j}),null);
__d("PaymentItemTypeFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:"none",ADS_INVOICE:"ads_invoice",DONATIONS:"donations",DONATIONS_MATCHING_CONFIRMATION:"donations_matching_confirmation",DONATIONS_MATCHING_PLEDGE:"donations_matching_pledge",FACEBOOK_SHOP:"facebook_shop",OCULUS_CV1:"oculus_cv1",OCULUS_LAUNCH_V1:"oculus_launch_v1",OCULUS_LAUNCH_V2:"oculus_launch_v2",OZONE:"ozone",OPEN_GRAPH_PRODUCT:"open_graph_product",MESSENGER_COMMERCE:"messenger_commerce",P2P_TRANSFER:"p2p_transfer",DUMMY_FIRST_PARTY:"dummy_first_party",DUMMY_THIRD_PARTY:"dummy_third_party",GIFTS:"gifts",BILL:"bill",AIRMAIL:"airmail",EVENT_TICKETING:"event_ticketing",PAYMENT_LITE:"payment_lite",MESSENGER_API_FEE:"messenger_api_fee",WORKPLACE:"workplace",NMOR_PAGES_COMMERCE:"nmor_pages_commerce",STORED_BALANCE:"stored_balance"})}),null);
__d("FBPaymentsInvoiceFlowContainerBase.react",["fbt","invariant","Promise","FBPaymentsCartItem","FBPaymentsCheckoutConstants","FBPaymentsModulesFlowType","FBPaymentsPriceListHelper","Map","PaymentItemTypeFields","React","abstractMethod","idx","keyMirror"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=c("FBPaymentsCheckoutConstants").Extensions,n=c("FBPaymentsCheckoutConstants").OrderStatusModelType,o=c("FBPaymentsCheckoutConstants").PaymentAction,p=c("FBPaymentsCheckoutConstants").PaymentCallbackUpdateState,q=c("keyMirror")({CREATE_CART:null,CREATE_INVOICE:null});j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(s){__p&&__p();k.constructor.call(this,s);this.cartConfigLoader=function(){return new(c("Promise"))(function(t,u){this.__getAPI().fetchInvoiceConfig({buyer_id:this.props.buyerID,seller_id:this.props.sellerID,client:this.props.client},function(v){this.setState({invoiceConfig:v});t(v.invoiceCreationConfig)}.bind(this),u)}.bind(this))}.bind(this);this.$FBPaymentsInvoiceFlowContainerBase2=function(t){this.setState({buyerProfile:t})}.bind(this);this.$FBPaymentsInvoiceFlowContainerBase1=function(t){this.setState({invoiceConfig:t,invoiceItems:[],isLoading:false})}.bind(this);this.$FBPaymentsInvoiceFlowContainerBase3=function(t){this.setState({step:q.CREATE_INVOICE,invoiceItems:t.toArray()})}.bind(this);this.$FBPaymentsInvoiceFlowContainerBase4=function(){this.setState({step:q.CREATE_CART})}.bind(this);this.$FBPaymentsInvoiceFlowContainerBase5=function(){var t=false,u=new(c("Map"))();this.props.onClose&&this.props.onClose(t,u)}.bind(this);this.$FBPaymentsInvoiceFlowContainerBase6=function(t,u,v){__p&&__p();var w,x,y=[];if(!this.props.invoiceID){var z=this.state.invoiceItems||[];y=z.map(c("FBPaymentsCartItem").serializeForServer)}var A=((w=t.get(m.CUSTOM_OPTIONS))!=null?w.extraData:w)||{},B=A.optionId,C=A.customOption,D=void 0,E=[];if(C)E.push({title:C.optionTitle,currency_amount:C.optionPrice});else if(B)D=[B];var F=((x=t.get(m.NOTE))!=null?x.extraData:x)||{},G=F.note;this.__getAPI().createInvoice({actor_id:this.props.sellerID,client:this.props.client,seller_id:this.props.sellerID,buyer_id:this.props.buyerID,invoice_id:this.props.invoiceID,items:y,notes:G,selected_options:{shipping_options:D},custom_shipping_options:E},this.$FBPaymentsInvoiceFlowContainerBase7.bind(this,u),this.$FBPaymentsInvoiceFlowContainerBase8.bind(this,u))}.bind(this);this.state={buyerProfile:null,invoiceConfig:null,invoiceItems:null,step:this.props.invoiceID?q.CREATE_INVOICE:q.CREATE_CART,isLoading:true}}r.prototype.componentWillMount=function(){if(this.props.invoiceID)this.__getAPI().fetchInvoiceConfig({buyer_id:this.props.buyerID,seller_id:this.props.sellerID,product_id:this.props.invoiceID,client:this.props.client},this.$FBPaymentsInvoiceFlowContainerBase1);this.__getAPI().fetchUserBasicProfile({id:this.props.buyerID},this.$FBPaymentsInvoiceFlowContainerBase2)};r.prototype.$FBPaymentsInvoiceFlowContainerBase7=function(s,t){s({state:p.DONE});var u=true,v=new(c("Map"))();v.set("invoice",{invoiceID:t});this.props.onClose&&this.props.onClose(u,v)};r.prototype.$FBPaymentsInvoiceFlowContainerBase8=function(s,t){s({state:p.ERROR,errorMessage:t.message})};r.prototype.$FBPaymentsInvoiceFlowContainerBase9=function(){__p&&__p();var s=this.state.invoiceConfig;if(!s)return{};var t=s.invoiceContentConfiguration,u=t.priceList,v=t.purchaseInfo,w=void 0,x=void 0;if(this.props.invoiceID){var y=u.find(function(C){return Object.prototype.hasOwnProperty.call(C,"priceList")})||{};w=y.priceList||[];x=w.map(function(C){C.price||i(0);return c("FBPaymentsPriceListHelper").newBasePrice(C.label,C.price)})}else{w=this.state.invoiceItems||[];x=w.map(function(C){return c("FBPaymentsPriceListHelper").newBasePrice(this.$FBPaymentsInvoiceFlowContainerBase10(C),C.getPrice())}.bind(this))}var z=[{label:this.$FBPaymentsInvoiceFlowContainerBase11(),priceList:x}];if(!this.props.invoiceID)z=c("FBPaymentsPriceListHelper").merge(z,u);var A=this.state.buyerProfile||{},B={version:"1.0",paymentInfo:{payCallback:this.$FBPaymentsInvoiceFlowContainerBase6,paymentItemType:c("PaymentItemTypeFields").NMOR_PAGES_COMMERCE,action:o.CUSTOM_CALLBACK,receiverId:this.props.sellerID},orderStatusModel:{type:n.FIXED_AMOUNT},contentConfiguration:{entity:{participant:{title:A.name,imageURL:A.profilePictureUrl}},items:[],priceList:z,purchaseInfo:v,payActionContent:{actionTitle:this.$FBPaymentsInvoiceFlowContainerBase12(),backButton:!this.props.invoiceID,backButtonCallback:this.props.invoiceID?null:this.$FBPaymentsInvoiceFlowContainerBase4,customTermsAndPoliciesText:c("React").createElement("span",null)}}};return B};r.prototype.$FBPaymentsInvoiceFlowContainerBase13=function(){return h._("Payment Request")};r.prototype.$FBPaymentsInvoiceFlowContainerBase11=function(){return h._("Subtotal")};r.prototype.$FBPaymentsInvoiceFlowContainerBase14=function(){return h._("Continue to Payment Request")};r.prototype.$FBPaymentsInvoiceFlowContainerBase12=function(){return h._("Request Payment")};r.prototype.$FBPaymentsInvoiceFlowContainerBase10=function(s){if(s.quantity<=1)return s.title;else return h._({"*":"{Number of item} x {Item title}"},[h.param("Number of item",s.quantity,[0]),h.param("Item title",s.title)])};r.prototype.render=function(){if(this.props.invoiceID&&this.state.isLoading)return c("React").createElement("div",null);var s=this.__getCartContainer(),t=this.state.step===q.CREATE_CART,u=c("React").createElement(s,{configLoader:this.cartConfigLoader,continueButtonLabel:this.$FBPaymentsInvoiceFlowContainerBase14(),onClose:this.props.onClose,onContinue:this.$FBPaymentsInvoiceFlowContainerBase3,sellerID:this.props.sellerID,shown:t}),v=this.__getCheckoutContainer(),w=this.state.step===q.CREATE_INVOICE?c("React").createElement(v,{configuration:this.$FBPaymentsInvoiceFlowContainerBase9(),dialogTitle:this.$FBPaymentsInvoiceFlowContainerBase13(),onCheckoutClosed:this.$FBPaymentsInvoiceFlowContainerBase5,onConfirmationClosed:this.props.onClose,paymentModuleFlowType:c("FBPaymentsModulesFlowType").INVOICE,invoiceID:this.props.invoiceID}):null;return c("React").createElement("div",null,u,w)};r.prototype.__getCartContainer=function(){return c("abstractMethod")("FBPaymentsInvoiceFlowContainerBase","__getCartContainer")};r.prototype.__getCheckoutContainer=function(){return c("abstractMethod")("FBPaymentsInvoiceFlowContainerBase","__getCheckoutContainer")};r.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsInvoiceFlowContainerBase","__getAPI")};r.propTypes={buyerID:l.string.isRequired,client:l.string.isRequired,invoiceID:l.string,onClose:l.func,sellerID:l.string.isRequired};f.exports=r}),null);
__d("FBPaymentsInvoiceFlowContainer.react",["FBPaymentsCartFlowContainer.react","FBPaymentsCheckoutFlowContainer.react","FBPaymentsInvoiceFlowContainerBase.react","FBPaymentsModulesAPI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsInvoiceFlowContainerBase.react"));i=h&&h.prototype;j.prototype.__getCartContainer=function(){return c("FBPaymentsCartFlowContainer.react")};j.prototype.__getCheckoutContainer=function(){return c("FBPaymentsCheckoutFlowContainer.react")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.render=function(){return i.render.call(this)};function j(){h.apply(this,arguments)}j.propTypes=babelHelpers["extends"]({},c("FBPaymentsInvoiceFlowContainerBase.react").propTypes);f.exports=j}),null);
__d("CommerceInvoiceAdminButton.react",["cx","fbt","CommerceCurrencyUtil","CommerceInvoiceAdminActionContextualDialog.react","CommerceInvoiceAdminActions","CommerceInvoiceAdminDispatcher","CommerceInvoiceAdminStore","CommerceInvoiceButtonConfirmPaymentPUX.react","CommerceInvoiceButtonPUX.react","FBPaymentsInvoiceFlowContainer.react","FBPaymentsLinkHelper","FBPaymentsModulesAPI","FluxContainer","Image.react","LayerFadeOnHide","Link.react","MessengerAdsTypedLogger","MessengerAdsLoggerEvent","MessengerConversionEvent","PagesCommercePaymentInvoiceReferrer","PaymentModulesClient","React","SimpleNUXMessage","SimpleNUXMessageTypes","TooltipData","XUIAmbientNUX.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$CommerceInvoiceAdminButton2=function(){return this.refs.invoiceButton}.bind(this);this.$CommerceInvoiceAdminButton3=function(){if(this.props.shouldShowConfirmPayment){this.setState({showRequestPaymentDialog:false,puxShown:false,showMarkAsPaidNUX:false});c("CommerceInvoiceAdminActions").toggleActionsDialog(true)}else{this.setState({showRequestPaymentDialog:true,puxShown:false,showMarkAsPaidNUX:false});c("CommerceInvoiceAdminActions").toggleActionsDialog(false);this.refs.invoiceDialog&&this.refs.invoiceDialog.showDialog()}}.bind(this);this.$CommerceInvoiceAdminButton4=function(){this.setState({showRequestPaymentDialog:false})}.bind(this);this.$CommerceInvoiceAdminButton7=function(){if(this.state.isInvoiceSetupComplete){this.setState({showRequestPaymentDialog:true});c("CommerceInvoiceAdminActions").toggleActionsDialog(false);this.refs.invoiceDialog&&this.refs.invoiceDialog.showDialog()}else{var n=c("FBPaymentsLinkHelper").getPagePaymentSettingsURI(this.props.pageID,"AdminButton");window.open(n)}}.bind(this);this.$CommerceInvoiceAdminButton8=function(n,o,p){c("CommerceInvoiceAdminActions").toggleActionsDialog(false);var q={currency:p||"USD",amount:n.toString()},r={id:null,title:"Amount",subtitle:null,currency_amount:q,quantity:"1"},s={client_mutation_id:"www",actor_id:this.props.pageID,client:c("PaymentModulesClient").PAGES_COMMERCE,seller_id:this.props.pageID,buyer_id:this.props.recipientID,is_buyer_initialized:false,items:[r],notes:o,invoice_type:"payment_confirmation",xmat_mid:this.state.messageID,referrer:this.state.referrer};c("FBPaymentsModulesAPI").createInvoice(s);c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").PAGES_MARK_AS_PAID_BUTTON)}.bind(this);this.$CommerceInvoiceAdminButton11=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").PAGES_MARK_AS_PAID_BUTTON);this.setState({showMarkAsPaidNUX:false})}.bind(this);this.state={showRequestPaymentDialog:false,showAdminActionContextualDialog:false,isInvoiceSetupComplete:false,puxShown:m.shouldShowPUX,dialogView:"default",referrer:c("PagesCommercePaymentInvoiceReferrer").ACTION_SHEET,messageID:null,showMarkAsPaidNUX:false}}l.getStores=function(){return[c("CommerceInvoiceAdminStore")]};l.calculateState=function(m,n){var o=c("CommerceInvoiceAdminStore").getConfig()||{},p=o.paymentMethods,q=p&&p.length>0;return babelHelpers["extends"]({},m,{isInvoiceSetupComplete:q,showAdminActionContextualDialog:c("CommerceInvoiceAdminStore").getShowAdminActionContextualDialog(),dialogView:c("CommerceInvoiceAdminStore").getActionDialogView(),messageID:c("CommerceInvoiceAdminStore").getMessageID(),referrer:c("CommerceInvoiceAdminStore").getReferrer()})};l.prototype.componentWillMount=function(){c("CommerceInvoiceAdminDispatcher").explicitlyRegisterStores([c("CommerceInvoiceAdminStore")]);c("CommerceInvoiceAdminActions").fetchConfig(this.props.pageID)};l.prototype.componentDidMount=function(){if(this.$CommerceInvoiceAdminButton1())this.setState({showMarkAsPaidNUX:true})};l.prototype.componentWillUnmount=function(){c("CommerceInvoiceAdminActions").toggleActionsDialog(false)};l.prototype.$CommerceInvoiceAdminButton5=function(){if(this.state.showMarkAsPaidNUX)return this.$CommerceInvoiceAdminButton6();if(this.props.shouldShowPUX)return c("React").createElement(c("CommerceInvoiceButtonPUX.react"),{contextRef:this.$CommerceInvoiceAdminButton2,pageID:this.props.pageID,recipientID:this.props.recipientID,shown:this.state.puxShown});if(this.props.shouldShowConfirmPayment)return c("React").createElement(c("CommerceInvoiceButtonConfirmPaymentPUX.react"),{contextRef:this.$CommerceInvoiceAdminButton2,pageID:this.props.pageID,shown:this.state.puxShown});return null};l.prototype.$CommerceInvoiceAdminButton9=function(){c("CommerceInvoiceAdminActions").toggleActionsDialog(false)};l.prototype.$CommerceInvoiceAdminButton10=function(){if(!this.props.shouldShowConfirmPayment&&!this.props.shouldShowRequestPayment&&!this.props.shouldAllowPaymentOnboarding||!this.state.showAdminActionContextualDialog)return null;new(c("MessengerAdsTypedLogger"))().setEvent(c("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(c("MessengerConversionEvent").PAGE_CLICK_INVOICE_BUTTON).setPageID(this.props.pageID).log();return c("React").createElement(c("CommerceInvoiceAdminActionContextualDialog.react"),{contextRef:this.$CommerceInvoiceAdminButton2,defaultCurrency:this.props.defaultCurrency,shown:this.state.showAdminActionContextualDialog,pageID:this.props.pageID,onRequestPayment:this.$CommerceInvoiceAdminButton7,onConfirmPayment:this.$CommerceInvoiceAdminButton8,onToggle:this.$CommerceInvoiceAdminButton9,view:this.state.dialogView,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldAllowPaymentOnboarding:this.props.shouldAllowPaymentOnboarding})};l.prototype.$CommerceInvoiceAdminButton6=function(){var m=c("React").createElement("div",{className:"_2r3-"},c("React").createElement("div",{className:"_2r40"},i._("Mark a Conversation as Paid")),c("React").createElement("div",{className:"_2r53"},i._("Now you can easily track all your sales over Inbox and view sales summary from Pages Insights.")));return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:this.$CommerceInvoiceAdminButton2,onCloseButtonClick:this.$CommerceInvoiceAdminButton11,position:"above",shown:this.state.showMarkAsPaidNUX,width:"wide"},m)};l.prototype.$CommerceInvoiceAdminButton1=function(){return!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").PAGES_MARK_AS_PAID_BUTTON)};l.prototype.render=function(){var m=i._("Create Payment Request"),n=c("joinClasses")("_4h_d","uiContextualLayerParent",this.props.className),o=void 0;if(this.state.showRequestPaymentDialog)o=c("React").createElement(c("FBPaymentsInvoiceFlowContainer.react"),{buyerID:this.props.recipientID,client:c("PaymentModulesClient").PAGES_COMMERCE,onClose:this.$CommerceInvoiceAdminButton4,sellerID:this.props.pageID});return c("React").createElement("div",{className:n},c("React").createElement(c("Link.react"),babelHelpers["extends"]({className:"_4h_e",href:"#",onClick:this.$CommerceInvoiceAdminButton3},c("TooltipData").propsFor(m)),c("React").createElement(c("Image.react"),{className:"_4h_f",ref:"invoiceButton",src:c("CommerceCurrencyUtil").getIconSrc(this.props.defaultCurrency)}),this.$CommerceInvoiceAdminButton5(),this.$CommerceInvoiceAdminButton10()),o)};f.exports=c("FluxContainer").create(l,{withProps:true})}),null);
__d("ChatFileUploaderMixin",["SubscriptionsHandler","React"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i={propTypes:{attachmentsShelf:h.object,onFileUploaderMounted:h.func,onUploadFinished:h.func,onUpdateAttachmentsShelf:h.func,onSubmit:h.func},setUpSubscriptionsHandler:function j(k){this._uploader=k;this._subscriptions=new(c("SubscriptionsHandler"))();this._subscriptions.addSubscriptions(this._uploader.subscribe(["all-uploads-completed","upload-canceled"],this._handleUploadFinished),this._uploader.subscribe("dom-updated",this._handleUpdateAttachmentsShelf),this._uploader.subscribe("submit",this._handleSubmit));this.props.onFileUploaderMounted(this._uploader)},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release();if(!this.props.uploaderIsFromHigherLevel)this._uploader&&this._uploader.destroy()},isUploading:function j(){return this._uploader.isUploading()},getAttachments:function j(){return this._uploader.getAttachments()},getImageFiles:function j(){return this._uploader.getImageFiles()},getVideoFiles:function j(){return this._uploader.getVideoFiles()},getAudioFiles:function j(){return this._uploader.getAudioFiles()},getFiles:function j(){return this._uploader.getFiles()},removeAttachments:function j(){return this._uploader.removeAttachments()},_handleUploadFinished:function j(){if(this.props.onUploadFinished){var k;(k=this.props).onUploadFinished.apply(k,arguments)}},_handleUpdateAttachmentsShelf:function j(){if(this.props.onUpdateAttachmentsShelf){var k;(k=this.props).onUpdateAttachmentsShelf.apply(k,arguments)}},_handleSubmit:function j(){if(this.props.onSubmit){var k;(k=this.props).onSubmit.apply(k,arguments)}}};f.exports=i}),null);
__d("MercuryFileUploader",["csx","fbt","ArbiterMixin","CSS","Dialog","DOM","Event","FileForm","FileFormResetOnSubmit","FileInput","FormSubmitOnChange","MercuryAttachment","MercuryAttachmentTemplates","MercuryConstants","PhotosUploadID","SubscriptionsHandler","getObjectValues","mixin","shield"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin")));k=j&&j.prototype;function l(n,o,p,q){"use strict";__p&&__p();k.constructor.call(this);this.$MercuryFileUploader1=n;this.$MercuryFileUploader2={};this.$MercuryFileUploader3={};this.$MercuryFileUploader4={};this.$MercuryFileUploader5={};this.$MercuryFileUploader6={};this.$MercuryFileUploader7={};this.$MercuryFileUploader8={};this.$MercuryFileUploader9={};this.$MercuryFileUploader10={};this.updateElements(o,p,q)}l.prototype.updateElements=function(n,o,p){"use strict";__p&&__p();this.$MercuryFileUploader11&&this.$MercuryFileUploader11.release();this.$MercuryFileUploader11=new(c("SubscriptionsHandler"))();this.$MercuryFileUploader12&&this.$MercuryFileUploader12.destroy();this.$MercuryFileUploader12=new(c("FileForm"))(n,[c("FormSubmitOnChange"),c("FileFormResetOnSubmit")]);this.$MercuryFileUploader12.setAllowCrossOrigin(true);this.$MercuryFileUploader12.setUploadInParallel(true);var q=c("DOM").find(n,"._4q60"),r=c("DOM").find(q,"._4q61");new(c("FileInput"))(q,r,o);this.$MercuryFileUploader11.addSubscriptions(this.$MercuryFileUploader12.subscribe("submit",function(){__p&&__p();var s={count:0,file_sizes:[],files:[]};if(o.files){for(var t=0;t<o.files.length;t++)if(o.files[t].size>c("MercuryConstants").AttachmentMaxSize){this.showAttachmentSizeErrorDialog();return false}var u={};for(var v=0;v<o.files.length;v++){var w=this.$MercuryFileUploader13();this.$MercuryFileUploader14(w,o.files[v].name);s.count++;s.file_sizes.push(o.files[v].size);u[w]=o.files[v];s.files.push({upload_id:w,metadata:o.files[v]})}this.$MercuryFileUploader12.setFiles(u)}else{p.value=this.$MercuryFileUploader13();this.$MercuryFileUploader14(p.value,o.value);s.count=1}this.inform("submit",s)}.bind(this)),this.$MercuryFileUploader12.subscribe("success",this.$MercuryFileUploader15.bind(this)),this.$MercuryFileUploader12.subscribe("failure",this.$MercuryFileUploader16.bind(this)),c("Event").listen(r,"click",c("shield")(this.inform,this,"open")))};l.prototype.showAttachmentSizeErrorDialog=function(){"use strict";this.$MercuryFileUploader12.abort();this.$MercuryFileUploader12.clear();new(c("Dialog"))().setTitle(i._("The file you have selected is too large")).setBody(i._("The file you have selected is too large. The maximum size is 25MB.")).setButtons(c("Dialog").OK).setSemiModal(true).show()};l.prototype.addDroppedFiles=function(n){"use strict";__p&&__p();if(!this.$MercuryFileUploader12||!this.$MercuryFileUploader12.canUseXHR())return;var o={},p={count:0,file_sizes:[],files:[]};for(var q=0;q<n.length;q++){var r=n[q];if(r.size>c("MercuryConstants").AttachmentMaxSize){this.showAttachmentSizeErrorDialog();return false}var s=this.$MercuryFileUploader13();this.$MercuryFileUploader14(s,r.name);o[s]=r;p.file_sizes.push(r.size);p.count++;p.files.push({upload_id:s,metadata:r})}this.$MercuryFileUploader12.setFiles(o);this.$MercuryFileUploader12.forceSendViaXHR();this.inform("submit",p)};l.prototype.isUploading=function(){"use strict";return!!Object.keys(this.$MercuryFileUploader8).length};l.prototype.addCachedAttachments=function(n){"use strict";n.forEach(function(o){var p=this.$MercuryFileUploader13();this.$MercuryFileUploader14(p,o.filename);this.inform("cached-file-added",{upload_id:p,metadata:o});this.$MercuryFileUploader17(p,o)}.bind(this))};l.prototype.addCachedImageFiles=function(n){"use strict";var o=i._("Photo");n.forEach(function(p){var q=this.$MercuryFileUploader13();this.$MercuryFileUploader14(q,o);this.$MercuryFileUploader17(q,{filename:p,image_id:p,filetype:"image/jpeg"})}.bind(this))};l.prototype.getAttachments=function(){"use strict";return c("getObjectValues")(this.$MercuryFileUploader2)};l.prototype.getImageFiles=function(){"use strict";var n=Object.keys(this.$MercuryFileUploader3).sort(),o=[];n.forEach(function(p){return o.push(this.$MercuryFileUploader3[p])}.bind(this));return o};l.prototype.getAnimatedImageFiles=function(){"use strict";return c("getObjectValues")(this.$MercuryFileUploader4)};l.prototype.getVideoFiles=function(){"use strict";return c("getObjectValues")(this.$MercuryFileUploader5)};l.prototype.getAudioFiles=function(){"use strict";return c("getObjectValues")(this.$MercuryFileUploader6)};l.prototype.getFiles=function(){"use strict";return c("getObjectValues")(this.$MercuryFileUploader7)};l.prototype.removeOneAttachment=function(n){"use strict";this.$MercuryFileUploader18(n)};l.prototype.removeAttachments=function(){"use strict";__p&&__p();if(this.$MercuryFileUploader1)c("DOM").empty(this.$MercuryFileUploader1);this.$MercuryFileUploader2={};this.$MercuryFileUploader3={};this.$MercuryFileUploader4={};this.$MercuryFileUploader5={};this.$MercuryFileUploader6={};this.$MercuryFileUploader7={};this.$MercuryFileUploader9={};this.$MercuryFileUploader8={};this.$MercuryFileUploader10={};if(this.$MercuryFileUploader1)c("CSS").hide(this.$MercuryFileUploader1);this.inform("dom-updated")};l.prototype.destroy=function(){"use strict";this.$MercuryFileUploader11&&this.$MercuryFileUploader11.release();this.$MercuryFileUploader12&&this.$MercuryFileUploader12.destroy();this.removeAttachments()};l.prototype.$MercuryFileUploader14=function(n,o){"use strict";__p&&__p();var p=c("MercuryAttachmentTemplates")[":fb:mercury:upload-file-row"].build(),q={};this.$MercuryFileUploader9[n]=p;this.$MercuryFileUploader8[n]=true;this.$MercuryFileUploader10[n]=Date.now();var r=m(o);c("DOM").appendContent(p.getNode("iconText"),r);q.fileName=r;c("Event").listen(p.getNode("closeFileUpload"),"click",this.$MercuryFileUploader18.bind(this,n));if(this.$MercuryFileUploader1){c("DOM").appendContent(this.$MercuryFileUploader1,p.getRoot());c("CSS").show(this.$MercuryFileUploader1)}this.inform("dom-updated",q)};l.prototype.$MercuryFileUploader18=function(n,event){"use strict";__p&&__p();if(this.$MercuryFileUploader8[n])this.inform("upload-canceled-during-upload");else if(this.$MercuryFileUploader2[n]||this.$MercuryFileUploader3[n]||this.$MercuryFileUploader4[n]||this.$MercuryFileUploader5[n]||this.$MercuryFileUploader6[n]||this.$MercuryFileUploader7[n])this.inform("upload-canceled-after-uploaded");delete this.$MercuryFileUploader2[n];delete this.$MercuryFileUploader3[n];delete this.$MercuryFileUploader4[n];delete this.$MercuryFileUploader5[n];delete this.$MercuryFileUploader6[n];delete this.$MercuryFileUploader7[n];delete this.$MercuryFileUploader8[n];delete this.$MercuryFileUploader10[n];var o=this.$MercuryFileUploader9[n];delete this.$MercuryFileUploader9[n];if(o){c("DOM").remove(o.getRoot());this.inform("dom-updated")}this.inform("upload-canceled");return false};l.prototype.$MercuryFileUploader19=function(n,o){"use strict";var p=this.$MercuryFileUploader9[n],q=c("MercuryAttachment").getAttachIconClassByMime(o);c("CSS").addClass(p.getNode("iconText"),q);c("CSS").addClass(p.getRoot(),"done")};l.prototype.$MercuryFileUploader17=function(n,o){"use strict";__p&&__p();if(this.$MercuryFileUploader8[n]){delete this.$MercuryFileUploader8[n];if(o.image_id)this.$MercuryFileUploader3[n]=o.image_id;else if(o.gif_id)this.$MercuryFileUploader4[n]=o.gif_id;else if(o.video_id)this.$MercuryFileUploader5[n]=o.video_id;else if(o.audio_id)this.$MercuryFileUploader6[n]=o.audio_id;else if(o.file_id)this.$MercuryFileUploader7[n]=o.file_id;else this.$MercuryFileUploader2[n]=o;this.$MercuryFileUploader19(n,o.filetype);this.inform("one-upload-completed",{upload_time_ms:Date.now()-this.$MercuryFileUploader10[n],upload_id:n,metadata:o})}if(!this.isUploading())this.inform("all-uploads-completed",{count:this.getAttachments().length})};l.prototype.$MercuryFileUploader15=function(event,n){"use strict";var o=n.response.getPayload();this.$MercuryFileUploader17(this.$MercuryFileUploader20(n),o.metadata[0])};l.prototype.$MercuryFileUploader16=function(event,n){"use strict";this.inform("one-upload-failed");this.$MercuryFileUploader18(this.$MercuryFileUploader20(n),event)};l.prototype.$MercuryFileUploader13=function(){"use strict";return"upload_"+c("PhotosUploadID").getNewID()};l.prototype.$MercuryFileUploader20=function(n){"use strict";var o=n.response.getPayload();if(n.upload)return n.upload.getName();else return o.uploadID};function m(n){if(n&&n.startsWith("C:\\fakepath\\"))return n.substring(12);return n}f.exports=l}),null);
__d("PagesMessengerFileUploader.react",["cx","fbt","ix","ChatFileUploaderMixin","Image.react","InlineBlock.react","Link.react","MercuryConfig","MercuryFileUploader","React","ReactDOM"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("React").PropTypes,l=c("React").createClass({displayName:"PagesMessengerFileUploader",mixins:[c("ChatFileUploaderMixin")],propTypes:{actionURI:k.string,iconSize:k.oneOf(["small","large"])},shouldComponentUpdate:function m(n,o){return n.actionURI!=this.props.actionURI},componentDidMount:function m(){this._fileUploader=new(c("MercuryFileUploader"))(this.props.attachmentsShelf,c("ReactDOM").findDOMNode(this.refs.form),c("ReactDOM").findDOMNode(this.refs.input),c("ReactDOM").findDOMNode(this.refs.attachID));this.setUpSubscriptionsHandler(this._fileUploader)},addFiles:function m(n){this._fileUploader.addDroppedFiles(n)},getDefaultProps:function m(){return{actionURI:c("MercuryConfig").upload_url,iconSize:"small"}},render:function m(){return c("React").createElement("form",{action:this.props.actionURI,method:"post",ref:"form"},c("React").createElement("input",{type:"hidden",name:"attach_id",ref:"attachID"}),c("React").createElement(c("InlineBlock.react"),{className:"_m _4q60 _3rzn"},c("React").createElement(c("Link.react"),{className:"_4q61"+(this.props.iconSize==="small"?" _509v":"")+(this.props.iconSize==="large"?" _5njm":"")+" bizOK"},this._renderIcon()),c("React").createElement("input",{type:"file",className:"_n",name:"attachment[]",multiple:"true",ref:"input"})))},_renderIcon:function m(){if(this.props.iconSize==="small")return c("React").createElement(c("Image.react"),{alt:i._("File"),src:j("28652")});else if(this.props.iconSize==="large")return c("React").createElement(c("Image.react"),{alt:i._("File"),src:j("94986")})}});f.exports=l}),null);
__d("MercuryShareLinkUploader",["ArbiterMixin","AsyncRequest","CSS","DOM","Event","Form","URLScraper","mixin","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(){"use strict";i.constructor.call(this);this.__initialize.apply(this,arguments)}j.prototype.__initialize=function(k,l,m,n,o){"use strict";__p&&__p();this.$MercuryShareLinkUploader1=k;this.$MercuryShareLinkUploader2=l;this.$MercuryShareLinkUploader3=m;this.$MercuryShareLinkUploader4=o;this.$MercuryShareLinkUploader5=false;this.$MercuryShareLinkUploader6=null;this.$MercuryShareLinkUploader7=null;c("Event").listen(n,"click",this.close.bind(this));c("Event").listen(o,"keyup",function(){!o.value.length&&this.$MercuryShareLinkUploader8.enable()}.bind(this));this.$MercuryShareLinkUploader8=new(c("URLScraper"))(o);this.$MercuryShareLinkUploader8.subscribe("match",function(p,q){this.loadShare(q&&q.url)}.bind(this))};j.prototype.getAttachData=function(){"use strict";return this.loadAttachData(this.$MercuryShareLinkUploader5,this.$MercuryShareLinkUploader1,this.$MercuryShareLinkUploader4)};j.prototype.getShareDataFromStage=function(k,l){"use strict";__p&&__p();var m=c("Form").serialize(l),n=m.attachment&&m.attachment.params;if(!n)return null;if(n instanceof Object){var o=[];o.push(n[0]);o.push(n[1]);n=o}return{params:n,type:m.attachment.type}};j.prototype.loadAttachData=function(k,l,m,n){"use strict";__p&&__p();if(k){var o=c("Form").serialize(l),p=o.attachment&&o.attachment.params,q=o.link_metrics?o.link_metrics.no_image:true;if(!p||c("isEmpty")(p))return null;var r=n?n():m.value;if(r.indexOf(p.url)===-1)return o;if(!p.summary&&!p.favicon&&q&&p.title&&p.url&&p.url.substr(0,p.title.length)===p.title)return null;return o}return null};j.prototype.check=function(){"use strict";this.$MercuryShareLinkUploader8.check()};j.prototype.close=function(){"use strict";this.$MercuryShareLinkUploader9();this.$MercuryShareLinkUploader8.disable();this.inform("closed")};j.prototype.clear=function(){"use strict";this.$MercuryShareLinkUploader9();this.$MercuryShareLinkUploader8.enable()};j.prototype.enable=function(){"use strict";this.$MercuryShareLinkUploader8.enable()};j.prototype.disable=function(){"use strict";this.$MercuryShareLinkUploader8.disable()};j.prototype.loadShare=function(k){"use strict";this.$MercuryShareLinkUploader6=k;this.$MercuryShareLinkUploader7&&this.$MercuryShareLinkUploader7.abort();this.$MercuryShareLinkUploader7=new(c("AsyncRequest"))().setMethod("POST").setURI("/ajax/share_scrape.php").setData({u:k}).setHandler(this.$MercuryShareLinkUploader10.bind(this).bind(null,k)).setStatusElement(this.$MercuryShareLinkUploader3);this.$MercuryShareLinkUploader7.send();this.inform("link-detected")};j.prototype.$MercuryShareLinkUploader10=function(k,l){"use strict";__p&&__p();if(this.$MercuryShareLinkUploader6!==k)return;this.$MercuryShareLinkUploader6=null;this.$MercuryShareLinkUploader7=null;c("CSS").show(this.$MercuryShareLinkUploader1);c("DOM").empty(this.$MercuryShareLinkUploader2);c("DOM").setContent(this.$MercuryShareLinkUploader2,l.payload);this.$MercuryShareLinkUploader5=true;if(!this.getAttachData()){this.close();return}};j.prototype.$MercuryShareLinkUploader9=function(){"use strict";c("CSS").hide(this.$MercuryShareLinkUploader1);this.$MercuryShareLinkUploader5=false;this.$MercuryShareLinkUploader6=null;this.$MercuryShareLinkUploader7&&this.$MercuryShareLinkUploader7.abort();this.$MercuryShareLinkUploader7=null;this.$MercuryShareLinkUploader8.reset()};f.exports=j}),null);
__d("XShareScrapeAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/share_scrape/",{})}),null);
__d("ChatShareLinkUploader",["AsyncRequest","CSS","DOM","URLScraper","MercuryShareLinkUploader","MercuryAttachmentTemplates","XShareScrapeAsyncController","Event"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MercuryShareLinkUploader"));i=h&&h.prototype;j.prototype.__initialize=function(k,l,m,n,o){"use strict";__p&&__p();this.$ChatShareLinkUploader1=k;this.$ChatShareLinkUploader2=l;this.$ChatShareLinkUploader3=m;this.$ChatShareLinkUploader4=false;this.$ChatShareLinkUploader5=null;this.$ChatShareLinkUploader6=n;this.$ChatShareLinkUploader7=o;this.$ChatShareLinkUploader8=false;c("Event").listen(l,"keyup",function(){!this.getInputValue().length&&this.$ChatShareLinkUploader9.enable()}.bind(this));this.$ChatShareLinkUploader9=new(c("URLScraper"))(l,n);this.$ChatShareLinkUploader9.subscribe("match",function(p,q){this.loadShare(q&&q.url)}.bind(this));this.$ChatShareLinkUploader10=1337;this.$ChatShareLinkUploader11=null};j.prototype.getInputValue=function(){"use strict";return this.$ChatShareLinkUploader6?this.$ChatShareLinkUploader6():this.$ChatShareLinkUploader2.value};j.prototype.getAttachData=function(){"use strict";return this.loadAttachData(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader2,this.$ChatShareLinkUploader6)};j.prototype.getShareData=function(){"use strict";if(!this.$ChatShareLinkUploader4)return null;return this.getShareDataFromStage(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1)};j.prototype.close=function(){"use strict";this.$ChatShareLinkUploader12();this.$ChatShareLinkUploader9.disable();this.inform("closed")};j.prototype.clear=function(){"use strict";this.$ChatShareLinkUploader12();this.$ChatShareLinkUploader9.enable()};j.prototype.$ChatShareLinkUploader12=function(){"use strict";__p&&__p();var k=this.$ChatShareLinkUploader11;delete this.$ChatShareLinkUploader11;if(k){c("DOM").remove(k);this.inform("dom-updated")}this.$ChatShareLinkUploader13();this.$ChatShareLinkUploader4=false;this.$ChatShareLinkUploader8=false;this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();this.$ChatShareLinkUploader5=null;this.$ChatShareLinkUploader9&&this.$ChatShareLinkUploader9.reset()};j.prototype.loadShareFromParams=function(k,l){"use strict";this.$ChatShareLinkUploader8=true;this.$ChatShareLinkUploader14(new(c("AsyncRequest"))().setMethod("POST").setURI("/ajax/share_params.php").setData({chat:true,share_type:k,share_params:l}))};j.prototype.__getLoadShareURI=function(){"use strict";return c("XShareScrapeAsyncController").getURIBuilder().getURI()};j.prototype.loadShare=function(k,l){"use strict";this.$ChatShareLinkUploader14(new(c("AsyncRequest"))(this.__getLoadShareURI()).setMethod("POST").setData({chat:true,extra_params:JSON.stringify(l),u:k}),k)};j.prototype.loadedFromFeed=function(){"use strict";return this.$ChatShareLinkUploader8};j.prototype.$ChatShareLinkUploader13=function(){"use strict";return++this.$ChatShareLinkUploader10};j.prototype.$ChatShareLinkUploader15=function(){"use strict";return this.$ChatShareLinkUploader10};j.prototype.$ChatShareLinkUploader14=function(k,l){"use strict";__p&&__p();this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();var m=c("MercuryAttachmentTemplates")[":fb:mercury:share-link-row"].build();if(this.$ChatShareLinkUploader11)c("DOM").remove(this.$ChatShareLinkUploader11);this.$ChatShareLinkUploader11=m.getRoot();c("Event").listen(m.getNode("closeFileUpload"),"click",function(event){this.close();event.kill()}.bind(this));c("DOM").appendContent(this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader11);c("CSS").show(this.$ChatShareLinkUploader1);this.inform("dom-updated");var n=this.$ChatShareLinkUploader13();this.$ChatShareLinkUploader5=k.setHandler(function(o){return this.$ChatShareLinkUploader16(n,o,l)}.bind(this));this.$ChatShareLinkUploader5.send();this.inform("link-detected")};j.prototype.$ChatShareLinkUploader16=function(k,l,m){"use strict";__p&&__p();if(this.$ChatShareLinkUploader15()!==k)return;this.$ChatShareLinkUploader5=null;c("DOM").appendContent(this.$ChatShareLinkUploader11,l.payload);this.$ChatShareLinkUploader3();this.$ChatShareLinkUploader4=true;this.inform("share-loaded");if(!this.getAttachData()){this.close();if(m&&this.getInputValue().indexOf(m)===-1)this.$ChatShareLinkUploader7(m);return}c("CSS").addClass(this.$ChatShareLinkUploader11,"done")};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("PagesMessengerShareLinkUploader",["ActorURI","ChatShareLinkUploader","emptyFunction","SubscriptionsHandler","XShareScrapeAsyncController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ChatShareLinkUploader"));i=h&&h.prototype;function j(k,l,m,n,o){"use strict";i.constructor.call(this,k,l,c("emptyFunction"));this.$PagesMessengerShareLinkUploader1=new(c("SubscriptionsHandler"))();this.$PagesMessengerShareLinkUploader1.addSubscriptions(this.subscribe(["all-uploads-completed","upload-canceled"],m),this.subscribe("submit",n));this.actor_id=o}j.prototype.__getLoadShareURI=function(){"use strict";return new(c("ActorURI").create)(c("XShareScrapeAsyncController").getURIBuilder().getURI(),this.actor_id)};j.prototype.destroy=function(){"use strict";this.$PagesMessengerShareLinkUploader1&&this.$PagesMessengerShareLinkUploader1.release()};f.exports=j}),null);
__d("XPagesMessagingSuggestedResponseController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/suggestedresponse/",{})}),null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/suggestedresponse/feedback/",{})}),null);
__d("PagesMessageSuggestedResponseHandler",["invariant","ActorURI","AsyncRequest","XPagesMessagingSuggestedResponseController","XPagesMessagingSuggestedResponseFeedbackController","isEmpty"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){"use strict";this.$PagesMessageSuggestedResponseHandler2=j;this.$PagesMessageSuggestedResponseHandler1=k;this.$PagesMessageSuggestedResponseHandler3=false;this.$PagesMessageSuggestedResponseHandler5=false}i.prototype.requestSuggestedResponseAsync=function(j,k){"use strict";this.$PagesMessageSuggestedResponseHandler3=true;var l=c("XPagesMessagingSuggestedResponseController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(c("ActorURI").create(l,this.$PagesMessageSuggestedResponseHandler1)).setData({message:this.$PagesMessageSuggestedResponseHandler2.body}).setMethod("POST").setHandler(function(m){return this.$PagesMessageSuggestedResponseHandler6(m.payload,j)}.bind(this)).setErrorHandler(k).send()};i.prototype.sendFeedback=function(j){"use strict";this.hasReceviedSuggestedResponse()||h(0);var k=c("XPagesMessagingSuggestedResponseFeedbackController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(c("ActorURI").create(k,this.$PagesMessageSuggestedResponseHandler1)).setMethod("POST").setData({message_id:this.$PagesMessageSuggestedResponseHandler4,accepted:j}).send()};i.prototype.$PagesMessageSuggestedResponseHandler6=function(j,k){"use strict";if(j.messageFound)this.$PagesMessageSuggestedResponseHandler4=j.messageID;k(this.$PagesMessageSuggestedResponseHandler2.message_id,j)};i.prototype.shouldBeTreatedAsRejected=function(){"use strict";return!this.getHasBeenAccepted()&&this.hasReceviedSuggestedResponse()};i.prototype.hasReceviedSuggestedResponse=function(){"use strict";return!c("isEmpty")(this.$PagesMessageSuggestedResponseHandler4)};i.prototype.alreadyRequested=function(){"use strict";return this.$PagesMessageSuggestedResponseHandler3};i.prototype.getMessageID=function(){"use strict";return this.$PagesMessageSuggestedResponseHandler2.message_id};i.prototype.getHasBeenAccepted=function(){"use strict";return this.$PagesMessageSuggestedResponseHandler5};f.exports=i}),null);
__d("PagesMessengerSuggestedResponseView.react",["cx","fbt","LoadingIndicator.react","PagesMessageSuggestedResponseHandler","React","XUIGrayText.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"PagesMessengerSuggestedResponseView",propTypes:{onAccepted:j.func.isRequired,onDeclined:j.func,suggestedResponseHandler:j.instanceOf(c("PagesMessageSuggestedResponseHandler"))},getInitialState:function l(){return{shouldShowResult:false,shouldShowProgress:false,responseMessage:"",witMessageId:""}},_reset:function l(){this.setState(this.getInitialState())},componentWillReceiveProps:function l(m){if(m.suggestedResponseHandler!==this.props.suggestedResponseHandler){this._reset();var n=m.suggestedResponseHandler;if(!n||n.alreadyRequested())return;this.setState({shouldShowProgress:true});n.requestSuggestedResponseAsync(this._onSuggestedResponseReceived,this._onSuggestedResponseError)}},_onSuggestedResponseReceived:function l(m,n){if(!this._isMessageIDCurrent(m))return;this.setState({shouldShowProgress:false});if(!!n.responseMessage&&n.responseMessage.length>0)this.setState({shouldShowResult:true,responseMessage:n.responseMessage,witMessageId:n.message_id})},_onSuggestedResponseError:function l(m){if(!this._isMessageIDCurrent(m))return;this.setState({shouldShowProgress:false,shouldShowResult:false})},_isMessageIDCurrent:function l(m){return!!this.props.suggestedResponseHandler&&m===this.props.suggestedResponseHandler.getMessageID()},render:function l(){return c("React").createElement("div",{className:"_710 _2ph-"+(!this.state.shouldShowResult&&!this.state.shouldShowProgress?" hidden_elem":"")},this._renderProgressPart(),this._renderSuggestionPart())},_renderSuggestionPart:function l(){return c("React").createElement("div",{className:!this.state.shouldShowResult?"hidden_elem":""},c("React").createElement("div",{className:"_3-94"},c("React").createElement(c("XUIGrayText.react"),{shade:"light"},i._("We found a suggested reply:"))),c("React").createElement("div",{className:"_3-94"},c("React").createElement(c("XUIGrayText.react"),{shade:"dark",className:"_711"},this.state.responseMessage)),c("React").createElement("div",{className:"_712"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",className:"_3-90"},i._("Do you want to use this reply?")),c("React").createElement(c("XUIButton.react"),{label:i._("No"),use:"default",className:"_3-8_",onClick:this._onDeclined}),c("React").createElement(c("XUIButton.react"),{label:i._("Yes"),use:"confirm",onClick:this._onAccepted})))},_renderProgressPart:function l(){return c("React").createElement("div",{className:(!this.state.shouldShowProgress?"hidden_elem":"")+" _71d"},c("React").createElement(c("XUIGrayText.react"),{shade:"light"},i._("Looking for suggested responses")),c("React").createElement(c("LoadingIndicator.react"),{size:"small",color:"white",className:"_3-9a"}))},_hide:function l(){this.setState({shouldShowResult:false,shouldShowProgress:false})},_onAccepted:function l(){this._hide();this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(true);this.props.onAccepted&&this.props.onAccepted(this.state.responseMessage)},_onDeclined:function l(){this._hide();this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(false);this.props.onDeclined&&this.props.onDeclined()}});f.exports=k}),null);
__d("PagesMessengerTextInput.react",["cx","AbstractTextField.react","React","TextAreaControl","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesMessengerTextInput1=null,this.resetHeight=function(){this.$PagesMessengerTextInput1&&this.$PagesMessengerTextInput1.resetHeight()}.bind(this),this.updateHeight=function(){this.$PagesMessengerTextInput1&&this.$PagesMessengerTextInput1.updateHeight()}.bind(this),n}l.prototype.componentDidMount=function(){"use strict";if(this.refs.input){this.$PagesMessengerTextInput1=new(c("TextAreaControl"))(this.refs.input);this.props.onInputReady&&this.props.onInputReady(this.refs.input)}};l.prototype.render=function(){"use strict";var m=c("joinClasses")(this.props.className,"_58al uiTextareaAutogrow");return c("React").createElement(c("AbstractTextField.react"),this.props,c("React").createElement("textarea",{type:"text",className:m,tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,onFocus:this.props.onFocus,ref:"input"}))};l.propTypes=babelHelpers["extends"]({},c("AbstractTextField.react").propTypes,{onClick:k.func,onKeyUp:k.func,onPaste:k.func,onFocus:k.func});f.exports=l}),null);
__d("PagesMessengerThreadUtils",["invariant","MessagingTag","PageMessageEnumTag"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="CUSTOM_TAG_",j="WITH_FLAG_",k={isFlagThread:function l(m){if(m&&m.page_thread_info&&"flagged"in m.page_thread_info)return m.page_thread_info.flagged;return false},isPageSpecficEnumFilter:function l(m){if(m===c("PageMessageEnumTag").FLAG||m===c("PageMessageEnumTag").IMPORTANT)return true;return false},isCustomTagsFilter:function l(m){return m.startsWith(i)},isCustomTagsWithFlagFilter:function l(m){return m.startsWith(i+j)},getCustomTagsFilter:function l(m,n){return i+(n?j:"")+JSON.stringify(m.sort())},parseCustomTagsFilter:function l(m){if(!this.isCustomTagsFilter(m))h(0);var n=this.isCustomTagsWithFlagFilter(m);return JSON.parse(m.substring(i.length+(n?j.length:0)))},getBatchActionMenuParam:function l(m){__p&&__p();var n=false,o=false,p=false,q=false,r=false,s=false,t=false,u=false,v=false,w=false;if(m.folder===c("MessagingTag").INBOX&&!m.is_archived){n=true;q=true;if(k.isFlagThread(m))t=true;else s=true;if(m&&m.unread_count===0)v=true;else u=true}else if(m.folder===c("MessagingTag").SPAM||m.folder===c("MessagingTag").OTHER)r=true;else if(m.is_archived){o=true;p=true}else if(m.folder===c("MessagingTag").PAGE_BACKGROUND)w=true;if(m&&m.unread_count===0)v=true;else u=true;return{showArchive:n,showDelete:o,showUnarchive:p,showSpam:q,showUnspam:r,showFlag:s,showUnflag:t,showMarkRead:u,showMarkUnread:v,showMoveToInbox:w,showHideContextCard:false,showShowContextCard:false}}};f.exports=k}),null);
__d("PagesCommerceBuyerNUXDialog.react",["cx","fbt","ix","Image.react","LayerFadeOnHide","LayerFadeOnShow","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=400,n=j("276000");k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$PagesCommerceBuyerNUXDialog2=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").PAGES_COMMERCE_BUYER_NUX);this.props.onConfirm()}.bind(this),this.$PagesCommerceBuyerNUXDialog3=function(u){if(!u)this.$PagesCommerceBuyerNUXDialog2()}.bind(this),q}o.prototype.$PagesCommerceBuyerNUXDialog1=function(){return i._("OK")};o.prototype.$PagesCommerceBuyerNUXDialog4=function(){return c("React").createElement("div",{className:"_1lc0"},c("React").createElement(c("XUIButton.react"),{className:"_1lcd",label:this.$PagesCommerceBuyerNUXDialog1(),size:"xxlarge",use:"confirm",onClick:this.$PagesCommerceBuyerNUXDialog2}))};o.prototype.$PagesCommerceBuyerNUXDialog5=function(){return c("React").createElement("ul",{className:"_1lce"},c("React").createElement("li",{className:"_1lcf"},c("React").createElement(c("Image.react"),{className:"_1_2f",src:j("275996")}),c("React").createElement(c("XUIText.react"),{className:"_1_2g",size:"header3"},i._("Use your bank account or credit card."))),c("React").createElement("li",{className:"_1lcf"},c("React").createElement(c("Image.react"),{className:"_1_2f",src:j("275998")}),c("React").createElement(c("XUIText.react"),{className:"_1_2g",size:"header3"},i._("Payments are protected and private."))),c("React").createElement("li",{className:"_1lcf"},c("React").createElement(c("Image.react"),{className:"_1_2f",src:j("275997")}),c("React").createElement(c("XUIText.react"),{className:"_1_2g",size:"header3"},i._("FREE! No extra fees or charges."))))};o.prototype.render=function(){if(!this.props.isShown)return null;return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},onToggle:this.$PagesCommerceBuyerNUXDialog3,shown:this.props.isShown,width:this.props.width||m},c("React").createElement(c("XUIDialogBody.react"),{className:"_52jv"},c("React").createElement(c("Image.react"),{className:"_1lcg",src:n}),c("React").createElement("div",{className:"_1lci"},i._("Instant, secure payments on Messenger.")),this.$PagesCommerceBuyerNUXDialog5(),this.$PagesCommerceBuyerNUXDialog4()))};f.exports=o}),null);
__d("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"InstantGameLogCustomEventData!",defaultValue:null}],j=[{kind:"LinkedField",alias:"logCustomEvent",name:"instant_game_log_custom_event",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"InstantGameLogCustomEventData!"}],concreteType:"InstantGameLogCustomEventResponsePayload",plural:false,selections:[{kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",id:"1543857295701947",text:null,metadata:{},fragment:{kind:"Fragment",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("MessengerGamesCustomUpdateAdminContainerQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"gameID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"gameID",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"MessengerGamesCustomUpdateAdminContainerQuery",id:"1444897842249195",text:null,metadata:{},fragment:{kind:"Fragment",name:"MessengerGamesCustomUpdateAdminContainerQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"Application",selections:[{kind:"LinkedField",alias:"gameInfo",name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerGamesCustomUpdateAdmin_gameInfo",args:null}]}]}]}]},operation:{kind:"Operation",name:"MessengerGamesCustomUpdateAdminContainerQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"InlineFragment",type:"Application",selections:[{kind:"LinkedField",alias:"gameInfo",name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:false,selections:[{kind:"ScalarField",alias:"name",name:"game_name",args:null,storageKey:null},{kind:"ScalarField",alias:"iconURI",name:"icon_uri",args:null,storageKey:null}]}]}]}]}}}();f.exports=h}),null);
__d("MessengerGamesCustomUpdateAdmin_gameInfo.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"MessengerGamesCustomUpdateAdmin_gameInfo",type:"GamesInstantPlayStyleInfo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"name",name:"game_name",args:null,storageKey:null},{kind:"ScalarField",alias:"iconURI",name:"icon_uri",args:null,storageKey:null}]};f.exports=h}),null);
__d("MessengerGamesLeaderboardProfileImageQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"userID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"userID",type:"ID!"}],k={kind:"LinkedField",alias:"profilePicture",name:"profile_picture",storageKey:"profile_picture(height:40,width:40)",args:[{kind:"Literal",name:"height",value:40,type:"Int"},{kind:"Literal",name:"width",value:40,type:"Int"}],concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"MessengerGamesLeaderboardProfileImageQuery",id:"1819003481478242",text:null,metadata:{},fragment:{kind:"Fragment",name:"MessengerGamesLeaderboardProfileImageQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:j,concreteType:"User",plural:false,selections:[k]}]},operation:{kind:"Operation",name:"MessengerGamesLeaderboardProfileImageQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:j,concreteType:"User",plural:false,selections:[k,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();f.exports=h}),null);
__d("PagesMessagingPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PagesMessagingPerfLoggerConfig",this.$PagesMessagingPerfTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PagesMessagingPerfLoggerConfig",this.$PagesMessagingPerfTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$PagesMessagingPerfTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PagesMessagingPerfTypedLogger1=babelHelpers["extends"]({},this.$PagesMessagingPerfTypedLogger1,j);return this};h.prototype.setEventName=function(j){this.$PagesMessagingPerfTypedLogger1.event_name=j;return this};h.prototype.setExceptionCode=function(j){this.$PagesMessagingPerfTypedLogger1.exception_code=j;return this};h.prototype.setExceptionMessage=function(j){this.$PagesMessagingPerfTypedLogger1.exception_message=j;return this};h.prototype.setPageID=function(j){this.$PagesMessagingPerfTypedLogger1.page_id=j;return this};h.prototype.setPerfTime=function(j){this.$PagesMessagingPerfTypedLogger1.perf_time=j;return this};h.prototype.setStack=function(j){this.$PagesMessagingPerfTypedLogger1.stack=j;return this};h.prototype.setThreadOffset=function(j){this.$PagesMessagingPerfTypedLogger1.thread_offset=j;return this};h.prototype.setVC=function(j){this.$PagesMessagingPerfTypedLogger1.vc=j;return this};var i={event_name:true,exception_code:true,exception_message:true,page_id:true,perf_time:true,stack:true,thread_offset:true,vc:true};f.exports=h}),null);
__d("PagesMessagingPerfLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEND_MESSAGE_JS_HANDLE_ERROR:"messages_send_message_js_handle_error",MESSAGELIST_LOAD_START:"messages_messagelist_load_start",MESSAGELIST_LOAD_END:"messages_messagelist_load_end",THREADLIST_LOAD_MORE_EVENT:"threadlist_load_more",THREADLIST_RENDER_COMPLETE_EVENT:"threadlist_render_complete",SEND_MESSAGE_JS_EXCEPTION:"messages_send_message_js_exception",SEND_MESSAGE_JS_END:"messages_send_message_js_end",SEND_MESSAGE_JS_START:"messages_send_message_js_start",COMPOSER_BLOCKED_WITH_WARNING:"composer_blocked_with_warning"})}),null);
__d("MercuryPageServerRequests",["CurrentUser","MercuryAPIArgsSource","MercuryAssert","MercuryServerRequests","MercurySingletonProvider","MessagingTag","MessengerServerPayloadTransformer.bs","PageMessageEnumTag","PagesMessagingPerfTypedLogger","PagesMessagingPerfLoggerEvent","PagesMessengerThreadUtils","MercuryServerDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("MercuryAPIArgsSource").MERCURY;h=babelHelpers.inherits(k,c("MercuryServerRequests"));i=h&&h.prototype;k.getForFBID=function(m){return l.getForFBID(m)};k.get=function(){return l.get()};function k(m){i.constructor.call(this,m);var n={"/pages/messaging/thread_tag/add/":{request_user_id:m,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(o,p){return this.__handleUpdate(o,p)}.bind(this)},"/pages/messaging/thread_tag/remove/":{request_user_id:m,mode:c("MercuryServerDispatcher").BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(o,p){return this.__handleUpdate(o,p)}.bind(this)},"/pages/messaging/thread_tag/list/":{request_user_id:m,mode:c("MercuryServerDispatcher").IMMEDIATE,handler:function(o,p){return this.$MercuryPageServerRequests2(o,p)}.bind(this)},"/pages/messaging/thread_custom_tags/list/":{request_user_id:m,mode:c("MercuryServerDispatcher").IMMEDIATE,handler:function(o,p){return this.$MercuryPageServerRequests2(o,p)}.bind(this)},"/pages/messaging/create_note/":{request_user_id:m,mode:c("MercuryServerDispatcher").IMMEDIATE,handler:function(o,p){return this.__handleUpdate(o,p)}.bind(this)}};c("MercuryServerDispatcher").registerEndpoints(n)}k.prototype.$MercuryPageServerRequests2=function(m,n){if(m.graphql_payload){var o=m.graphql_payload.map(function(q){return c("MessengerServerPayloadTransformer.bs").transformThread(m.viewer,q,m.for_page)}),p={ordered_threadlists:m.ordered_threadlists,payload_source:m.payload_source,threads:o};this.__handleUpdate(p,n)}else this.__handleUpdate(m,n)};k.prototype.$MercuryPageServerRequests1=function(m,n){var o=m?m.tag_name:n.tag_name,p=m?m.thread_ids:[],q=n?n.thread_ids:[],r=p.concat(q),s={tag_name:o,thread_ids:r};return s};k.prototype.addThreadFlag=function(m,n){c("MercuryAssert").isThreadID(m);this.__threadIDMap.getServerIDFromClientID(m,function(o){var p={thread_ids:[o],tag_name:c("PageMessageEnumTag").FLAG};this.__sendRequest("/pages/messaging/thread_tag/add/",p)}.bind(this))};k.prototype.createNote=function(m,n,o){c("MercuryAssert").isThreadID(o);this.__threadIDMap.getServerIDFromClientID(o,function(p){var q={body:m,message_id:n,other_user_fbid:p};this.__sendRequest("/pages/messaging/create_note/",q)}.bind(this))};k.prototype.fetchThreadlistInfo=function(m,n){__p&&__p();var o=arguments.length<=2||arguments[2]===undefined?c("MessagingTag").INBOX:arguments[2],p=arguments[3],q=arguments.length<=4||arguments[4]===undefined?j:arguments[4],r=arguments[5],s={folder:o,offset:m,limit:n,tag_name:null,custom_tags_filter:null,custom_tags:[],enum_tag:""};if(c("PagesMessengerThreadUtils").isPageSpecficEnumFilter(p)){s.tag_name=p;this.__sendRequest("/pages/messaging/thread_tag/list/",s);return}if(p&&c("PagesMessengerThreadUtils").isCustomTagsFilter(p)){s.custom_tags_filter=p;s.custom_tags=c("PagesMessengerThreadUtils").parseCustomTagsFilter(p);if(c("PagesMessengerThreadUtils").isCustomTagsWithFlagFilter(p))s.enum_tag=c("PageMessageEnumTag").FLAG;this.__sendRequest("/pages/messaging/thread_custom_tags/list/",s);return}i.fetchThreadlistInfo.call(this,m,n,o,p,q,r)};k.prototype.removeThreadFlag=function(m,n){c("MercuryAssert").isThreadID(m);this.__threadIDMap.getServerIDFromClientID(m,function(o){var p={thread_ids:[o],tag_name:c("PageMessageEnumTag").FLAG};this.__sendRequest("/pages/messaging/thread_tag/remove/",p)}.bind(this))};k.prototype.toString=function(){return"MercuryPageServerRequests"};k.prototype.__logMercurySendError=function(m){new(c("PagesMessagingPerfTypedLogger"))().setPageID(this.__getFBID()).setEventName(c("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_HANDLE_ERROR).setExceptionMessage(m.error_data.description).setExceptionCode(m.error_data.code).log();i.__logMercurySendError.call(this,m)};k.prototype.__getForAsyncRequest=function(m){var n=m.getData(),o=n.request_user_id?n.request_user_id:c("CurrentUser").getID();return k.getForFBID(o)};var l=new(c("MercurySingletonProvider"))(k);f.exports=k}),null);
__d("MercuryPageMessageActions",["MercuryActionType","MercuryMessageActions","MercuryPageServerRequests","MercuryPayloadSource","MercurySingletonMixin"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MercuryMessageActions"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.__serverRequests=c("MercuryPageServerRequests").getForFBID(k)}j.prototype.createNote=function(k,l,m){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({action_type:c("MercuryActionType").CREATE_PAGE_ADMIN_NOTE,message_id:m,note:k,thread_id:l},c("MercuryPayloadSource").CLIENT_CREATE_PAGE_ADMIN_NOTE));this.__serverRequests.createNote(k.body.text,m,l)};Object.assign(j,c("MercurySingletonMixin"),{_instances:{}});f.exports=j}),null);
__d("MercuryPageThreadActions",["MercuryActionType","MercuryPayloadSource","MercuryPageServerRequests","MercurySingletonMixin","MercuryThreadActions","MessagingTag"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MercuryThreadActions"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k);this.__serverRequests=c("MercuryPageServerRequests").getForFBID(k)}j.prototype.addFlag=function(k,l){"use strict";this.batchFlag([k],l)};j.prototype.batchAddFlag=function(k,l){"use strict";k.forEach(function(m){this.__serverRequests.addThreadFlag(m,l)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,true,l))};j.prototype.removeFlag=function(k,l){"use strict";this.batchRemoveFlag([k],l)};j.prototype.batchRemoveFlag=function(k,l){"use strict";k.forEach(function(m){this.__serverRequests.removeThreadFlag(m,l)}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,false,l))};j.prototype.batchChangeFolderToBackground=function(k,l){"use strict";this.batchChangeFolder(k,c("MessagingTag").PAGE_BACKGROUND)};j.prototype.batchChangeFolderToInbox=function(k,l){"use strict";this.batchChangeFolder(k,c("MessagingTag").INBOX)};j.prototype.$MercuryPageThreadActions1=function(k,l,m){"use strict";return this.__constructClientPayload(k,c("MercuryActionType").CHANGE_FLAG,c("MercuryPayloadSource").CLIENT_CHANGE_FLAG,{mark_as_flag:l,source:m})};Object.assign(j,c("MercurySingletonMixin"),{_instances:{}});f.exports=j}),null);
__d("MercuryLWARenderer",["MercuryConfig","MessengerTextWithEntities.react","MessengerLightweightActionUtils","React","TextWithEntities.react"],(function a(b,c,d,e,f,g){"use strict";var h={renderCollapsedText:function i(j){var k=null;if(c("MercuryConfig").MessengerNewEmojiGK)k=c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,renderEmoticons:true,text:c("MessengerLightweightActionUtils").getCollapsedLWAText(j)});else k=c("React").createElement(c("TextWithEntities.react"),{renderEmoji:true,renderEmoticons:true,text:c("MessengerLightweightActionUtils").getCollapsedLWAText(j)});return c("React").createElement("span",null,k)}};f.exports=h}),null);
__d("MessengerHorizontalScroll.react",["ix","cx","fbt","Animation","Image.react","Link.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=250,m="left",n="right",o=c("React").createClass({displayName:"MessengerHorizontalScroll",_rightArrowBoundOnClick:Function,_leftArrowBoundOnClick:Function,propTypes:{batchScroll:k.bool.isRequired,childPadding:k.number.isRequired,childWidth:k.number.isRequired,freeScroll:k.bool.isRequired,leftOffset:k.number.isRequired,numChildrenVisible:k.number.isRequired,width:k.number.isRequired},getInitialState:function p(){var q=this._calculateState();return babelHelpers["extends"]({index:0,scrollLeft:0},q)},getDefaultProps:function p(){return{batchScroll:false,childPadding:0,freeScroll:false,leftOffset:0,numChildrenVisible:1}},componentWillMount:function p(){this._rightArrowBoundOnClick=this._updatePosition.bind(this,n);this._leftArrowBoundOnClick=this._updatePosition.bind(this,m)},componentWillReceiveProps:function p(q){this.setState(this._calculateState(q))},render:function p(){var q=this.props;if(this.refs&&this.refs.childContainer&&!q.freeScroll)new(c("Animation"))(this.refs.childContainer).to("scrollLeft",this.state.scrollLeft).duration(l).go();var r=this._calculateVisibleWidth(),s=this.state.scrollLeft===0||q.freeScroll||r<q.width,t=this.state.scrollLeft===this.state.maxScrollLeft||q.freeScroll||r<q.width,u=q.freeScroll?"scroll":"hidden",v={overflow:u,width:q.width};return c("React").createElement("div",{className:"_5agf",style:{width:q.width}},c("React").createElement(c("Link.react"),{"aria-label":j._("See more results from the left"),className:(s?"hidden_elem":"")+" _5agg",onClick:this._leftArrowBoundOnClick,role:"button"},c("React").createElement(c("Image.react"),{className:"_5agh",src:h("141823")})),c("React").createElement(c("Link.react"),{"aria-label":j._("See more results from the right"),className:(t?"hidden_elem":"")+" _5agi",onClick:this._rightArrowBoundOnClick,role:"button"},c("React").createElement(c("Image.react"),{className:"_5agh",src:h("141833")})),c("React").createElement("div",{className:"_5agj",ref:"childContainer",style:v},c("React").createElement("div",{className:"_5agk"},this._renderChildren())))},_calculateState:function p(q){if(!q||q.children!==this.props.children)var r=c("React").Children.map(this.props.children,function(s,t){return this._onChildClick.bind(null,t)}.bind(this));return{maxScrollLeft:this._getMaxScrollLeft(),boundChildOnClicks:r||this.state.boundChildOnClicks}},_updatePosition:function p(q){__p&&__p();var r=c("React").Children.count(this.props.children)-this.props.numChildrenVisible,s=this.state.scrollLeft,t=s,u=this.state.index;switch(q){case n:if(this.props.batchScroll){u+=this.props.numChildrenVisible;if(u>r)u=r}else u+=1;t=Math.min(this._getNextScrollLeft(u),this.state.maxScrollLeft);break;case m:if(this.props.batchScroll){u-=this.props.numChildrenVisible;if(u<0)u=0}else u-=1;t=Math.max(0,this._getNextScrollLeft(u));break}this.setState({scrollLeft:t,index:u})},_onChildClick:function p(q){if(this._isVisibleChild(q))return;var r=q<this.state.index?m:n;this._updatePosition(r)},_getNextScrollLeft:function p(q){if(q===0)return 0;var r=this.props,s=r.width,t=r.childWidth,u=r.childPadding,v=r.leftOffset,w=r.numChildrenVisible,x=t*w,y=u*(w-1),z=(s-(x+y))/2,A=q*(u+t)-z;return A+v},_calculateVisibleWidth:function p(){var q=this.props,r=c("React").Children.count(q.children);return q.childWidth*r+q.childPadding*(r-1)+q.leftOffset},_getMaxScrollLeft:function p(){var q=this._calculateVisibleWidth();return q-this.props.width},_renderChildren:function p(){__p&&__p();var q=this.props,r=c("React").Children.count(q.children);return c("React").Children.map(q.children,function(s,t){var u={};u.width=q.childWidth;if(t<r-1)u.paddingRight=q.childPadding;if(t===0&&q.leftOffset)u.paddingLeft=q.leftOffset;var v=this._isVisibleChild(t),w=q.freeScroll?null:this.state.boundChildOnClicks[t];return c("React").createElement("div",{className:"_5agl"+(v||q.freeScroll?" _5agm":""),key:t,onClick:w,role:"presentation",style:u},s)}.bind(this))},_isVisibleChild:function p(q){var r=this.props,s=r.children,t=r.numChildrenVisible,u=c("React").Children.count(s),v=this.state.index,w=v===u-1,x=w?v:v+t-1,y=w?v-(t-1):v;return q<=x&&q>=y}});f.exports=o}),null);
__d("MNCommerceLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RECEIVE_API_LATENCY:"receive_api_latency",NLP_API_LATENCY:"nlp_api_latency",NLP_API_FAILED:"nlp_api_failed",EVENTS_PUSH_SUCCESS:"events_push_success",EVENTS_PUSH_FAILED:"events_push_failed",ENTITY_CONFIGURATION_ERROR:"entity_configuration_error",ENTITY_SUBSCRIPTION_SUCCESS:"entity_subscribed",ENTITY_UNSUBSCRIPTION_SUCCESS:"entity_unsubscribed",ENTITY_UNSUBSCRIPTION_FAILED:"entity_unsubscribe_request_failed",ENTITY_SUBSCRIPTION_FAILED:"entity_subscribe_request_failed",APP_TO_PAGE_ASSOC_DELETE_FAILED:"app_to_page_assoc_delete_failed",APP_TO_PAGE_ASSOC_SET_FAILED:"app_to_page_assoc_set_failed",TAO_EXCEPTION:"tao_exception",IRIS_SUBSCRIPTION_NOTIFY:"iris_subscription_notify",RECEIVE_API_E2E_HANDLER_FAILURE:"receive_api_e2e_handler_failure",SKIPPED_STALE_DELTA_NEW_MESSAGE:"skipped_stale_delta_new_message",CHECK_INTERNAL_URI_FAILED:"check_internal_uril_failed",REMOVE_ALERT_ERROR:"remove_alert_error",SET_ALERT_ERROR:"set_alert_error",RECEIVE_API_IRIS_HANDLER_FAILURE:"receive_api_iris_handler_failure",MATCHED_USER_ID_NOT_FOUND:"matched_user_id_not_found",MATCHED_USER_ID_LOW_CONFIDENCE:"matched_user_id_low_confidence",MATCHED_USER_ID_HIGH_CONFIDENCE:"matched_user_id_high_confidence",SEND_API_ERROR:"send_api_error",SEND_API_LATENCY:"send_api_latency",SEND_MESSAGE_WITH_AUDIO:"send_message_with_audio",SEND_MESSAGE_WITH_FILE:"send_message_with_file",SEND_MESSAGE_WITH_IMAGE:"send_message_with_image",SEND_MESSAGE_WITH_TEXT:"send_message_with_text",SEND_MESSAGE_WITH_VIDEO:"send_message_with_video",SEND_MESSAGE_WITH_ROBOTEXT:"send_message_with_robotext",SEND_MESSAGE_WITH_ATTACHMENT:"send_message_with_attachment",SEND_MESSAGE_WITH_LOG_MESSAGE:"send_message_with_log_message",SEND_MESSAGE_FAILURE:"send_message_failure",SEND_MESSAGE_INNER_FAILURE:"send_message_inner_failure",SEND_MESSAGE_WITH_AD_TEXT:"send_ad_message_with_text",SEND_MESSAGE_WITH_AD_ATTACHMENT:"send_ad_message_with_attachment",UPLOAD_API_ERROR:"upload_api_error",ID_CONVERSION_ERROR:"id_conversion_error",ID_CONVERSION_SUCCESS:"id_conversion_success",GIF_UPLOAD:"gif_upload",HIGH_MPS_ON:"high_mps_on",HIGH_MPS_OFF:"high_mps_off",USER_PROFILE_API_FAILED:"user_profile_api_failed",PASS_THREAD_CONTROL:"pass_thread_control",REQUEST_THREAD_CONTROL:"request_thread_control",TAKE_THREAD_CONTROL:"take_thread_control",HOP_MOVE_TO_BACKGROUND:"hop_move_to_background",HOP_BACKGROUND_DELTATHREADFOLDER_OBSERVED:"hop_background_deltathreadfolder_observed",ADD_APP_ROLE_SUCCESS:"add_app_role_success",ADD_APP_ROLE_FAILURE:"add_app_role_failure",SET_APP_ROLE_SUCCESS:"set_app_role_success",SET_APP_ROLE_FAILURE:"set_app_role_failure",RECEIVE_MESSAGE_WITH_TEXT:"receive_message_with_text",RECEIVE_MESSAGE_WITH_IMAGE:"receive_message_with_image",RECEIVE_MESSAGE_WITH_VIDEO:"receive_message_with_video",RECEIVE_MESSAGE_WITH_AUDIO:"receive_message_with_audio",RECEIVE_MESSAGE_WITH_FILE:"receive_message_with_file",RECEIVE_MESSAGE_WITH_ATTACHMENT:"receive_message_with_attachment",PAGE_PROMETHEUS_STATUS_NOTIFICATION:"page_prometheus_status_notification",GEN_CALL:"gen_call",DUPLICATE_CALL:"duplicate_call",ERROR:"error",APP_ID_FETCH_FAILURE:"app_id_fetch_failure",GEN_SHIPMENT_ENT:"gen_shipment_ent",GEN_SHIPMENT_TRACKING_ENT:"gen_shipment_tracking_ent",SHIPMENT_NOTIFICATION_READY:"shipment_notification_ready",SHIPMENT_NOTIFICATION_SENT:"shipment_notification_sent",SHIPMENT_NOTIF_READY:"shipment_notif_ready",SHIPMENT_NOTIF_SENT:"shipment_notif_sent",ETA_NOTIF_READY:"eta_notif_ready",ETA_NOTIF_SENT:"eta_notif_sent",DELIVERED_NOTIF_READY:"delivered_notif_ready",DELIVERED_NOTIF_SENT:"delivered_notif_sent",OUT_FOR_DELIVERY_NOTIF_READY:"out_for_delivery_notif_ready",OUT_FOR_DELIVERY_NOTIF_SENT:"out_for_delivery_notif_sent",DELAYED_NOTIF_READY:"delayed_notif_ready",DELAYED_NOTIF_SENT:"delayed_notif_sent",IN_TRANSIT_NOTIF_READY:"in_transit_notif_ready",IN_TRANSIT_NOTIF_SENT:"in_transit_notif_sent",ASYNC_EXECUTION:"async_execution",ASYNC_SCHEDULE:"async_schedule",ASYNC_THROTTLE:"async_throttle",ASYNC_USER_ACCOUNT_DISABLED:"async_user_account_disabled",ASYNC_GEN_DATA_ERROR:"async_gen_data_error",TRACKING_SHUTDOWN_WITH_EXCEPTION_ERROR:"tracking_shutdown_with_exception",TRACKING_SHUTDOWN_WITH_RETRY_ERROR:"tracking_shutdown_with_retry",DELIVERED_STATS:"delivered_stats",USER_LINKED:"user_linked",USER_LINK_FAILED:"user_link_failed",USER_TOKEN_DECRYPTION_FAILED:"user_token_decryption_failed",USER_TOKEN_DELIVERY_ATTEMPT:"user_token_delivery_attempt",USER_TOKEN_DELIVERED:"user_token_delivered",USER_TOKEN_DELIVERY_FAILED:"user_token_delivery_failed",USER_TOKEN_CRITICAL_LOOKUP:"user_token_critical_lookup",USER_TOKEN_LOOKUP_FAILED:"user_token_lookup_failed",USER_UNLINKED:"user_unlinked",USER_UNLINK_FAILED:"user_unlink_failed",USER_UNLINK_BUSINESS_NOTIFIED:"user_unlink_business_notified",USER_UNLINK_BUSINESS_NOTIFICATION_FAILED:"user_unlink_business_notification_failed",PLATFORM_PLUGIN_PAGE_APP_ID_MISMATCH:"platform_plugin_page_app_id_mismatch",RESET_MESSAGING_WINDOW_SUCCESS:"reset_messaging_window_success",RESET_MESSAGING_WINDOW_FAILURE:"reset_messaging_window_failure",SEND_TO_MESSENGER_RENDERED:"send_to_messenger_rendered",SEND_TO_MESSENGER_CLICKED:"send_to_messenger_clicked",SEND_TO_MESSENGER_OPT_IN:"send_to_messenger_opt_in",SEND_TO_MESSENGER_ID_DELIVERY_FAILURE:"send_to_messenger_id_delivery_failure",SEND_TO_MESSENGER_UNSUPPORTED_APP:"send_to_messenger_unsupported_app",SEND_TO_MESSENGER_ERROR:"send_to_messenger_error",MESSAGE_US_RENDERED:"message_us_rendered",MESSAGE_US_CLICKED:"message_us_clicked",MESSAGE_US_ERROR:"message_us_error",MESSENGER_PRECHECKED_ERROR:"messenger_prechecked_error",MESSENGER_PRECHECKED_RENDERED:"messenger_prechecked_rendered",MESSENGER_PRECHECKED_HIDDEN:"messenger_prechecked_hidden",MESSENGER_PRECHECKED_LOGIN:"messenger_prechecked_login",MESSENGER_PRECHECKED_NOTYOU:"messenger_prechecked_notyou",MESSENGER_PRECHECKED_CHECKED:"messenger_prechecked_checked",MESSENGER_PRECHECKED_UNCHECKED:"messenger_prechecked_unchecked",MESSENGER_PRECHECKED_RENDERED_OUT_OF_VIEW:"messenger_prechecked_rendered_out_of_view",MESSENGER_PRECHECKED_CHECKED_OUT_OF_VIEW:"messenger_prechecked_checked_out_of_view",MESSENGER_PRECHECKED_CHECKED_BY_DEFAULT:"messenger_prechecked_checked_by_default",MESSENGER_PRECHECKED_PIXEL_ERROR:"messenger_prechecked_pixel_error",MESSENGER_PRECHECKED_PIXEL_INVALID_APP_ID:"messenger_prechecked_pixel_invalid_app_id",MESSENGER_PRECHECKED_PIXEL_NO_APP_SUBSCRIPTION:"messenger_prechecked_pixel_no_app_subscription",MESSENGER_PRECHECKED_PIXEL_ENT_NOT_FOUND:"messenger_prechecked_pixel_ent_not_found",MESSENGER_PRECHECKED_PIXEL_USER_MISMATCH:"messenger_prechecked_pixel_user_mismatch",MESSENGER_PRECHECKED_PIXEL_INVALID_PLUGIN_STATE:"messenger_prechecked_pixel_invalid_plugin_state",MESSENGER_PRECHECKED_PIXEL_EVENT_SAVED:"messenger_prechecked_pixel_event_saved",MESSENGER_PRECHECKED_PIXEL_WEBHOOK_EVENT_SENT:"messenger_prechecked_pixel_webhook_event_sent",MESSENGER_PRECHECKED_API_ENT_NOT_FOUND:"messenger_prechecked_api_ent_not_found",MESSENGER_PRECHECKED_API_INVALID_USER_ID:"messenger_prechecked_api_invalid_user_id",MESSENGER_PRECHECKED_API_INVALID_PLUGIN_STATE:"messenger_prechecked_api_invalid_plugin_state",MESSENGER_PRECHECKED_API_PIXEL_NOT_FIRED:"messenger_prechecked_api_pixel_not_fired",MESSENGER_PRECHECKED_API_USER_MATCH_SUCCEEDED:"messenger_prechecked_api_user_match_succeeded",MESSENGER_PRECHECKED_API_ADMIN_MESSAGE_SENT:"messenger_prechecked_api_admin_message_sent",MESSENGER_PRECHECKED_API_ERROR:"messenger_prechecked_api_error",PLUGIN_ID_MATCH_INITIATED:"plugin_id_match_initiated",PLUGIN_ID_MATCH_FAILED:"plugin_id_match_failed",PLUGIN_ID_MATCH_NO_LOGGED_IN_USER:"plugin_id_match_no_logged_in_user",PLUGIN_ID_MATCH_HAS_NAME_MATCH:"plugin_id_match_has_name_match",PLUGIN_ID_MATCH_NO_NAME_MATCH:"plugin_id_match_no_name_match",PLUGIN_ID_MATCH_HAS_EMAIL_MATCH:"plugin_id_match_has_email_match",PLUGIN_ID_MATCH_NO_EMAIL_MATCH:"plugin_id_match_no_email_match",PLUGIN_ID_MATCH_HAS_MATCH:"plugin_id_match_has_match",PLUGIN_ID_MATCH_NO_MATCH:"plugin_id_match_no_match",PLUGIN_ID_MATCH_ERROR:"plugin_id_match_error",ECOMMERCE_OPT_IN:"ecommerce_opt_in",ECOMMERCE_OPT_IN_EVENT_DELIVERED:"ecommerce_opt_in_event_delivered",ECOMMERCE_OPT_OUT:"ecommerce_opt_out",ECOMMERCE_OPT_OUT_EVENT_DELIVERED:"ecommerce_opt_out_event_delivered",ECOMMERCE_ERROR:"ecommerce_error",AUTH_MUTATION_SUCCEEDED:"auth_mutation_succeeded",AUTH_MUTATION_ERROR:"auth_mutation_error",AUTH_MUTATION_NEW_MODEL_ATTEMPT:"auth_mutation_new_model_attempt",AUTH_BITMASK_MUTATION_SUCCEEDED:"auth_bitmask_mutation_succeeded",AUTH_BITMASK_MUTATION_ERROR:"auth_bitmask_mutation_error",PERMISSIONS_DOUBLE_WRITE_SUCCEEDED:"permissions_double_write_succeeded",PERMISSIONS_DOUBLE_WRITE_ERROR:"permissions_double_write_error",CTA_RESET_24HR_WINDOW_SUCCESS:"cta_reset_24hr_window_success",CTA_RESET_24HR_WINDOW_FAILURE:"cta_reset_24hr_window_failure",THREAD_DELETION_REVOKE_SUCCESS:"thread_deletion_revoke_success",COMMERCE_TOKEN_CONVERSION_REQUESTED:"commerce_token_conversion_requested",COMMERCE_TOKEN_CONVERSION_INVALID_TOKEN:"commerce_token_conversion_invalid_token",COMMERCE_TOKEN_CONVERSION_USER_NOT_LINKED:"commerce_token_conversion_user_not_linked",COMMERCE_TOKEN_CONVERSION_NO_THREAD:"commerce_token_conversion_no_thread",COMMERCE_TOKEN_CONVERSION_PSID_GENEREATED:"commerce_token_conversion_psid_genereated",COMMERCE_TOKEN_CONVERSION_FAILURE:"commerce_token_conversion_failure",EXTENSIONS_DRAWER_LIST_ADD_REQUEST:"extensions_drawer_list_add_request",EXTENSIONS_DRAWER_LIST_ADD_SUCCESS:"extensions_drawer_list_add_success",EXTENSIONS_DRAWER_LIST_FETCH_FAILED:"extensions_drawer_list_fetch_failed",EXTENSIONS_DRAWER_LIST_FETCH_REQUEST:"extensions_drawer_list_fetch_request",EXTENSIONS_DRAWER_LIST_FETCH_SUCCESS:"extensions_drawer_list_fetch_succes",EXTENSIONS_DRAWER_DELTA_SEND_IGNORED:"extensions_drawer_delta_send_ignored",EXTENSIONS_DRAWER_DELTA_SEND_FAILED:"extensions_drawer_delta_send_failed",EXTENSIONS_DRAWER_DELTA_SEND_REQUEST:"extensions_drawer_delta_send_request",EXTENSIONS_DRAWER_DELTA_SEND_SUCCESS:"extensions_drawer_delta_send_success",PLUGIN_CLIENT_RENDERED:"plugin_client_rendered",PLUGIN_RENDERED:"plugin_rendered",PLUGIN_HIDDEN_ALREADY_LINKED:"plugin_hidden_already_linked",PLUGIN_BLOCKED:"plugin_blocked",PLUGIN_UPDATES_DISALLOWED:"plugin_updates_disallowed",PLUGIN_UPDATES_REALLOWED:"plugin_updates_reallowed",PLUGIN_ASSOC_MUTATE_FAILED:"plugin_assoc_mutate_failed",PLUGIN_ASSOC_READ_FAILED:"plugin_assoc_read_failed",PLUGIN_MESSAGE_US_CLICK:"plugin_message_us_click",LAST_DIGITS_PLUGIN_ERROR_PARSING_MESSAGE:"last_digits_plugin_error_parsing_message",LAST_DIGITS_PLUGIN_ERROR_UNAUTHORIZED_DOMAIN:"last_digits_plugin_error_unauthorized_domain",LAST_DIGITS_PLUGIN_VERIFICATION_RESULT:"last_digits_plugin_verification_result",LAST_DIGITS_PLUGIN_MESSAGE_RECEIVED:"last_digits_plugin_message_received",LAST_DIGITS_PLUGIN_MESSAGE_POSTED:"last_digits_plugin_message_posted",SIMPLE_LINK_PLUGIN_IMPRESSION:"simple_link_plugin_impression",SIMPLE_LINK_PLUGIN_UNCHECKED:"simple_link_plugin_unchecked",SIMPLE_LINK_PLUGIN_LINKED:"simple_link_plugin_linked",ORDER_CANCELLED:"order_cancelled",ORDER_CANCELLATION_FAILED:"order_cancellation_failed",SEND_BLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_block_all_log_message_exception",SEND_UNBLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_unblock_all_log_message_exception",DIALOG_OPENED:"dialog_opened",DIALOG_CLOSED:"dialog_closed",DIALOG_LOAD_ERROR:"dialog_load_error",DIALOG_LOAD_SUCCESS:"dialog_load_success",PLATFORM_SUBSCRIPTION_LAST_USER_SENT_MESSAGE_UPDATED:"platform_subscription_last_user_sent_message_updated",PLATFORM_SUBSCRIPTION_EXTRA_MESSAGE_COUNT_UPDATED:"platform_subscription_extra_message_count_updated",PLATFORM_SUBSCRIPTION_STATE_MUTATION_FAILED:"platform_subscription_state_mutation_failed",PLATFORM_SUBSCRIPTION_ASSOC_NOT_FOUND:"platform_subscription_assoc_not_found",PLATFORM_SUBSCRIPTION_MESSAGE_WITHIN_ONE_DAY:"platform_subscription_message_within_one_day",PLATFORM_SUBSCRIPTION_WHITELISTED_TEMPLATE:"platform_subscription_whitelisted_template",PLATFORM_SUBSCRIPTION_PERMISSION_CHECK:"platform_subscription_permission_check",PLATFORM_SUBSCRIPTION_ACTION_SUCCESS:"platform_subscription_action_success",PLATFORM_SUBSCRIPTION_ACTION_FAILURE:"platform_subscription_action_failure",MESSAGE_LIMIT_ASSOC_UPDATED:"message_limit_assoc_updated",MESSAGE_LIMIT_SV_READ_ERROR:"message_limit_sv_read_error",PLATFORM_TAGS_SUCCESS:"platform_tags_success",PLATFORM_TAGS_FAILURE:"platform_tags_failure",PLATFORM_TAGS_BAD_PAGE:"platform_tags_bad_page",PLATFORM_TAG_FORM_SUBMISSION_SUCCESS:"platform_tag_form_submission_success",PLATFORM_TAG_FORM_SUBMISSION_FAILURE:"platform_tag_form_submission_failure",PLATFORM_TAG_SUBMISSION_UPDATE_SUCCESS:"platform_tag_submission_update_success",PLATFORM_TAG_SUBMISSION_UPDATE_FAILURE:"platform_tag_submission_update_failure",PLATFORM_TAG_REQUEST_WEEKLY_EMAIL_SEND_SUCCESS:"platform_tag_request_weekly_email_send_success",PLATFORM_TAG_REQUEST_WEEKLY_EMAIL_SEND_FAILURE:"platform_tag_request_weekly_email_send_failure",QR_CODES_API_CALL:"qr_codes_api_call",QR_CODES_API_SUCCESS:"qr_codes_api_success",QR_CODES_API_FAILURE:"qr_codes_api_failure",QR_CODES_API_STANDARD_WITH_REF:"qr_codes_api_standard_with_ref",QR_CODES_API_STANDARD_WITHOUT_REF:"qr_codes_api_standard_without_ref",QR_CODES_NEW_GRAPHQL_ATTEMPT:"qr_codes_new_graphql_attempt",QR_CODES_NEW_GRAPHQL_INVALID_HASH:"qr_codes_new_graphql_invalid_hash",QR_CODES_NEW_GRAPHQL_LEGACY_CODE_SUCCESS:"qr_codes_new_graphql_legacy_code_success",QR_CODES_NEW_GRAPHQL_PARAMETRIC_CODE_SUCCESS:"qr_codes_new_graphql_parametric_code_success",QR_CODES_NEW_GRAPHQL_EXCEPTION:"qr_codes_new_graphql_exception",QR_CODES_LEGACY_GRAPHQL_ATTEMPT:"qr_codes_legacy_graphql_attempt",QR_CODES_LEGACY_GRAPHQL_SUCCESS:"qr_codes_legacy_graphql_success",QR_CODES_LEGACY_GRAPHQL_EXCEPTION:"qr_codes_legacy_graphql_exception",QR_CODES_LEGACY_GRAPHQL_INVALID_HASH:"qr_codes_legacy_graphql_invalid_hash",QR_CODES_LEGACY_GRAPHQL_FALLBACK_LOGIC:"qr_codes_legacy_graphql_fallback_logic",NOT_YOU_CLICKED:"not_you_clicked",PRODUCT_SUBSCRIPTION_CLICKED:"product_subscription_clicked",RECEIPTS:"receipts",CANCELLATIONS:"cancellations",SHIPMENTS:"shipments",NOW_IN_STOCK:"nowinstock",NOTIFY_ME:"notifyme",PROMOTIONAL_MESSAGE:"promotionalmessage",RETAIL_CANCELLATIONS:"retailcancellations",RETAIL_RECEIPTS:"retailreceipts",UPDATE_RECEIPTS:"updatereceipts",RETAIL_SHIPMENTS:"retailshipments",RETAIL_UPDATE_RECEIPTS:"retailupdatereceipts",AIRLINE_ITINERARY:"airlineitinerary",AIRLINE_REMINDER:"airlinereminder",AIRLINE_CHECKIN:"airlinecheckin",AIRLINE_UPDATE:"airlineupdate",AIRLINE_BOARDINGPASS:"airlineboardingpass",BILL_PAYMENT_REQUEST:"billpaymentrequest",SIMPLE_LINK_WITH_STATE:"simplelinkwithstate",BUSINESS_MESSAGE:"businessmessage",MARK_SPAM:"spam",ACCOUNT_UNLINK_SUCCESS:"account_unlink_success",ACCOUNT_UNLINK_FAILURE:"account_unlink_failure",ACCOUNT_UNLINK_UNKNOWN_FAILURE:"account_unlink_unknown_failure",ACCOUNT_UNLINK_FORCE_FAILURE:"account_unlink_force_failure",ACCOUNT_UNLINK_NO_WEBHOOK_SUBSCRIPTION:"account_unlink_no_webhook_subscription",ACCOUNT_LINK_SUCCESS:"account_link_success",ACCOUNT_LINK_FAILURE:"account_link_failure",ACCOUNT_LINK_NO_WEBHOOK_SUBSCRIPTION:"account_link_no_webhook_subscription",ACCOUNT_LINK_UNKNOWN_FAILURE:"account_link_unknown_failure",ACCOUNT_LINK_NO_AUTHORIZATION_CODE:"account_link_no_authorization_code",ACCOUNT_LINK_INVALID_NONCE:"account_link_invalid_nonce",ACCOUNT_LINKING_URL_DELETE_FAILED:"account_linking_url_delete_failed",ACCOUNT_LINKING_TOKEN_CREATED:"account_linking_token_created",ACCOUNT_LINK_REDIRECT_REQUEST:"account_link_redirect_request",ACCOUNT_LINK_FB_COOKIE_NOT_SET:"account_link_fb_cookie_not_set",ACCOUNT_LINK_INVALID_VIEWER_CONTEXT:"account_link_invalid_viewer_context",ACCOUNT_LINK_URI_GEN_INPROGRESS:"account_link_uri_gen_inprogress",ACCOUNT_LINK_URI_GEN_START:"account_link_uri_gen_start",ACCOUNT_LINK_URI_GEN_END:"account_link_uri_gen_end",ACCOUNT_LINK_NULL_URI:"account_link_null_uri",ACCOUNT_LINK_URI_ADD_FAILED:"account_link_uri_add_failed",ACCOUNT_LINK_USER_ID_MISMATCH:"account_link_user_id_mismatch",PROMOTION_CREATION_ATTEMPTED:"promotion_creation_attempted",PROMOTION_ENT_CREATED:"promotion_ent_created",PROMOTION_SCHEDULED:"promotion_scheduled",PROMOTION_KILLED:"promotion_killed",PROMOTION_USER_ATTEMPTED:"promotion_user_attempted",PROMOTION_USER_GK_FAILED:"promotion_user_gk_failed",PROMOTION_USER_GK_PASSED:"promotion_user_gk_passed",PROMOTION_USER_ALREADY_LINKED:"promotion_user_already_linked",PROMOTION_USER_NOT_LINKED:"promotion_user_not_linked",PROMOTION_USER_PREVIOUSLY_UNLINKED:"promotion_user_previously_unlinked",PROMOTION_USER_BLOCKED_PROMOTION:"promotion_user_blocked_promotion",PROMOTION_USER_SEND_MESSAGE_EXCEPTION:"promotion_user_send_message_exception",PROMOTION_ATOMIC_MESSAGE_SENT:"promotion_atomic_message_sent",PROMOTION_LOG_MESSAGE_SENT:"promotion_log_message_sent",PROMOTION_ROBOTEXT_SENT:"promotion_robotext_sent",PROMOTION_ATTACHMENT_SENT:"promotion_attachment_sent",PROMOTION_ASYNC_JOB_ERROR:"promotion_async_job_error",REF_SEND_SUCCESS:"referral_send_success",REF_SEND_FAILURE:"referral_send_failure",REF_SEND_INVALID_AUTH_STATE:"referral_send_invalid_auth_state",USER_CONTROL_BLOCKED_ALL:"user_control_blocked_all",USER_CONTROL_BLOCKED_PROMOTION:"user_control_blocked_promotion",USER_CONTROL_UNBLOCKED_ALL:"user_control_unblocked_all",USER_CONTROL_UNBLOCKED_PROMOTION:"user_control_unblocked_promotion",USER_CONTROL_SUBSCRIBE_SUCCESS:"user_control_subscribe_success",USER_CONTROL_SUBSCRIBE_FAILURE:"user_control_subscribe_failure",USER_CONTROL_UNSUBSCRIBE_SUCCESS:"user_control_unsubscribe_success",USER_CONTROL_UNSUBSCRIBE_FAILURE:"user_control_unsubscribe_failure",USER_CONTROL_REPORT_AD:"user_control_report_ad",USER_CONTROL_REPORT_OTHER_ABUSE:"user_control_report_other_abuse",ACCEPT_MESSAGE_REQUEST_ACTION:"accept_message_request",IGNORE_MESSAGE_REQUEST_ACTION:"ignore_message_request",PLATFORM_REPORT_FAILURE:"platform_report_failure",PLATFORM_REPORT_SUCCEEDED:"platform_report_succeeded",PLATFORM_REPORT_ADMIN_MSG_SENT:"platform_report_admin_msg_sent",PLATFORM_REPORT_PAGE_BLOCKED:"platform_report_page_blocked",PLATFORM_REPORT_PAGE_REPORT_FAILURE:"platform_report_page_report_failure",M_SUGGESTION_CALL:"m_suggestion_call",M_SUGGESTION_ENT_CREATED:"m_suggestion_ent_created",M_SUGGESTION_LINK_IF_NECESSARY:"m_suggestion_link_if_necessary",M_SUGGESTION_SEND_MESSAGE:"m_suggestion_send_message",GEN_CANCELLATION_ENT:"gen_cancellation_ent",CANCELLATION_NOTIFICATION_READY:"cancellation_notification_ready",CANCELLATION_NOTIFICATION_SENT:"cancellation_notification_sent",LIVECHAT_HISTORY_USER_FETCH_FAILURE:"livechat_history_user_fetch_failure",LIVECHAT_HISTORY_PAGE_FETCH_FAILURE:"livechat_history_page_fetch_failure",LIVECHAT_HISTORY_API_SUCCESS:"livechat_history_api_success",LIVECHAT_HISTORY_API_FAILURE:"livechat_history_api_failure",ECOMMERCE_EVENT_CALL:"ecommerce_event_call",ECOMMERCE_EVENT_DATA_VALIDATED:"ecommerce_event_data_validated",ECOMMERCE_EVENT_SECURITY_CHECKED:"ecommerce_event_security_checked",ECOMMERCE_EVENT_MESSAGE_SENT:"ecommerce_event_message_sent",ECOMMERCE_EVENT_INVALID_SENDER:"ecommerce_event_invalid_sender",ECOMMERCE_EVENT_MULTIPLE_WELCOME_MESSAGE_NOT_ALLOWED:"ecommerce_event_multiple_welcome_message_not_allowed",ECOMMERCE_EVENT_NO_OPT_IN:"ecommerce_event_no_opt_in",ECOMMERCE_EVENT_HANDLER_EXCEPTION:"ecommerce_event_handler_exception",PROMOTION_CTA_CLICKED:"promotion_cta_clicked",ACCESS_ENT_WITHOUT_MESSAGE_ID:"access_ent_without_message_id",ACCESS_ENT_WITH_WRONG_MESSAGE_ID:"access_ent_with_wrong_message_id",ACCESS_ENT_WITHOUT_CAN_SEE_SHARE_TOKEN:"access_ent_without_can_see_share_token",ACCESS_ENT_WITH_WRONG_SHARE_ID:"access_ent_with_wrong_share_id",ACCESS_ENT_WITH_GENIE_MSG_LOOP:"access_ent_with_genie_msg_loop",BOT_SHARE_MSG_SENT:"bot_share_msg_sent",PAGE_SHARE_MSG_SENT:"page_share_msg_sent",PAGE_SHARE_MSG_FAILURE:"page_share_msg_failure",ELEMENT_SHARE_MSG_SENT:"element_share_msg_sent",EXTENSIBLE_SHARE_MSG_SENT:"extensible_share_msg_sent",SUBSCRIPTION_SHARE_MSG_SENT:"subscription_share_msg_sent",ELEMENT_SHARE_MSG_FAILURE:"element_share_msg_failure",SUBSCRIPTION_SHARE_MSG_FAILURE:"subscription_share_msg_failure",ELEMENT_SHARE_ATTACHMENT_CREATION_FAILED:"element_share_attachment_creation_failed",ELEMENT_SHARE_GET_PAGE_LINK_FAILED:"element_share_get_page_link_failed",WEBVIEW_SHARE_ATTACHMENT_CREATION_FAILED:"webview_share_attachment_creation_failed",WEBVIEW_SHARE_MSG_FAILURE:"webview_share_msg_failure",WEBVIEW_SHARE_MSG_SENT:"webview_share_msg_sent",WEBVIEW_SHARE_NULL_PAGE_ID:"webview_share_with_null_page_id",WEBVIEW_SHARE_EMPTY_TITLE:"webview_share_with_empty_title",WEBVIEW_SHARE_INVALID_BUTTON_DATA:"webview_share_with_invalid_button_data",WEBVIEW_SHARE_URL_MISSING:"webview_share_without_url_data",PAGE_ATTACHMENT_FORWARDING:"page_attachment_forwarding",BOT_ATTACHMENT_FORWARDING:"bot_attachment_forwarding",MEDIA_ATTACHMENT_FORWARDING:"media_attachment_forwarding",BRANDED_CAMERA_EMPTY_BUTTON_TITLE:"branded_camera_empty_button_title",BRANDED_CAMERA_NULL_ATTACHMENT_ID:"branded_camera_null_attachment_id",BRANDED_CAMERA_SHARE_SENT:"branded_camera_share_sent",BRANDED_CAMERA_SHARE_FAILUER:"branded_camera_share_failure",BOT_REVIEW_CREATION:"bot_review_creation",BOT_REVIEW_UPDATE:"bot_review_update",BOT_REVIEW_DELETION:"bot_review_deletion",BOT_REVIEW_FAILURE:"bot_review_failure",BOT_REVIEW_DEVSITE_PAGE_SKIPPED:"bot_review_devsite_page_skipped",AGGREGATE_BOT_RATING_FETCH_FAILURE:"aggregate_bot_rating_fetch_failure",AGGREGATE_BOT_RATING_INC_FAILURE:"aggregate_bot_rating_inc_failure",AGGREGATE_BOT_RATING_INC_PERM_FAILURE:"aggregate_bot_rating_inc_perm_failure",INVALID_RATING:"invalid_rating",BOT_REVIEW_ADMIN_MSG_FAILURE:"bot_review_admin_msg_failure",BOT_REVIEW_NOTIF_FAILURE:"bot_review_notification_failure",BOT_REVIEW_NOTIF_INVALID_DB_DATA:"bot_review_notification_invalid_db_data",BOT_REVIEW_NOTIF_PAGE_REVIEW_GEN_FAILURE:"bot_review_notification_page_review_gen_failure",BOT_REVIEW_NOTIF_SEND_FAILURE:"bot_review_notification_send_failure",BOT_REVIEW_NOTIF_SEND_SUCCESS:"bot_review_notification_send_success",BOT_REVIEW_NOTIF_PAGE_SEND_FAILURE:"bot_review_notification_page_send_failure",LINK_CLICK:"link_click",POSTBACK_CLICKED:"postback_cta_clicked",POSTBACK_SUCCESS:"postback_cta_success",POSTBACK_NO_WEBHOOK_SUBSCRIPTION:"postback_no_webhook_subscription",POSTBACK_SEND_FAILED:"postback_send_failed",POSTBACK_FAILED:"postback_failed",POSTBACK_INVALID_IDS:"postback_invalid_ids",POSTBACK_DEBUG_EVENT:"postback_debug_event",COMPOSER_CTA_PAGE_GEN_FAILED:"composer_cta_page_gen_failed",COMPOSER_CTA_DOUBLE_TAPPED:"composer_cta_double_tapped",CTA_FETCH_THREAD_ID_FAILED:"cta_fetch_thread_id_failed",NULLSTATE_CTAS_DELETE_INITIATED:"nullstate_ctas_delete_initiated",NULLSTATE_CTAS_DELETE_FAILED:"nullstate_ctas_delete_failed",NULLSTATE_CTAS_UPDATE_INITIATED:"nullstate_ctas_update_initiated",NULLSTATE_CTAS_UPDATE_FAILED:"nullstate_ctas_update_failed",NULLSTATE_CTAS_ADDED:"nullstate_ctas_added",NULLSTATE_CTAS_UPDATED:"nullstate_ctas_updated",NULLSTATE_CTAS_DELETED:"nullstate_ctas_deleted",NULLSTATE_ATTACHMENT_CREATION_FAILED:"nullstate_attachment_creation_failed",STRUCTURED_MENU_CTAS_DELETE_INITIATED:"structured_menu_ctas_delete_initiated",STRUCTURED_MENU_CTAS_DELETE_FAILED:"structured_menu_ctas_delete_failed",STRUCTURED_MENU_CTAS_UPDATE_INITIATED:"structured_menu_ctas_update_initiated",STRUCTURED_MENU_CTAS_UPDATE_FAILED:"structured_menu_ctas_update_failed",STRUCTURED_MENU_CTAS_ADDED:"structured_menu_ctas_added",STRUCTURED_MENU_CTAS_UPDATED:"structured_menu_ctas_updated",STRUCTURED_MENU_CTAS_DELETED:"structured_menu_ctas_deleted",STRUCTURED_MENU_CTAS_MIGRATED:"structured_menu_ctas_migrated",STRUCTURED_MENU_CTAS_MIGRATION_FAILED:"structured_menu_ctas_migration_failed",V2_STRUCTURED_MENU_UPDATED:"v2_structured_menu_updated",V2_STRUCTURED_MENU_UPDATE_FAIL:"v2_structured_menu_update_fail",NULLSTATE_GREETING_UPDATE_INITIATED:"nullstate_greeting_update_initiated",NULLSTATE_GREETING_UPDATE_FAILED:"nullstate_greeting_update_failed",NULLSTATE_GREETING_DELETE_SUCCEEDED:"nullstate_greeting_delete_succeeded",NULLSTATE_GREETING_DELETE_FAILED:"nullstate_greeting_delete_failed",WHITELIST_DOMAIN_UPDATED:"whitelist_domain_updated",WHITELIST_DOMAIN_UPDATE_FAILED:"whitelist_domain_update_failed",PAYMENT_SETTING_UPDATED:"payment_setting_updated",PAYMENT_SETTING_UPDATE_FAILED:"payment_setting_update_failed",THREAD_SETTING_DELETE_FAILED:"thread_setting_delete_failed",PAYMENT_SETTING_DELETE_FAILED:"payment_setting_delete_failed",TARGET_AUDIENCE_UPDATE_FAILED:"target_audience_update_failed",TARGET_AUDIENCE_UPDATE_SUCCEEDED:"target_audience_update_succeeded",DEVX_GET_STARTED_RENDERED:"devx_get_started_rendered",DEVX_TOS_CARD_RENDERED:"devx_tos_card_rendered",DEVX_BOT_CREATION_STARTED:"devx_bot_creation_started",DEVX_BOT_CREATION_SUCCESS:"devx_bot_creation_success",DEVX_BOT_CREATION_FAIL:"devx_bot_creation_fail",DEVX_PAGE_TOKEN_CARD_RENDERED:"devx_page_token_card_rendered",DEVX_PAGE_TOKEN_CALLBACK:"devx_page_token_callback",DEVX_PAGE_TOKEN_CALLBACK_NO_PAGE:"devx_page_token_callback_no_page",DEVX_PAGE_TOKEN_CALLBACK_NO_PERMISSIONS:"devx_page_token_callback_no_permissions",DEVX_PAGE_TOKEN_GENERATED:"devx_page_token_generated",DEVX_FINITE_LENGTH_PAGE_TOKEN_GENERATED:"devx_finite_length_page_token_generated",DEVX_PAGE_TOKEN_CALLBACK_FAILED:"devx_page_token_callback_failed",DEVX_PAKE_TOKEN_POPUP_OPEN_FAILED:"devx_page_token_popup_open_failed",DEVX_UPSELL_CARD_RENDERED:"devx_upsell_card_rendered",DEVX_UPSELL_LEARN_MORE_CLICKED:"devx_upsell_learn_more_clicked",DEBUG_EVENT_FOR_SEND_MESSAGE:"debug_event_send_message",PARSE_USER_INFO_FAILURE:"parse_user_info_failure",QUICK_REPLY_FALLBACK:"quick_reply_fallback",QUICK_REPLY_DECODE_FAILED:"quick_reply_decode_failed",QUICK_REPLY_PAYLOAD_WITH_WRONG_IDS:"quick_rely_payload_with_wrong_ids",PAGE_MESSAGE_TOPICS:"page_message_topics",DELIVER_PAYMENT_TO_WEBHOOK_SUCCEED:"deliver_payment_to_webhook_succeed",DELIVER_PAYMENT_TO_WEBHOOK_FAILED:"deliver_payment_to_webhook_failed",BROADCAST_MESSAGES_API_SUCCESS:"broadcast_messages_api_success",BROADCAST_MESSAGES_API_FAILURE:"broadcast_messages_api_failure",MESSAGE_CREATIVE_API_FAILURE:"message_creative_api_failure",BROADCAST_REACH_ESTIMATION_API_SUCCESS:"broadcast_reach_estimation_api_success",BROADCAST_SEND_LATENCY:"broadcast_send_latency",BROADCAST_MESSAGE_FAILURE:"broadcast_message_failure",BROADCAST_MESSAGE_SUCCESS:"broadcast_message_success",CUSTOM_LABEL_API_FAILURE:"custom_label_api_failure",REACH_ESTIMATION_FAILURE:"reach_estimation_failure",REACH_ESTIMATION_SUCCESS:"reach_estimation_success",RETRIEVE_REACH_ESTIMATION_FAILURE:"retrieve_reach_estimation_failure",RETRIEVE_REACH_ESTIMATION_SUCCESS:"retrieve_reach_estimation_success",WRITE_BROADCAST_DELIVERY_COUNTER_TO_ENT_FAILURE:"write_broadcast_delivery_counter_to_ent_failure",BROADCAST_TO_WEAK_THREAD:"broadcast_to_weak_thread",TRANSLATE_DYNAMIC_TEXT_FAILURE:"translate_dynamic_text_failure",USER_MESSAGE_OBSERVER_FAILURE:"user_message_observer_failure",USER_HAS_REPLIED_MIGRATION_FAILURE:"user_has_replied_migration_failure",DELIVER_CHECKOUT_UPDATES_TO_WEBHOOK_SUCCEED:"deliver_checkout_updates_to_webhook_succeed",DELIVER_CHECKOUT_UPDATES_TO_WEBHOOK_FAILED:"deliver_checkout_updates_to_webhook_failed",PAYMENT_CHECKOUT_UPDATES_SUCCEED:"payment_checkout_updates_succeed",PAYMENT_CHECKOUT_UPDATES_FAILED:"payment_checkout_updates_failed",PAYMENT_CHARGE_CALL_SUCCEED:"payment_charge_call_succeed",PAYMENT_CHARGE_CALL_FAILED:"payment_charge_call_failed",PAYMENTS_WEB_FORM_SUCCESS:"payments_web_form_success",PAYMENTS_WEB_FORM_FAILURE:"payments_web_form_failure",PAYMENTS_WEB_FORM_APPROVED:"payments_web_form_approved",PAYMENTS_WEB_FORM_APPROVAL_FAILED:"payments_web_form_approval_failed",PAYMENTS_WEB_FORM_REQUEST_PROCESSED:"payments_web_form_request_processed",PAYMENTS_WEB_FORM_REQUEST_PROCESSING_FAILED:"payments_web_form_request_processing_failed",PAYMENTS_WEB_FORM_DEVELOPER_AGREEMENT_SENT:"payments_web_form_developer_agreement_sent",PAYMENTS_WEB_FORM_AGREEMENT_EMAIL_SENT:"payments_web_agreement_email_sent",SEARCH_POST_RANK_FAILED:"search_post_rank_failed",SEARCH_EXISTING_THREADS_FAILED:"search_existing_threads_failed",GAME_PLAY_NO_WEBHOOK_SUBSCRIPTION:"game_play_no_webhook_subscription",GAME_PLAY_PERMISSION_NOT_GRANTED:"game_play_permission_not_granted",GAME_PLAY_WEBHOOK_FAILURE:"game_play_webhook_failure",GAME_PLAY_WEBHOOK_SUCCESS:"game_play_webhook_success",GAME_POLICY_ACCESS_DENIED:"game_policy_access_denied",GAME_POLICY_ACCESS_GRANTED:"game_policy_access_granted",GAME_POLICY_ACCESS_VIOLATION:"game_policy_access_violation",GAME_POLICY_DEBUG:"game_policy_debug",GAME_USER_TURN_OFF_UPDATES:"game_user_turn_off_updates",MESSENGER_PROFILE_DELETE_SUCCESS:"messenger_profile_delete_success",MESSENGER_PROFILE_DELETE_FAILURE:"messenger_profile_delete_failure",MESSENGER_PROFILE_INVALID_DATA:"messenger_profile_invalid_data",MESSENGER_PROFILE_UPDATE_SUCCESS:"messenger_profile_update_success",MESSENGER_PROFILE_UPDATE_FAILURE:"messenger_profile_update_failure",MESSENGER_PROFILE_HOME_URL_UPDATE_SUCCESS:"messenger_profile_home_url_update_success",MESSENGER_PROFILE_HOME_URL_UPDATE_FAILURE:"messenger_profile_home_url_update_failure",MESSENGER_PROFILE_HOME_URL_GET_SUCCESS:"messenger_profile_home_url_get_success",MESSENGER_PROFILE_HOME_URL_GET_FAILURE:"messenger_profile_home_url_get_failure",MESSENGER_PROFILE_HOME_URL_DELETE_SUCCESS:"messenger_profile_home_url_delete_success",MESSENGER_PROFILE_DUPLICATE_REQUEST:"messenger_profile_duplicate_request",MN_PLATFORM_THREAD_CONTEXT_SUCCESS:"mn_platform_thread_context_success",MN_PLATFORM_THREAD_CONTEXT_FAILED:"mn_platform_thread_context_failed",MESSENGER_EXTENSIONS_GET_CONTEXT_SUCCESS:"messenger_extensions_get_context_success",MESSENGER_EXTENSIONS_GET_CONTEXT_FAILURE:"messenger_extensions_get_context_failure",MESSENGER_BOT_BLOCK_FEATURE_SUCCESS:"messenger_bot_block_feature_success",MESSENGER_BOT_BLOCK_FEATURE_FAILURE:"messenger_bot_block_feature_failure",MESSENGER_BOT_UNBLOCK_FEATURE_SUCCESS:"messenger_bot_unblock_feature_success",MESSENGER_BOT_UNBLOCK_FEATURE_FAILURE:"messenger_bot_unblock_feature_failure",MESSENGER_BOT_SPAM_WARNING_SUCCESS:"messenger_bot_spam_warning_success",MESSENGER_BOT_SPAM_WARNING_FAILURE:"messenger_bot_spam_warning_failure",MEDIA_ATTACHMENT_PREVIEW_FAILED:"media_preview_failed",PAGE_SETTINGS_MESSENGER_PLATFORM_VIEWED:"page_settings_messenger_platform_viewed",PAGE_SETTINGS_MESSENGER_REVIEWS_VIEWED:"page_settings_messenger_reviews_viewed",SPONSORED_MESSAGE_ADS_CREATE_REQUEST:"sponsored_message_ads_create_request",SPONSORED_MESSAGE_ADS_CREATE_SUCCESS:"sponsored_message_ads_create_success",SPONSORED_MESSAGE_ADS_CREATE_FAILURE:"sponsored_message_ads_create_failure",BUSINESS_TOOLS_BROADCAST_SUCCESS:"business_tools_broadcast_success",BUSINESS_TOOLS_BROADCAST_FAILURE:"business_tools_broadcast_failure",PAGE_MESSAGING_NEW_CONNECTION:"page_messaging_new_connection",BOM_PRIVACY_PASS:"bom_privacy_pass",INTERNAL_BOT_MESSAGE_SEND_SUCCESS:"internal_bot_message_send_success",INTERNAL_BOT_MESSAGE_SEND_FAILURE:"internal_bot_message_send_failure",WEBHOOK_EVENT_SEND_SUCCESS:"webhook_event_send_success",WEBHOOK_EVENT_SEND_FAILURE:"webhook_event_send_failure"})}),null);
__d("MNCommerceLoggingConstants",[],(function a(b,c,d,e,f,g){var h={DIALOG_SURFACE:{CHECKOUT_ORDER_CONFIG:"checkout_order_config",SHIPMENT:"shipment",RECEIPT:"receipt",UNLINK:"unlink",UNLINK_ERROR:"unlink_error",MANAGE:"manage"}};f.exports=h}),null);
__d("MNCommerceUnlinkDialog.react",["fbt","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("Cancel"),n=h._("Turn Off");return c("React").createElement(c("MNCommerceDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown},c("React").createElement(c("MNCommerceDialogTitle.react"),{showCloseButton:false},h._("Unlink account?")),c("React").createElement(c("MNCommerceDialogBody.react"),null,c("React").createElement("div",null,h._("You can turn off updates if you didn't sign up or just don't want to get them anymore."))),c("React").createElement(c("MNCommerceDialogFooter.react"),null,c("React").createElement(c("MNCommerceButton.react"),{label:m,onClick:this.props.onCancelButtonClick,use:"default"}),c("React").createElement(c("MNCommerceButton.react"),{label:n,onClick:this.props.onTurnOffButtonClick,use:"confirm"})))};function l(){i.apply(this,arguments)}l.propTypes={onCancelButtonClick:k.func,onTurnOffButtonClick:k.func};f.exports=l}),null);
__d("MNCommerceUnlinkErrorDialog.react",["fbt","MNCommerceAttachmentConstants","MNCommerceErrors","React","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("OK"),n=null,o=null;switch(this.props.errorType){case c("MNCommerceErrors").ALREADY_UNLINKED:o=c("React").createElement("div",null,h._("Updates Are Already Off"));n=c("React").createElement("div",null,h._("You aren't getting updates in Messenger."));break;default:o=c("React").createElement("div",null,h._("Couldn't Turn Off Updates"));n=c("React").createElement("div",null,h._("Sorry, something went wrong. Please try again."));break}return c("React").createElement(c("MNCommerceDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,width:c("MNCommerceAttachmentConstants").UNLINK_ERROR_DIALOG.WIDTH},c("React").createElement(c("MNCommerceDialogTitle.react"),null,o),c("React").createElement(c("MNCommerceDialogBody.react"),null,n),c("React").createElement(c("MNCommerceDialogFooter.react"),null,c("React").createElement(c("MNCommerceButton.react"),{label:m,onClick:this.props.onOkayButtonClick,use:"confirm"})))};function l(){i.apply(this,arguments)}l.propTypes={errorType:k.number,onOkayButtonClick:k.func};f.exports=l}),null);
__d("MNCommerceUnlinkDialogContainer.react",["BanzaiLogger","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceUnlinkDialog.react","MNCommerceUnlinkErrorDialog.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$MNCommerceUnlinkDialogContainer1=function(p){if(!p)this.$MNCommerceUnlinkDialogContainer2()}.bind(this),this.$MNCommerceUnlinkDialogContainer2=function(){c("MNCommerceDialogStateActions").hideDialog()},l}j.prototype.render=function(){var k=c("MNCommerceDialogStateStore").getState();if(k&&k.errorType){c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK_ERROR})});return c("React").createElement(c("MNCommerceUnlinkErrorDialog.react"),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,errorType:k.errorType,onOkayButtonClick:this.$MNCommerceUnlinkDialogContainer2})}else{c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK})});return c("React").createElement(c("MNCommerceUnlinkDialog.react"),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,onCancelButtonClick:this.$MNCommerceUnlinkDialogContainer2,onTurnOffButtonClick:k&&k.onTurnOffButtonClick})}};f.exports=j}),null);
__d("XMNCommerceUnlinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/messages/commerce/unlink/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}})}),null);
__d("MNCommerceUnlinkDataManager",["AsyncRequest","MNCommerceDialogStateActions","MNCommerceUnlinkDialogContainer.react","XMNCommerceUnlinkController"],(function a(b,c,d,e,f,g){"use strict";h.prototype.unlink=function(i,j){var k=c("XMNCommerceUnlinkController").getURIBuilder().setString("page_id",i).setString("user_id",j).getURI();new(c("AsyncRequest"))().setURI(k).setErrorHandler(this.$MNCommerceUnlinkDataManager1).send()};h.prototype.$MNCommerceUnlinkDataManager1=function(i){c("MNCommerceDialogStateActions").showDialog(c("MNCommerceUnlinkDialogContainer.react"),{errorType:i.error})};function h(){}f.exports=new h()}),null);
__d("MNCommerceLogMessageUtils",["cx","fbt","invariant","BanzaiLogger","Link.react","MercuryIDs","MercuryThreads","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceDialogStateActions","MNCommerceReplyTypes","MNCommercePromotionBlockDataManager","MNCommercePromotionManageBlockDialogContainer.react","MNCommerceUnlinkDataManager","MNCommerceUnlinkDialogContainer.react","React","gkx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("MercuryThreads").get();l.prototype.isCommercePageAdminMessage=function(m){return!!(m&&m.log_message_data&&(m.log_message_data.replyType===c("MNCommerceReplyTypes").COMMERCE_LINK||m.log_message_data.replyType===c("MNCommerceReplyTypes").COMMERCE_UNLINK))};l.prototype.getCommercePageManage=function(m,n){__p&&__p();var o=null;if(c("gkx")("AT7IUpMNCDwRhHRxDzBLrJpPbYE8uTJ1DeVPi7kI4P6d1kkPlaoUvVQ4PD7tRb3ytv8Qfy0k-XTjn2GSfPmPRWCn")){var p=function p(){var r=c("MercuryIDs").getUserIDFromParticipantID(m.author),s=function s(r,t){return c("MNCommercePromotionBlockDataManager").block(r,t)};c("MNCommerceDialogStateActions").showDialog(c("MNCommercePromotionManageBlockDialogContainer.react"),{pageID:r,onConfirmButtonClick:s});c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.MANAGE})})};o=c("React").createElement(c("Link.react"),{className:(!n?"_2w2m":"")+(n?" _1jvn":""),onClick:p},i._("Manage"))}else if(m.log_message_data.replyType===c("MNCommerceReplyTypes").COMMERCE_LINK){var q=function q(){__p&&__p();var r=c("MercuryIDs").getUserIDFromParticipantID(m.author),s=k.getThreadMetaNow(m.thread_id);s||j(0);var t=null;s.participants.every(function(v){if(v!==m.author){t=c("MercuryIDs").getUserIDFromParticipantID(v);return false}return true});var u=function u(){c("MNCommerceDialogStateActions").hideDialog();c("MNCommerceUnlinkDataManager").unlink(r,t)};c("MNCommerceDialogStateActions").showDialog(c("MNCommerceUnlinkDialogContainer.react"),{onTurnOffButtonClick:u});c("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:c("MNCommerceLoggerEvents").DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK})})};o=c("React").createElement(c("Link.react"),{className:(!n?"_2w2m":"")+(n?" _1jvn":""),onClick:q},i._("Turn Off"))}return c("React").createElement("span",null,m.log_message_body," ",o)};function l(){}f.exports=new l()}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ClientIDs").getNewClientID,i=c("RelayModern").commitMutation,j=c("RelayModern").graphql,k=function k(){return c("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql")};function l(m){this.$InstantGamesAnalyticsLogger1=m}l.prototype.logCustomAppEvent=function(m){var n=arguments.length<=1||arguments[1]===undefined?null:arguments[1],o=arguments.length<=2||arguments[2]===undefined?null:arguments[2],p=o?JSON.stringify(o):null;return new(c("Promise"))(function(q,r){i(c("RelayFBEnvironment"),{mutation:k,variables:{input:{actor_id:c("RelayAPIConfig").actorID,event_name:m,game_id:this.$InstantGamesAnalyticsLogger1,client_mutation_id:h(),value_to_sum:n,params:p}},onCompleted:q,onError:r})}.bind(this))};f.exports=l}),null);
__d("MessengerGamesCustomUpdateAdmin.react",["cx","fbt","Link.react","MessengerButtonReact.bs","MessengerContactImageReact.bs","Image.react","React","RelayModern","MessengerGamesCustomUpdateAdmin_gameInfo.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MessengerButtonReact.bs").jsComponent,m=c("MessengerContactImageReact.bs").jsComponent,n=c("RelayModern").createFragmentContainer,o=c("RelayModern").graphql;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props.data.getImageURL(),r=this.props.data.getText(),s=this.props.data.getTitle()?this.props.data.getTitle():i._("Play");if(!this.props.gameInfo)return c("React").createElement("span",null,r);return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{className:"_fy2 _2621","aria-haspopup":"true","aria-label":i._("View Less"),href:"#",onClick:this.props.hideAdmin,role:"button"}),c("React").createElement("div",{className:"_261_"},c("React").createElement(m,{size:25,src:this.props.gameInfo.iconURI}),c("React").createElement("h2",{className:"_2620"},this.props.gameInfo.name)),c("React").createElement("div",{className:"_3rpv"},c("React").createElement(c("Image.react"),{className:"_3rp-",onClick:this.props.playGame,src:q}),c("React").createElement("div",{className:"_3rp_"},r),c("React").createElement("div",{className:"_3cnr"},c("React").createElement(l,{className:"_3rq0 _fy2",label:s,onClick:this.props.playGame,type:"primary",use:"default"}))))};function p(){j.apply(this,arguments)}f.exports=n(p,{gameInfo:function q(){return c("MessengerGamesCustomUpdateAdmin_gameInfo.graphql")}})}),null);
__d("MessengerGamesCustomUpdateAdminContainer.react",["fbt","MessengerGamesCustomUpdateAdmin.react","React","RelayFBEnvironment","RelayModern","MessengerGamesCustomUpdateAdminContainerQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){__p&&__p();return c("React").createElement(l,{environment:c("RelayFBEnvironment"),query:i||(i=function i(){return c("MessengerGamesCustomUpdateAdminContainerQuery.graphql")}),variables:{gameID:this.props.gameID},render:function(o){__p&&__p();var p=o.error,q=o.props;if(p)return c("React").createElement("div",null,h._("Failed to Load"));else if(q){var r=q.node&&q.node.gameInfo;if(!r)return c("React").createElement("div",null,this.props.text);return c("React").createElement(c("MessengerGamesCustomUpdateAdmin.react"),babelHelpers["extends"]({},this.props,{gameInfo:r}))}return this.props.renderLoading()}.bind(this)})};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("MessengerGamesCustomUpdateData",["GamesQuicksilverContextKey","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();this.$MessengerGamesCustomUpdateData1=null;this.$MessengerGamesCustomUpdateData2=i.custom_image_url||null;this.$MessengerGamesCustomUpdateData4=i.text||i.collapsed_text||i.expanded_text||"";this.$MessengerGamesCustomUpdateData5=i.cta_title;this.$MessengerGamesCustomUpdateData6=i.template||null;var j=new(c("URI"))(i.cta_url).getQueryData();this.$MessengerGamesCustomUpdateData3=j.payload||null;var k=j.context_id||null,l=j.context_type;if(l)this.$MessengerGamesCustomUpdateData1=new(c("GamesQuicksilverContextKey"))({id:null,size:null,sourceID:k,type:l})}h.prototype.getContextKey=function(){return this.$MessengerGamesCustomUpdateData1};h.prototype.getImageURL=function(){return this.$MessengerGamesCustomUpdateData2};h.prototype.getPayload=function(){return this.$MessengerGamesCustomUpdateData3};h.prototype.getTitle=function(){return this.$MessengerGamesCustomUpdateData5};h.prototype.getText=function(){return this.$MessengerGamesCustomUpdateData4};h.prototype.getTemplate=function(){return this.$MessengerGamesCustomUpdateData6};f.exports=h}),null);
__d("MessengerGameAdminMessageRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="MessengerGameAdminMessageRoute";j.queries={adminMessageText:function k(l){return function(m){return{calls:[{kind:"Call",metadata:{type:"MessageData!"},name:"thread_and_message_id",value:{kind:"CallVariable",callVariableName:"messageData"}}],children:[].concat.apply([],[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},c("react-relay/classic/query/RelayQL").__frag(m)]),fieldName:"message",kind:"Query",metadata:{isAbstract:true,identifyingArgName:"thread_and_message_id",identifyingArgType:"MessageData!"},name:"MessengerGameAdminMessageRoute",type:"Message"}}(l.getFragment("adminMessageText"))}};j.paramDefinitions={messageData:{type:"MessageData!",required:true}};f.exports=j}),null);
__d("MessengerGamesLeaderboardProfileImage.react",["MessengerContactImageReact.bs","React","RelayFBEnvironment","RelayModern","idx","MessengerGamesLeaderboardProfileImageQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k=c("MessengerContactImageReact.bs").jsComponent,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){return c("React").createElement(l,{environment:c("RelayFBEnvironment"),query:h||(h=function h(){return c("MessengerGamesLeaderboardProfileImageQuery.graphql")}),render:function(o){var p=o.error,q=o.props;if(q){var r;return c("React").createElement(k,{size:40,src:(r=q.user)!=null?(r=r.profilePicture)!=null?r.uri:r:r,customBadge:String(this.props.rank)})}return c("React").createElement(k,{size:40,src:null,customBadge:String(this.props.rank)})}.bind(this),variables:{userID:this.props.userID}})};function n(){i.apply(this,arguments)}f.exports=n}),null);
__d("MessengerGamesHorizontalLeaderboard.react",["cx","MessengerGamesLeaderboardProfileImage.react","MessengerHorizontalScroll.react","MessengerResponsiveBlock.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=10,l=150,m=function m(p){var q=p.name,r=p.score;return c("React").createElement("div",{className:"_4u4_"},c("React").createElement("h3",null,q),c("React").createElement("div",null,r))},n=function n(p,q){if(!p)return null;var r=p.score_str,s=p.id,t=p.name,u=p.rank;return c("React").createElement("div",{className:"_4u50",key:q},c("React").createElement(c("MessengerGamesLeaderboardProfileImage.react"),{userID:s,rank:u}),c("React").createElement(m,{name:t,score:r}))};i=babelHelpers.inherits(o,c("React").PureComponent);j=i&&i.prototype;o.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};o.prototype.render=function(){var p=this.props.leaderboard.scores;return c("React").createElement(c("MessengerResponsiveBlock.react"),{breakpointsToggles:function q(r){return[r]}},function(q){var r=q[0];return c("React").createElement(c("MessengerHorizontalScroll.react"),{batchScroll:true,childPadding:k,childWidth:l,numChildrenVisible:Math.floor(r/(l+k)),width:r||0},p.map(n).filter(Boolean))})};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("MessengerGamesExpandedAdmin.react",["cx","fbt","MessengerButtonReact.bs","MessengerContactImageReact.bs","MessengerGamesHorizontalLeaderboard.react","Link.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MessengerButtonReact.bs").jsComponent,m=c("MessengerContactImageReact.bs").jsComponent,n=function n(p){var q=p.name,r=p.uri;return c("React").createElement("div",{className:"_261_"},c("React").createElement(m,{size:25,src:r}),c("React").createElement("h2",{className:"_2620"},q))};j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;o.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};o.prototype.render=function(){var p,q,r=this.$MessengerGamesExpandedAdmin1(),s=this.$MessengerGamesExpandedAdmin2();if(!s||!r)return null;var t=(p=s)!=null?(p=p.game)!=null?p.name:p:p,u=(q=s)!=null?(q=q.game)!=null?(q=q.instant_game_info)!=null?q.icon_uri:q:q:q;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4ea2 _2kar"}),c("React").createElement(c("Link.react"),{className:"_fy2 _2621","aria-haspopup":"true","aria-label":i._("View Less"),href:"#",onClick:this.props.hideAdmin,role:"button"}),c("React").createElement(n,{name:t,uri:u}),c("React").createElement("div",{className:"_2622"},s.expanded_text),c("React").createElement(c("MessengerGamesHorizontalLeaderboard.react"),{leaderboard:r,onLoad:this.props.onLoad}),c("React").createElement(l,{className:"_fy2 _2623",label:i._("Play Now"),onClick:this.props.playGame,type:"primary",use:"default"}),c("React").createElement("div",{className:"_4ea2 _2kar"}))};o.prototype.$MessengerGamesExpandedAdmin1=function(){var p,q,r=((p=this.props.data)!=null?p.leaderboard_json:p)||((q=this.props.data)!=null?q.leaderboard:q);if(!r)return null;return JSON.parse(r)};o.prototype.$MessengerGamesExpandedAdmin2=function(){var p;return(p=this.props)!=null?(p=p.adminMessageText)!=null?p.extensible_message_admin_text:p:p};function o(){j.apply(this,arguments)}f.exports=c("RelayClassic_DEPRECATED").createContainer(o,{fragments:{adminMessageText:function p(){return function(){return{children:[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},{children:[{children:[{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},{children:[{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"icon_uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"instant_game_info",kind:"Field",metadata:{canHaveSubselections:true},type:"GamesInstantPlayStyleInfo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"game",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Application"},{fieldName:"expanded_text",kind:"Field",metadata:{},type:"String"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"InstantGameUpdateExtensibleMessageAdminText",type:"InstantGameUpdateExtensibleMessageAdminText"}],fieldName:"extensible_message_admin_text",kind:"Field",metadata:{canHaveSubselections:true,isAbstract:true},type:"ExtensibleMessageAdminText"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"GenericAdminTextMessage",type:"GenericAdminTextMessage"},{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{isAbstract:true},name:"IdFragment",type:"Node"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{isAbstract:true},name:"MessengerGamesExpandedAdmin_react_AdminMessageTextRelayQL",type:"Message"}}()}}})}),null);
__d("MessengerGamesExpandedAdminContainer.react",["fbt","MessengerGameAdminMessageRoute","MessengerGamesExpandedAdmin.react","React","RelayClassic_DEPRECATED"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RelayClassic_DEPRECATED").RootContainer;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderLoaded=function(r){var s=this.props,t=s.gameID,u=s.hideAdmin,v=s.playGame,w=s.threadFBID;return c("React").createElement(c("MessengerGamesExpandedAdmin.react"),babelHelpers["extends"]({},r,{data:this.props.data,gameID:t,hideAdmin:u,onLoad:this.props.onLoad,playGame:v,threadFBID:w}))}.bind(this),n}l.prototype.render=function(){var m=this.props,n=m.messageID,o=m.threadFBID,p=m.renderLoading;return c("React").createElement(k,{Component:c("MessengerGamesExpandedAdmin.react"),route:new(c("MessengerGameAdminMessageRoute"))({messageData:{message_id:n,thread_id:o}}),renderLoading:p,renderFetched:this.renderLoaded,renderFailure:this.renderFailure})};l.prototype.renderFailure=function(){return h._("Failed to Load")};f.exports=l}),null);
__d("MessengerGameAdminMessage.react",["cx","fbt","AppCustomEventType","Bootloader","BootloadOnRender.react","ImmutableObject","InstantGamesAnalyticsLogger","InstantGameContextType","JSResource","LazyComponent.react","Link.react","MercuryIDs","MessengerDialogs.bs","MessengerGamesCustomUpdateAdminContainer.react","MessengerGamesCustomUpdateData","MessengerGamesExpandedAdminContainer.react","QuicksilverSources","React","UniversalCustomEventField"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state=this.$MessengerGameAdminMessage1(),this.renderText=function(){return c("React").createElement("span",null,c("React").createElement("span",null,this.props.text," "),c("React").createElement(c("Link.react"),{className:"_fy2",onClick:this.state.isExpanded?this.$MessengerGameAdminMessage2:this.$MessengerGameAdminMessage4},i._("View")))}.bind(this),this.$MessengerGameAdminMessage3=function(){__p&&__p();if(this.state.playerOpen)return;c("Bootloader").loadModules(["MessengerGamesQuicksilverPlayerContainer.react"],function(s){__p&&__p();c("MessengerDialogs.bs").showDialog(function(){__p&&__p();var t=this.getXMATData(),u=t.update_data?JSON.parse(t.update_data):t,v=new(c("MessengerGamesCustomUpdateData"))(u);if(t.update_type==="custom_message")this.$MessengerGameAdminMessage5(t.game_id,v);var w=c("MercuryIDs").getThreadFBIDFromThreadID(this.props.message.thread_id),x=c("InstantGameContextType").SOLO,y=null,z=v.getContextKey();if(z){x=z.getType();y=z.getSourceID()}else if(w){x=c("InstantGameContextType").THREAD;y=w}return c("React").createElement(s,{initialContextSourceID:y,initialContextType:x,initialEntryPointData:v.getPayload()||undefined,initialGameID:t.game_id,onHide:this.$MessengerGameAdminMessage6,initialSource:c("QuicksilverSources").MESSENGER_ADMIN_MESSAGE,sourceID:w,invitationID:this.props.message.message_id})}.bind(this))}.bind(this),"MessengerGameAdminMessage.react");this.setState({playerOpen:true})}.bind(this),this.$MessengerGameAdminMessage6=function(){c("MessengerDialogs.bs").removeAllDialogs();this.setState({playerOpen:false})}.bind(this),this.$MessengerGameAdminMessage4=function(){this.setState({isExpanded:true})}.bind(this),this.$MessengerGameAdminMessage2=function(){this.setState({isExpanded:false})}.bind(this),o}m.prototype.$MessengerGameAdminMessage1=function(){return{isExpanded:this.props.isLastOfType,playerOpen:false}};m.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};m.prototype.componentWillReceiveProps=function(n){if(this.props.isLastOfType!==n.isLastOfType)this.setState({isExpanded:n.isLastOfType})};m.prototype.getXMATData=function(){return this.props.message.log_message_data&&this.props.message.log_message_data.untypedData?new(c("ImmutableObject"))(this.props.message.log_message_data.untypedData):new(c("ImmutableObject"))()};m.prototype.render=function(){var n=this.getXMATData(),o=null;switch(n.update_type){case"game_score":return this.state.isExpanded?c("React").createElement("span",null,c("React").createElement(c("MessengerGamesExpandedAdminContainer.react"),{data:n,hideAdmin:this.$MessengerGameAdminMessage2,gameID:n.game_id,messageID:this.props.message.message_id,playGame:this.$MessengerGameAdminMessage3,threadFBID:c("MercuryIDs").getThreadFBIDFromThreadID(this.props.message.thread_id),onLoad:this.props.onLoad,renderLoading:this.renderText})):c("React").createElement("span",null,this.renderText(),o);case"custom_message":var p=n.update_data?JSON.parse(n.update_data):n,q=new(c("MessengerGamesCustomUpdateData"))(p);return this.state.isExpanded?c("React").createElement("span",null,c("React").createElement(c("MessengerGamesCustomUpdateAdminContainer.react"),{data:q,gameID:n.game_id,hideAdmin:this.$MessengerGameAdminMessage2,playGame:this.$MessengerGameAdminMessage3,renderLoading:this.renderText,text:this.props.text})):c("React").createElement("span",null,this.renderText(),o);default:return c("React").createElement("span",null,this.props.text)}};m.prototype.$MessengerGameAdminMessage5=function(n,o){var p=new(c("InstantGamesAnalyticsLogger"))(n),q={};q[c("UniversalCustomEventField").FB_INSTANT_GAMES_TEMPLATE_NAME]=o.getTemplate();p.logCustomAppEvent(c("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_CLICK,null,q)};m.propTypes={message:l.instanceOf(c("ImmutableObject")).isRequired,text:l.string.isRequired,isLastOfType:l.bool.isRequired};f.exports=m}),null);
__d("MessengerGroupPollingUtils",["ix","CurrentUser","FacepileRounded.react","MercuryIDs","MercuryParticipants","MessengerTextWithEntities.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=2,j={renderEmojiText:function k(l){return c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,renderEmoticons:true,text:l})},renderVoterFacepiles:function k(l,m,n,o,p){var q=i,r=n-i;if(n===i+1){q=n;r=0}return c("React").createElement(c("FacepileRounded.react"),{className:l,imageSize:m,direction:"descending",numProfilesToDisplay:q,remainingProfilesCount:r,profiles:this._getProfilePictures(q,o,p),showNames:true})},_getProfilePictures:function k(l,m,n){__p&&__p();if(n===true){var o=c("CurrentUser").getID(),p=m.indexOf(o);if(p!==-1){var q=m[p];m[p]=m[0];m[0]=q}}var r=m.slice(0,l).map(function(t){var u=c("MercuryIDs").getParticipantIDFromUserID(t),v=c("MercuryParticipants").getOrFetch(u);return{image_src:v&&v.image_src||h("98939"),name:v&&v.name||"Facebook User"}}),s=m.slice(l,m.length).map(function(t){var u=c("MercuryIDs").getParticipantIDFromUserID(t),v=c("MercuryParticipants").getOrFetch(u);return{image_src:t,name:v&&v.name||"Facebook User"}});return r.concat(s)}};f.exports=j}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:true}})}),null);
__d("MessengerGroupPollingAdminMessage.react",["cssVar","cx","fbt","ix","AsyncRequest","BootloadOnRender.react","Image.react","ImmutableObject","JSResource","LazyComponent.react","MessengerContextualDialog.react","MessengerEnvironment","MessengerGroupPollingUtils","MessengerSpinner.react","React","XMessagingGetPollOptionsController","idx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes,o=16,p=24,q=k("86887"),r=k("86886"),s=3;l=babelHelpers.inherits(t,c("React").Component);m=l&&l.prototype;function t(){__p&&__p();var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=m.constructor).call.apply(u,[this].concat(x)),this.state={flyoutOpen:false,options:null},this.$MessengerGroupPollingAdminMessage1=false,this.$MessengerGroupPollingAdminMessage4=function(z){this.setState({flyoutOpen:z})}.bind(this),this.$MessengerGroupPollingAdminMessage5=function(){this.setState({flyoutOpen:false})}.bind(this),this.$MessengerGroupPollingAdminMessage9=function(z){this.$MessengerGroupPollingAdminMessage1=this.state.flyoutOpen}.bind(this),this.$MessengerGroupPollingAdminMessage8=function(z){z.stopPropagation();if(this.state.flyoutOpen||this.$MessengerGroupPollingAdminMessage1)return;if(!this.state.options&&!this.state.flyoutOpen)this.$MessengerGroupPollingAdminMessage2();this.setState({flyoutOpen:!this.state.flyoutOpen})}.bind(this),v}t.prototype.componentDidMount=function(){this.$MessengerGroupPollingAdminMessage2()};t.prototype.render=function(){__p&&__p();var u,v,w=this.props.customColor||"#0084ff",x=c("MessengerGroupPollingUtils").renderEmojiText(this.props.message.log_message_body),y=c("MessengerEnvironment").messengerui,z=this.props.isLastOfType||this.state.flyoutOpen&&y;if(!z)return x;var A=(u=this.props.message)!=null?(u=u.log_message_data)!=null?(u=u.untypedData)!=null?u.question_json:u:u:u,B=A&&JSON.parse(A);if(!B)return this.$MessengerGroupPollingAdminMessage3();var C=y?p:o,D=c("React").createElement("div",{className:"_8bt"+(!y?" _5il4":"")},c("React").createElement(c("MessengerSpinner.react"),{color:"grey"})),E=null;if(this.state.flyoutOpen)E=c("React").createElement(c("MessengerContextualDialog.react"),{contextRef:function(){return this.refs.voteButton}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$MessengerGroupPollingAdminMessage4,onBlur:this.$MessengerGroupPollingAdminMessage5},c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{customColor:w,questionID:B.id,questionText:B.text,options:this.state.options,onSubmitHandler:this.$MessengerGroupPollingAdminMessage5}),loader:c("JSResource")("MessengerGroupPollingFlyout.react").__setRef("MessengerGroupPollingAdminMessage.react"),placeholder:D}));if(!this.state.options)return x;var F=this.state.options.slice(0,s).map(function(J){var K,L=(K=J)!=null?(K=K.voters)!=null?K.edges:K:K,M=[];if(L)M=L.map(function(N){return N.node.id});return babelHelpers["extends"]({},J,{total_count:J.voters.count,voters:M})}),G=((v=F)!=null?(v=v[0])!=null?v.total_count:v:v)||0,H=F.map(function(J){return c("React").createElement("div",{className:"_3b4a"+(!y?" _4ic5":""),key:J.id},c("React").createElement("div",{className:"_3b4c"},c("React").createElement("div",{className:(y?"_3b4f":"")+(!y?" _4ic6":"")},c("MessengerGroupPollingUtils").renderEmojiText(J.text)),c("MessengerGroupPollingUtils").renderVoterFacepiles("_4ic7"+(!y?" _8kg":""),C,J.total_count,J.voters,J.viewer_has_voted==="true")),c("React").createElement("div",{className:"_3b4h"+(!y?" _4ic8":"")},c("React").createElement("span",{style:{width:this.$MessengerGroupPollingAdminMessage6(J.total_count,G),backgroundColor:w}})))}.bind(this)),I=B.viewer_has_voted==="true"?j._("Change Vote"):j._("Vote");return c("React").createElement("div",null,x,c("React").createElement("div",{onLoad:this.props.onLoad,className:"_3b4t"+(!y?" _4ic9":"")},c("React").createElement("div",{className:"_3b4u"+(!y?" _2wew":"")},c("React").createElement(c("Image.react"),{className:"_4ica"+(!y?" _2ozk":""),src:y?q:r}),j._("Poll")),c("React").createElement("div",{className:(y?"_3b4v":"")+(!y?" _2wex":"")},c("MessengerGroupPollingUtils").renderEmojiText(B.text)),c("React").createElement("div",{className:"_3b4w"},H),c("React").createElement("div",{className:"_8bu"},this.$MessengerGroupPollingAdminMessage7(B.total_count)),c("React").createElement("div",{className:"_4icb"+(!y?" _4icc":"")+(y?" uiContextualLayerParent":"")+(y?" _5f0v":""),onClick:this.$MessengerGroupPollingAdminMessage8,onMouseDown:this.$MessengerGroupPollingAdminMessage9,ref:"voteButton",role:"button",style:{color:w},tabIndex:"0"},I,E)))};t.prototype.$MessengerGroupPollingAdminMessage3=function(){return c("React").createElement("span",null,j._("{original-admin-message} Use the mobile app to vote.",[j.param("original-admin-message",this.props.message.log_message_body)]))};t.prototype.$MessengerGroupPollingAdminMessage7=function(u){var v=u-s;if(v<=0)return null;else return j._({"*":"{number of remaining answer options} more options...","_1":"{number of remaining answer options} more option..."},[j.param("number of remaining answer options",v),j.plural(v)])};t.prototype.$MessengerGroupPollingAdminMessage2=function(){var u,v=(u=this.props.message)!=null?(u=u.log_message_data)!=null?(u=u.untypedData)!=null?u.question_id:u:u:u;if(!v){this.setState({options:[]});return}var w=c("XMessagingGetPollOptionsController").getURIBuilder().setFBID("question_id",v).getURI();new(c("AsyncRequest"))().setURI(w).setHandler(function(x){this.setState({options:x.payload})}.bind(this)).send()};t.prototype.$MessengerGroupPollingAdminMessage6=function(u,v){return v===0?"0%":u/v*100+"%"};t.propTypes={customColor:n.string,message:n.instanceOf(c("ImmutableObject")).isRequired,isLastOfType:n.bool.isRequired,onLoad:n.func};f.exports=t}),null);
__d("MessengerNewWavePrompt.react",["cx","fbt","ix","MercuryMessageActions","MessengerButtonReact.bs","MercuryMessageObject","MercurySourceType","MercuryMessages","MessagingGenericAdminTextType","Image.react","CurrentUser","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("MercuryMessageActions").get(),n=c("MessengerButtonReact.bs").jsComponent,o=c("CurrentUser").getID(),p=j("392389"),q=c("React").PropTypes;k=babelHelpers.inherits(r,c("React").PureComponent);l=k&&k.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=l.constructor).call.apply(s,[this].concat(v)),this.state={hasWaved:false,shouldPromptWave:false},this.$MessengerNewWavePrompt3=function(event){var x=c("MercuryMessageObject").getForFBID(o).constructAttachmentMessageObject(c("MercurySourceType").MESSENGER_WEB,this.props.threadID);x.lightweight_action_attachment={lwa_state:"INITIATED",lwa_type:"WAVE"};m.send(x);this.setState({hasWaved:true})}.bind(this),t}r.prototype.componentDidMount=function(){c("MercuryMessages").get().getThreadMessagesRange(this.props.threadID,0,1,function(s){return this.$MessengerNewWavePrompt1(s)}.bind(this))};r.prototype.render=function(){if(!this.state.shouldPromptWave||this.state.hasWaved)return null;var s=this.props.recipientName?i._("Say hi to {recipient} with a wave.",[i.param("recipient",this.props.recipientName)]):i._("Say hi with a wave.");return c("React").createElement("div",{className:"_4qet"},c("React").createElement("h3",{className:"_4qeu"},s),c("React").createElement("div",{className:"_63l7"},c("React").createElement(c("Image.react"),{className:"_4qev",src:p})),this.$MessengerNewWavePrompt2())};r.prototype.$MessengerNewWavePrompt2=function(){return c("React").createElement(n,{className:"_4qew",onClick:this.$MessengerNewWavePrompt3,label:i._("Wave"),type:"primary",use:"default"})};r.prototype.$MessengerNewWavePrompt1=function(s){if(!s.length){this.setState({shouldPromptWave:false});return}var t=s[0];this.setState({shouldPromptWave:t.source===c("MercurySourceType").FRIENDING_ADMIN_BUMP||t.log_message_data!=null&&t.log_message_data.message_type===c("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST||t.log_message_data!=null&&t.log_message_data.message_type===c("MessagingGenericAdminTextType").GROUP_THREAD_CREATED})};r.propTypes={threadID:q.string.isRequired,recipientName:q.string};f.exports=r}),null);
__d("MessengerPagesCommercePaymentEnabledAdminMessage.react",["cssVar","cx","fbt","ix","Image.react","Link.react","MessengerEnvironment","PagesCommerceBuyerNUXDialog.react","React"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m;l=babelHelpers.inherits(n,c("React").PureComponent);m=l&&l.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=m.constructor).call.apply(o,[this].concat(r)),this.state={showDialog:false},this.$MessengerPagesCommercePaymentEnabledAdminMessage1=function(){this.setState({showDialog:false})}.bind(this),this.$MessengerPagesCommercePaymentEnabledAdminMessage2=function(){this.setState({showDialog:true})}.bind(this),p}n.prototype.render=function(){var o=c("MessengerEnvironment").messengerui;return c("React").createElement("div",{className:o?"_2piv":""},c("React").createElement(c("Image.react"),{className:"_3-96",src:k("275999")}),c("React").createElement("div",null,this.props.message.log_message_body),c("React").createElement("div",{className:"_3-8w"},c("React").createElement(c("Link.react"),{onClick:this.$MessengerPagesCommercePaymentEnabledAdminMessage2,style:{color:"#0084ff",textDecoration:"none"}},j._("Learn More"))),c("React").createElement(c("PagesCommerceBuyerNUXDialog.react"),{isShown:this.state.showDialog,onConfirm:this.$MessengerPagesCommercePaymentEnabledAdminMessage1}))};f.exports=n}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","PagesCommercePaymentInvoiceReferrer","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){if(!j.isPageMessage)return null;return c("React").createElement("div",null,j.message," ",c("React").createElement(c("Link.react"),{onClick:k},h._("Confirm receipt")));function k(){c("CommerceInvoiceAdminActions").toggleActionsDialog(true,j.messageID,"confirm_payment",c("PagesCommercePaymentInvoiceReferrer").XMAT)}};f.exports=i}),null);
__d("XMessagingPartiesImageController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/parties/parties_images/",{})}),null);
__d("PartiesInviteAdmin.react",["cx","fbt","ix","AsyncRequest","Image.react","MessengerButtonReact.bs","MessengerContactImageReact.bs","React","XMessagingPartiesImageController"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("MessengerButtonReact.bs").jsComponent,n=c("MessengerContactImageReact.bs").jsComponent;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.componentWillMount=function(){var p=c("XMessagingPartiesImageController").getURIBuilder().getURI();new(c("AsyncRequest"))(p).setHandler(function(q){this.setState({imageURI:q.payload.bonfire_image_uri})}.bind(this)).setErrorHandler(function(q){}).send()};o.prototype.render=function(){var p=this.props,q=p.logMessage,r=p.actionText,s=p.isInvite,t=p.actionBehavior,u=!s?i._("Join the video chat through Messenger."):"";return!this.state?c("React").createElement("span",null,q):c("React").createElement("div",null,c("React").createElement("div",{className:"_6153"},c("React").createElement(n,{size:25,src:j("348994")}),c("React").createElement("h2",{className:"_6154"},"Bonfire")),c("React").createElement("div",{className:"_6155"},q," ",u),c("React").createElement("div",{className:"_6156"},c("React").createElement(c("Image.react"),{className:"_6157",src:this.state.imageURI}),c("React").createElement("div",{className:"_3cnr"},c("React").createElement(m,{className:"_6158 _fy2",label:r,onClick:t,type:"primary",use:"default"}))))};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("PartiesInviteType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INVITE:0,NUDGE:1,FIRESTARTER:2})}),null);
__d("XBonfireMarketingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/about/",{})}),null);
__d("PartiesUtils",["URI","XBonfireMarketingController","goURI"],(function a(b,c,d,e,f,g){"use strict";var h=new(c("URI"))(document.URL),i=c("XBonfireMarketingController").getURIBuilder().getURI().setDomain(h.getDomain().replace(/\.[^.]+\.com$/,".getbonfire.com")).setProtocol("https").toString(),j={payloadParticipantsToPartiesUsers:function k(l){return l.map(function(m){return{accepts_messenger_user_feedback:false,big_image_src:m.profile_picture_uri,employee:false,fbid:m.fbid.toString(),gender:0,href:null,id:"fbid:"+m.fbid.toString(),image_src:m.profile_picture_uri,is_business_enabled:null,is_employee_away:null,is_friend:null,is_messenger_user:null,is_messenger_platform_bot:null,is_parties_user:true,is_verified:null,name:m.display_name,short_name:m.display_name,type:null,vanity:m.username,timezone:null,personal_id:null,work_id:null}})},navigateToMarketingPage:function k(){c("goURI")(i)}};f.exports=j}),null);
__d("PartiesInviteDialog.react",["cx","fbt","ix","BonfireStrings","Image.react","MercuryParticipants","MessengerButtonReact.bs","MessengerDialogCancelButton.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MercuryIDs","PartiesUtils","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("MessengerButtonReact.bs").jsComponent;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.componentWillMount=function(){this.$PartiesInviteDialog1()};n.prototype.render=function(){return this.$PartiesInviteDialog2()};n.prototype.$PartiesInviteDialog1=function(){var o=c("MercuryIDs").getParticipantIDFromUserID(this.props.authorID);c("MercuryParticipants").get(o,function(p){this.setState({senderName:p.short_name})}.bind(this))};n.prototype.$PartiesInviteDialog2=function(){var o=this.state.senderName||i._("Your friend");return c("React").createElement("div",{className:"_3liw"},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),null),c("React").createElement(c("MessengerDialogTitle.react"),null,i._("Bonfire Video Chat"))),c("React").createElement(c("Image.react"),{className:"_6157",src:j("361336")}),c("React").createElement("div",{className:"_1t6j"},c("React").createElement("div",{className:"_1t6l"},i._("You missed {capitalized_sender_name}'s video chat on Bonfire",[i.param("capitalized_sender_name",o)])),c("React").createElement("div",{className:"_1t6m"},i._("Get the Bonfire app to start your own video chats and invite friends."))),c("React").createElement("div",{className:"_3cnr"},c("React").createElement(m,{className:"_352- _fy2",label:c("BonfireStrings").get_bonfire_button,onClick:c("PartiesUtils").navigateToMarketingPage,type:"primary",use:"default"})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("XMessagingPartiesConferenceInfoController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/parties/parties_conference_info/",{sender_fbid:{type:"FBID",required:true}})}),null);
__d("PartiesJoinPartyInterstitialDialog.react",["cx","fbt","ix","AsyncRequest","BonfireStrings","FBRTCCore","Image.react","immutable","MercuryParticipants","MessengerButtonReact.bs","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerRTCGroupCallContactList.react","MercuryIDs","PartiesInviteDialog.react","PartiesUtils","React","RTCUtils","FBRTCLogger","XMessagingPartiesConferenceInfoController","emptyFunction","idx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("MessengerButtonReact.bs").jsComponent,n=c("FBRTCLogger").Trigger,o=460,p=8;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;q.prototype.componentWillMount=function(){this.$PartiesJoinPartyInterstitialDialog1();this.$PartiesJoinPartyInterstitialDialog2(this.props.authorID)};q.prototype.render=function(){var r=i._("Loading...");return this.state.loading?this.$PartiesJoinPartyInterstitialDialog3(r,r):this.state.partyConferenceName?this.$PartiesJoinPartyInterstitialDialog4(this.state.isFull,this.state.isLocked,this.state.partyConferenceName):this.$PartiesJoinPartyInterstitialDialog5(this.props.authorID)};q.prototype.$PartiesJoinPartyInterstitialDialog1=function(){var r=c("MercuryIDs").getParticipantIDFromUserID(this.props.authorID);c("MercuryParticipants").get(r,function(s){this.setState({senderName:s.short_name})}.bind(this))};q.prototype.$PartiesJoinPartyInterstitialDialog2=function(r){this.setState({loading:true});var s=c("XMessagingPartiesConferenceInfoController").getURIBuilder().setFBID("sender_fbid",r).getURI();new(c("AsyncRequest"))().setURI(s).setMethod("GET").setReadOnly(true).setHandler(function(t){var u;if((u=t)!=null?(u=u.payload)!=null?u.party_conference_name:u:u)this.setState({loading:false,isFull:t.payload.active_users.length>=p,isLocked:t.payload.party_locked,participants:c("PartiesUtils").payloadParticipantsToPartiesUsers(t.payload.active_users),partyConferenceName:t.payload.party_conference_name,partyServerInfoData:t.payload.server_info_data});else this.setState({loading:false,partyConferenceName:null})}.bind(this)).setErrorHandler(function(t){}).send()};q.prototype.$PartiesJoinPartyInterstitialDialog4=function(r,s,t){var u=c("immutable").Map(),v=this.$PartiesJoinPartyInterstitialDialog6(),w=this.$PartiesJoinPartyInterstitialDialog7(),x=r||s?this.$PartiesJoinPartyInterstitialDialog8():null;return c("React").createElement(c("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:o},c("React").createElement("div",{className:"_2m1r"},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),null),c("React").createElement(c("MessengerDialogTitle.react"),null,i._("Bonfire Video Chat")),c("React").createElement(c("MessengerDialogButton.react"),{label:i._("Join"),onClick:function(){return c("FBRTCCore").startGroupCall({conferenceName:"BONFIRE:"+t,hasVideo:true,serverInfoData:this.state.partyServerInfoData,trigger:n.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON})}.bind(this),type:"primary",disabled:s||r})),c("React").createElement(c("Image.react"),{className:"_6157",src:j("361336")}),c("React").createElement("div",{className:"_1t6j"},c("React").createElement("div",{className:"_1t6l"},v),c("React").createElement("div",{className:"_1t6m"},w)),c("React").createElement("div",{className:"_3oko"},c("React").createElement(c("MessengerRTCGroupCallContactList.react"),{isParticipantSelected:u,onClick:c("emptyFunction"),remoteUsers:c("RTCUtils").payloadParticipantsToRTCUsers(this.state.participants).sort(function(y,z){return y.userName.localeCompare(z.userName)})})),x))};q.prototype.$PartiesJoinPartyInterstitialDialog6=function(){var r=this.state.senderName||i._("Your Friend");return this.state.isLocked?i._("{capitalized_sender_name}'s Bonfire video chat is now locked",[i.param("capitalized_sender_name",r)]):this.state.isFull?i._("{capitalized_sender_name}'s Bonfire video chat is now full",[i.param("capitalized_sender_name",r)]):i._("Join {capitalized_sender_name}'s Bonfire",[i.param("capitalized_sender_name",r)])};q.prototype.$PartiesJoinPartyInterstitialDialog7=function(){var r=this.state.senderName||i._("Your friend");return this.state.isLocked||this.state.isFull?i._("Get the Bonfire app to start your own video chats and invite friends."):i._("{sender_name} is video chatting on Bonfire, and you can join through Messenger.",[i.param("sender_name",r)])};q.prototype.$PartiesJoinPartyInterstitialDialog8=function(){return c("React").createElement("div",{className:"_1j95"},c("React").createElement(m,{className:"_352- _fy2",label:c("BonfireStrings").get_bonfire_button,onClick:c("PartiesUtils").navigateToMarketingPage,type:"primary",use:"default"}))};q.prototype.$PartiesJoinPartyInterstitialDialog5=function(r){return c("React").createElement(c("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:o},c("React").createElement(c("PartiesInviteDialog.react"),{authorID:r,onUnmount:this.props.onUnmount}))};q.prototype.$PartiesJoinPartyInterstitialDialog3=function(r,s){return c("React").createElement(c("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:o},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),null),c("React").createElement(c("MessengerDialogTitle.react"),null,r)),c("React").createElement("div",{className:"_2m1r"},s))};function q(){k.apply(this,arguments)}f.exports=q}),null);
__d("PartiesJoinPartyInterstitialDialogController.react",["DOM","PartiesJoinPartyInterstitialDialog.react","React","ReactDOM"],(function a(b,c,d,e,f,g){"use strict";var h={_container:c("DOM").create("div"),render:function i(j){var k=j.authorID,l=j.handleCall,m=j.partiesUserID;c("ReactDOM").render(c("React").createElement(c("PartiesJoinPartyInterstitialDialog.react"),{authorID:k,onUnmount:h._onUnmount}),this._container)},_onUnmount:function i(){c("ReactDOM").unmountComponentAtNode(h._container)}};f.exports=h}),null);
__d("PartiesInviteAttachment.react",["fbt","PartiesInviteAdmin.react","PartiesInviteType","PartiesJoinPartyInterstitialDialogController.react","PartiesUtils","React","RTCConfig"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$PartiesInviteAttachment2=function(){c("PartiesJoinPartyInterstitialDialogController.react").render({authorID:this.props.authorID,partiesUserID:this.props.partiesUserID})}.bind(this),m}k.prototype.render=function(){var l=this.props.authorID!==this.props.otherUserID,m=this.props.partiesInviteType?this.props.partiesInviteType===c("PartiesInviteType").INVITE.toString():true,n=this.$PartiesInviteAttachment1(m),o=m?c("PartiesUtils").navigateToMarketingPage:this.$PartiesInviteAttachment2,p=this.props.logMessage;return!c("RTCConfig").RenderPartiesMessengerAttachments||l?c("React").createElement("span",null,p):c("React").createElement(c("PartiesInviteAdmin.react"),{actionBehavior:o,actionText:n,isInvite:m,logMessage:p})};k.prototype.$PartiesInviteAttachment1=function(l){return l?h._("Get Bonfire"):h._("Join Video Chat")};f.exports=k}),null);
__d("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"2016667251691695"};j.getQueryID=function(){"use strict";return"391244851334288"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("ServicesAppointmentOptOutRequestsAdminText.react",["fbt","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUIDialogFooter.react","XUIDialogButton.react","React","Link.react","WebGraphQL","ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation","CurrentUser","uuid","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={showDialog:false,showError:false},this.showDialog=function(){this.setState({showDialog:true})}.bind(this),this.onHide=function(){this.setState({showDialog:false});this.setState({showError:false})}.bind(this),this.onConfirm=function(){__p&&__p();this.setState({showDialog:false});var q=new(c("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation"))({input:{page_id:this.props.pageID,client_mutation_id:c("uuid")(),actor_id:c("CurrentUser").getID(),user_id:this.props.userID}});c("WebGraphQL").exec(q).done(function(r){var s,t=(s=r)!=null?(s=s.messenger_appointment_opt_out)!=null?(s=s.messenger_appointment_opt_out)!=null?s.has_opted_out:s:s:s;if(!t){this.setState({showDialog:true});this.setState({showError:true})}}.bind(this),function(r){this.setState({showDialog:true});this.setState({showError:true})}.bind(this))}.bind(this),m}k.prototype.render=function(){var l=h._("Opt Out");return c("React").createElement("div",null,this.props.message," ",c("React").createElement(c("Link.react"),{onClick:this.showDialog},h._("you can opt out now.")),this.state.showError?this.renderError():c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,onHide:this.onHide,shown:this.state.showDialog,width:400},c("React").createElement(c("XUIDialogTitle.react"),null,h._("Are you sure?")),c("React").createElement(c("XUIDialogBody.react"),null,h._("You will no longer receive appointment request messages.")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:l,onClick:this.onConfirm}))))};k.prototype.renderError=function(){return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,onHide:this.onHide,shown:this.state.showDialog,width:400},c("React").createElement(c("XUIDialogTitle.react"),null,h._("Error")),c("React").createElement(c("XUIDialogBody.react"),null,h._("Something went wrong. Please try again later.")))};f.exports=k}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){__p&&__p();var k=j.isPageMessage,l=j.message,m=j.productName,n=j.startTime,o=j.timestamp,p=j.userName;if(!n)return l;var q=c("formatDate")(n,"g:i A");if(k)if(n-o/1e3<c("DateConsts").SEC_PER_HOUR)return h._("{user-name} has an appointment {product-name} at {start-time}",[h.param("user-name",p),h.param("product-name",m),h.param("start-time",q)]);else if(n-o/1e3<c("DateConsts").SEC_PER_DAY)return h._("{user-name} has an appointment {product-name} tomorrow at {start-time}",[h.param("user-name",p),h.param("product-name",m),h.param("start-time",q)]);else return h._("{user-name} has an appointment {product-name} on {start-date} at {start-time}",[h.param("user-name",p),h.param("product-name",m),h.param("start-date",c("formatDate")(n,"F d")),h.param("start-time",q)]);if(n-o/1e3<c("DateConsts").SEC_PER_HOUR)return h._("You have an appointment at {start-time}",[h.param("start-time",q)]);else if(n-o/1e3<c("DateConsts").SEC_PER_DAY)return h._("You have an appointment tomorrow at {start-time}",[h.param("start-time",q)]);else return h._("You have an appointment on {start-date} at {start-time}",[h.param("start-date",c("formatDate")(n,"F d")),h.param("start-time",q)])};f.exports=i}),null);
__d("MercuryXMATRenderer",["cx","fbt","FacepileRounded.react","MNAdsMessageUtils","MercuryConfig","MercuryIDs","MercuryParticipants","MessagingGenericAdminTextType","MessengerEnvironment","MessengerGameAdminMessage.react","MessengerGroupPollingAdminMessage.react","MessengerNewWavePrompt.react","MessengerPagesCommercePaymentEnabledAdminMessage.react","MessengerTextWithEntities.react","PagesMarkAsPaidMessagingActionText.react","PartiesInviteAttachment.react","QE2Logger","React","ServicesAppointmentReminderAdminText.react","ServicesAppointmentOptOutRequestsAdminText.react","gkx","idx","isWebGLEnabled"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={renderText:function k(l,m,n,o,p){__p&&__p();var q,r,s,t,u,v=m.log_message_body?c("React").createElement(c("MessengerTextWithEntities.react"),{renderEmoji:true,renderEmoticons:true,text:m.log_message_body}):null,w=(q=m)!=null?(q=q.log_message_data)!=null?q.message_type:q:q;switch(w){case c("MessagingGenericAdminTextType").JOURNEY_PROMPT_COLOR:v=i._("You need to be on the latest version of Messenger on a mobile device to pick a color for this conversation.");break;case c("MessagingGenericAdminTextType").JOURNEY_PROMPT_NICKNAME:var x=null,y=c("MercuryIDs").getUserIDFromParticipantID(m.author);if(m.other_user_fbid&&y!==m.other_user_fbid){var z=c("MercuryIDs").getParticipantIDFromUserID(m.other_user_fbid);x=c("MercuryParticipants").getOrFetch(z)}if(x&&x.short_name)v=i._("You need to be on the latest version of Messenger on a mobile device to set a nickname for {admin-text-message} .",[i.param("admin-text-message",x.short_name)]);else v=i._("You need to be on the latest version of Messenger on a mobile device to set a nickname for yourself.");break;case c("MessagingGenericAdminTextType").JOURNEY_PROMPT_LIKE:v=i._("You need to be on the latest version of Messenger on a mobile device to pick an emoji for this conversation.");break;case c("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE:if(c("gkx")("AT4VU3LTU_m0y3MeJeai7hJytsOcRy63JbTrv7QtkGDcMH9aN_sV8sDNC1ebrhVq0RfT0H4FEgW5UVoJHsOiHpnF")&&c("isWebGLEnabled")())v=c("React").createElement(c("MessengerGameAdminMessage.react"),{message:m,text:m.log_message_body,isLastOfType:n,onLoad:o});break;case c("MessagingGenericAdminTextType").ADS_WELCOME_MSG:break;case c("MessagingGenericAdminTextType").AD_MANAGE_MESSAGE:if(c("MNAdsMessageUtils").isAdsAdminMessage(m))v=c("MNAdsMessageUtils").getAdsPageManage(m,false);break;case c("MessagingGenericAdminTextType").WORK_INVITE_CLAIMED:v=m.log_message_body?m.log_message_body:i._("You're now connected on Workplace Chat.");if(m.log_message_data.untypedData){var A=m.log_message_data.untypedData.invite_recipient,B=m.log_message_data.untypedData.invite_sender,C=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(A)),D=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(B));if(D!=null&&C!=null){var E=[C,D];v=c("React").createElement(c("FacepileRounded.react"),{profiles:E,message:v,numProfilesToDisplay:2,className:"_8lx"})}}break;case c("MessagingGenericAdminTextType").GENERIC_NEW_CONNECTION:case c("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST:var F=w==c("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST,G=m.log_message_data.untypedData;if(!G)break;var H=F?G.friend_request_recipient:G.recipient_id,I=F?G.friend_request_sender:G.initiator_id,J=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(H)),K=c("MercuryParticipants").getNow(c("MercuryIDs").getParticipantIDFromUserID(I));if(K==null||J==null)break;var L=[J,K],M=c("MercuryIDs").getParticipantIDFromUserID(m.other_user_fbid),N=c("MercuryParticipants").getOrFetch(M),O=N?N.short_name:null;c("QE2Logger").logExposureForUser("messenger_growth_tombstone");v=c("React").createElement("div",null,c("React").createElement(c("FacepileRounded.react"),{profiles:L,message:m.log_message_body,numProfilesToDisplay:2,className:"_8lx"}),c("MercuryConfig").NFBW?c("React").createElement(c("MessengerNewWavePrompt.react"),{threadID:m.thread_id,recipientName:O}):null);break;case c("MessagingGenericAdminTextType").GROUP_THREAD_CREATED:v=c("React").createElement("div",null,v,c("gkx")("AT7uCGaYk4KWBCIq3SurfBIwk1DjmbU_QXgSqcY73Sdnw3DJhbzA4qigZjhm4wwYtWnHVZcxghHN6RO33C1W8YjG")?c("React").createElement(c("MessengerNewWavePrompt.react"),{threadID:m.thread_id,recipientName:null}):null);break;case c("MessagingGenericAdminTextType").GROUP_POLL:v=c("React").createElement(c("MessengerGroupPollingAdminMessage.react"),{customColor:l,message:m,isLastOfType:n,onLoad:o});break;case c("MessagingGenericAdminTextType").PAGES_COMMERCE_PAYMENT_ENABLED:v=c("React").createElement(c("MessengerPagesCommercePaymentEnabledAdminMessage.react"),{message:m});break;case c("MessagingGenericAdminTextType").THREAD_CUSTOMIZATION_UPSELL:if(c("MessengerEnvironment").messengerui)v=i._("Customize this conversation: choose the color, emoji and nicknames from the sidebar.");else v=i._("Choose the color, emoji and nicknames from the sidebar of your conversation on www.messenger.com.");break;case c("MessagingGenericAdminTextType").PARTIES_INVITE:var P=m.author.replace("fbid:",""),Q=m.other_user_fbid.replace("fbid:",""),R=(r=m)!=null?(r=r.log_message_data)!=null?(r=r.untypedData)!=null?r.parties_invite_type:r:r:r,S=(s=m)!=null?(s=s.log_message_data)!=null?(s=s.untypedData)!=null?s.parties_user_id:s:s:s;v=c("React").createElement(c("PartiesInviteAttachment.react"),{authorID:P,logMessage:m.log_message_body,otherUserID:Q,partiesInviteType:R,partiesUserID:S});break;case c("MessagingGenericAdminTextType").PAGES_MARK_AS_PAID:v=c("React").createElement(c("PagesMarkAsPaidMessagingActionText.react"),{message:m.log_message_body,messageID:m.message_id,isPageMessage:p});break;case c("MessagingGenericAdminTextType").MESSENGER_AD_CONTEXT:v=c("MNAdsMessageUtils").getAdContextAdminMessage(m);break;case c("MessagingGenericAdminTextType").PAGES_PLATFORM_APPOINTMENT_REMINDER:var T=(t=m)!=null?(t=t.log_message_data)!=null?t.untypedData:t:t,U=T&&T.product_name,V=T&&T.start_time,W=T&&T.user_name;v=c("React").createElement(c("ServicesAppointmentReminderAdminText.react"),{isPageMessage:p,message:m.log_message_body,productName:U,startTime:V,timestamp:m.timestamp,userName:W});break;case c("MessagingGenericAdminTextType").SERVICES_VERTICAL_OPT_OUT_REQUESTS:var X=(u=m)!=null?(u=u.log_message_data)!=null?(u=u.untypedData)!=null?u.page_id:u:u:u;v=X&&c("React").createElement(c("ServicesAppointmentOptOutRequestsAdminText.react"),{message:m.log_message_body,pageID:X,userID:m.other_user_fbid});break;default:break}return c("React").createElement("span",null,v)}};f.exports=j}),null);
__d("P2PBigAmount.react",["cx","PECurrency","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);var n=c("PECurrency").getCurrencySymbol(this.props.currencyCode);this.state={currencySymbol:n||""}}l.prototype.render=function(){var m="_8j6"+(this.props.size==="large"?" _1fv":""),n="_8jc"+(this.props.isPending?" _8jd":"")+(this.props.amount.length>=7?" _8je":"");return c("React").createElement("div",{className:c("joinClasses")(this.props.className,m)},c("React").createElement("div",{className:"_2n9x"+(this.props.isPending?" _2n9y":"")+(this.props.size==="large"?" _2n9-":"")+(this.props.size!=="large"&&this.props.amount.length>=7?" _62g-":"")},this.state.currencySymbol),c("React").createElement("div",{className:c("joinClasses")(this.props.className,n)},this.props.amount))};l.propTypes={amount:k.string.isRequired,className:k.string,currencyCode:k.string.isRequired,isPending:k.bool,size:k.oneOf(["medium","large"])};l.defaultProps={size:"medium"};f.exports=l}),null);
__d("P2PGroupSendReceiptDialog.react",["cx","fbt","FacepileRounded.react","Image.react","Link.react","MessengerEnvironment","P2PAmountUtils","P2PBigAmount.react","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PLinkConstants","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PPaymentRequestStatus","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.handleClose=function(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED);this.props.onClose()}.bind(this),n}l.prototype.componentDidMount=function(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount})};l.prototype.getReceiverStatusMap=function(){var m;return this.props.individualRequests.reduce(function(n,o){switch(o.currentStatus){case c("P2PPaymentRequestStatus").EXPIRED:case c("P2PPaymentRequestStatus").DECLINED:case c("P2PPaymentRequestStatus").TRANSFER_COMPLETED:n[o.currentStatus].push(o);break;default:n[c("P2PPaymentRequestStatus").INITED].push(o);break}return n},(m={},m[c("P2PPaymentRequestStatus").DECLINED]=[],m[c("P2PPaymentRequestStatus").EXPIRED]=[],m[c("P2PPaymentRequestStatus").INITED]=[],m[c("P2PPaymentRequestStatus").TRANSFER_COMPLETED]=[],m))};l.prototype.getRequestProfile=function(m){var n=m.requestee||{};return{image_src:n.picture,name:n.full_name}};l.prototype.log=function(m,n){c("P2PLogger").log(m,babelHelpers["extends"]({www_event_flow:this.props.eventFlow},n))};l.prototype.renderBody=function(){return c("React").createElement(c("P2PDialogBody.react"),null,c("React").createElement("ul",null,this.renderParticipantRow(this.props.sender,true),this.renderParticipantRow(this.props.receiver,false)),this.renderReceiverStatusList(),c("React").createElement("div",{className:"_bpy"},c("React").createElement(c("P2PBigAmount.react"),{amount:c("P2PAmountUtils").sanitizeAmount(this.props.amount),currencyCode:this.props.currencyCode,isPending:this.props.isGrayAmount,size:"large"})),c("React").createElement(c("P2PText.react"),{className:"_bpt",size:"small",type:"secondary"},this.props.bodyText," ",c("React").createElement(c("Link.react"),{className:"_1ed3",href:c("P2PLinkConstants").helpCenterURI,target:"_blank"},i._("Learn More"))))};l.prototype.renderParticipantRow=function(m,n){if(!n&&this.props.individualRequests.length>1)return null;return c("React").createElement("li",{className:"_2chg",key:m.id},c("React").createElement("div",{className:"_2chh"},c("React").createElement(c("Link.react"),{href:m.profile_uri,onClick:this.props.onClose},c("React").createElement(c("Image.react"),{height:50,src:m.picture,width:50}))),c("React").createElement("div",{className:"_2chi"},c("React").createElement(c("P2PText.react"),{type:"primary"},c("React").createElement(c("P2PText.react"),{type:"secondary"},this.renderParticipantText(n)),m.full_name)))};l.prototype.renderParticipantText=function(m){if(m)return i._("From");return i._("To")};l.prototype.renderReceiverStatusList=function(){if(this.props.individualRequests.length<2)return null;var m=this.getReceiverStatusMap();return c("React").createElement("ul",null,this.renderStatus(m,c("P2PPaymentRequestStatus").TRANSFER_COMPLETED),this.renderStatus(m,c("P2PPaymentRequestStatus").DECLINED),this.renderStatus(m,c("P2PPaymentRequestStatus").INITED),this.renderStatus(m,c("P2PPaymentRequestStatus").EXPIRED))};l.prototype.renderStatus=function(m,n){var o=m[n].map(this.getRequestProfile);if(o.length===0)return null;return c("React").createElement("li",{className:"_5-av",key:n},c("React").createElement(c("P2PText.react"),{className:"_2chi _2pir",type:"secondary"},this.renderStatusText(n)),c("React").createElement(c("FacepileRounded.react"),{className:"_3-8w",imageSize:40,numProfilesToDisplay:9,profiles:o,showNames:true}))};l.prototype.renderStatusText=function(m){switch(m){case c("P2PPaymentRequestStatus").DECLINED:return i._("Declined");case c("P2PPaymentRequestStatus").EXPIRED:return i._("Expired");case c("P2PPaymentRequestStatus").TRANSFER_COMPLETED:return i._("Paid");case c("P2PPaymentRequestStatus").INITED:default:return i._("Pending")}};l.prototype.render=function(){var m=c("MessengerEnvironment").messengerui,n=m?380:360,o=this.props.title;return c("React").createElement(c("P2PDialog.react"),{className:m?"_bpv":"",layerHideOnBlur:false,onToggle:this.props.onClose,width:n},c("React").createElement(c("P2PDialogTitle.react"),null,o),this.renderBody(),c("React").createElement(c("P2PDialogFooter.react"),null,c("React").createElement(c("P2PButton.react"),{label:i._("OK"),onClick:this.handleClose,type:"primary"})))};l.defaultProps={bodyText:i._("You can send money to friends in groups."),eventFlow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_GROUP_SEND,individualRequests:[],isGrayAmount:false,title:i._("Payment Details")};f.exports=l}),null);
__d("P2PGroupPaymentRequestReceiptDialog.react",["fbt","P2PActions","P2PGroupSendReceiptDialog.react","P2PPaymentLoggerEventFlow","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("P2PGroupSendReceiptDialog.react"),{amount:this.props.amount,currencyCode:this.props.currencyCode,bodyText:h._("You can send payment requests to friends in groups"),eventFlow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_GROUP_REQUEST,individualRequests:this.props.individualRequests,isGrayAmount:true,receiver:this.props.requestee,sender:this.props.requester,title:h._("Payment Request Details"),onClose:this.props.onClose||c("P2PActions").hideDialog})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/p2p/payment_request/",{id:{type:"String",required:true}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/p2p/transaction/",{id:{type:"String",required:true}})}),null);
__d("P2PMercuryLogMessage.react",["cx","fbt","MessengerEnvironment","CurrentUser","Link.react","MercuryIDs","P2PGroupPaymentRequestReceiptDialog.react","P2PGroupSendReceiptDialog.react","P2PPaymentLogMessageSubtype","React","ReactLayeredComponentMixin_DEPRECATED","XP2PPaymentRequestReceiptController","XP2PTransactionDetailController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"P2PMercuryLogMessage",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{amount:j.string,receiver:j.object.isRequired,sender:j.object.isRequired,subtype:j.oneOf(Object.keys(c("P2PPaymentLogMessageSubtype")).map(function(l){return c("P2PPaymentLogMessageSubtype")[l]})),transferID:j.string.isRequired,threadFBID:j.string,threadID:j.string},getDefaultProps:function l(){return{amount:"",sender:null,receiver:null,subtype:null}},getInitialState:function l(){return{groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false}},handleGroupDetailsLinkClicked:function l(){this.setState({groupSendReceiptDetailsShown:true})},handleGroupPaymentRequestDetailsLinkClicked:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:true})},handleThirdPartyReceiptDialogClosed:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false})},isViewerSender:function l(){var m=this.props.sender.id;return m&&c("MercuryIDs").getUserIDFromParticipantID(m)===c("CurrentUser").getID()},isViewerReceiver:function l(){var m=this.props.receiver.id;return m&&c("MercuryIDs").getUserIDFromParticipantID(m)===c("CurrentUser").getID()},renderPaymentRequestDetailsLink:function l(){var m=c("XP2PPaymentRequestReceiptController").getURIBuilder().setString("id",this.props.transferID).getURI();return c("React").createElement(c("Link.react"),{className:"_kiq",href:m,target:"_blank"},i._("See details"))},renderTransferDetailsLink:function l(){var m=c("XP2PTransactionDetailController").getURIBuilder().setString("id",this.props.transferID).getURI();return c("React").createElement(c("Link.react"),{className:"_kiq",href:m,target:"_blank"},i._("See details"))},renderGroupDetailsLink:function l(){return c("React").createElement(c("Link.react"),{className:"_kiq",href:"#",onClick:this.handleGroupDetailsLinkClicked},i._("See details"))},renderGroupPaymentRequestDetailsLink:function l(){return c("React").createElement(c("Link.react"),{className:"_kiq",href:"#",onClick:this.handleGroupPaymentRequestDetailsLinkClicked},i._("See details"))},renderLayers:function l(){var m={},n={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},o={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};if(this.state.groupSendReceiptDetailsShown)m.groupSendReceiptDetailsDialog=c("React").createElement(c("P2PGroupSendReceiptDialog.react"),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:n,sender:o});else if(this.state.groupPaymentRequestReceiptDetailsShown)m.groupPaymentRequestReceiptDetailsDialog=c("React").createElement(c("P2PGroupPaymentRequestReceiptDialog.react"),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:n,requester:o});return m},render:function l(){__p&&__p();var m=null,n=this.props.amount,o=this.props.subtype,p=this.isViewerSender(),q=this.isViewerReceiver(),r=void 0;if(!p&&!q)r=this.renderGroupDetailsLink();else r=this.renderTransferDetailsLink();switch(o){case c("P2PPaymentLogMessageSubtype").SENT_IN_GROUP:m=i._("{sendername} sent {amount} to {receivername}. {details}",[i.param("sendername",this.props.sender.name),i.param("amount",n),i.param("receivername",this.props.receiver.name),i.param("details",r)]);break;case c("P2PPaymentLogMessageSubtype").CANCELED_EXPIRED:case c("P2PPaymentLogMessageSubtype").CANCELED_SAME_CARD:case c("P2PPaymentLogMessageSubtype").CANCELED_SENDER_RISK:case c("P2PPaymentLogMessageSubtype").CANCELED_RECIPIENT_RISK:case c("P2PPaymentLogMessageSubtype").CANCELED_CUSTOMER_SERVICE:if(p)m=i._("Your {amount} payment was canceled. {details}",[i.param("amount",n),i.param("details",this.renderTransferDetailsLink())]);else if(q)m=i._("{name}'s {amount} payment was canceled. {details}",[i.param("name",this.props.sender.name),i.param("amount",n),i.param("details",this.renderTransferDetailsLink())]);else m=i._("{sender_name}'s {amount} payment to {receiver_name} was canceled. {details}",[i.param("sender_name",this.props.sender.name),i.param("amount",n),i.param("receiver_name",this.props.receiver.name),i.param("details",r)]);m=c("React").createElement("span",{className:"_5rdx"},m);break;case c("P2PPaymentLogMessageSubtype").CANCELED_DECLINED:if(p)m=i._("{name} didn't accept your {amount} payment. {details}",[i.param("name",this.props.receiver.name),i.param("amount",n),i.param("details",this.renderTransferDetailsLink())]);else if(q)m=i._("You didn't accept {name}'s {amount} payment. {details}",[i.param("name",this.props.sender.name),i.param("amount",n),i.param("details",this.renderTransferDetailsLink())]);else m=i._("{receiver_name} didn't accept {sender_name}'s {amount} payment. {details}",[i.param("receiver_name",this.props.receiver.name),i.param("sender_name",this.props.sender.name),i.param("amount",n),i.param("details",r)]);m=c("React").createElement("span",{className:"_5rdx"},m);break;case c("P2PPaymentLogMessageSubtype").REQUEST_CANCELED_BY_REQUESTER:if(p)m=i._("You canceled your request for {payment request amount}. {details}",[i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else if(q)m=i._("{sender's name} canceled their request for {payment request amount}. {details}",[i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else m=i._("{sender's name} canceled their request for {payment request amount} from {receiver's name}. {details}",[i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("receiver's name",this.props.receiver.name),i.param("details",this.renderGroupPaymentRequestDetailsLink())]);m=c("React").createElement("span",{className:"_5rdx"},m);break;case c("P2PPaymentLogMessageSubtype").REQUEST_DECLINED_BY_REQUESTEE:if(p)m=i._("{receiver's name} declined your request for {payment request amount}. {details}",[i.param("receiver's name",this.props.receiver.name),i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else if(q)m=i._("You declined {sender's name}'s request for {payment request amount}. {details}",[i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else m=i._("{receiver's name} declined {sender's name}'s request for {payment request amount}. {details}",[i.param("receiver's name",this.props.receiver.name),i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("details",this.renderGroupPaymentRequestDetailsLink())]);m=c("React").createElement("span",{className:"_5rdx"},m);break;case c("P2PPaymentLogMessageSubtype").REQUEST_EXPIRED:if(p)m=i._("Your request for {payment request amount} expired so it was canceled. {details}",[i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else if(q)m=i._("{sender's name}'s request for {payment request amount} expired so it was canceled. {details}",[i.param("sender's name",this.props.sender.name),i.param("payment request amount",n),i.param("details",this.renderPaymentRequestDetailsLink())]);else m=i._("{sender's name}'s request to {receiver's name} for {payment request amount} expired so it was canceled. {details}",[i.param("sender's name",this.props.sender.name),i.param("receiver's name",this.props.receiver.name),i.param("payment request amount",n),i.param("details",this.renderGroupPaymentRequestDetailsLink())]);m=c("React").createElement("span",{className:"_5rdx"},m);break}return c("React").createElement("div",{className:c("MessengerEnvironment").messengerui?"_5rdy":""},m)}});f.exports=k}),null);
__d("MessengerLogMessageBody.react",["fbt","immutable","ImmutableObject","MercuryIDs","MercuryParticipants","MercuryLogMessageType","MessagingSourceEnum","MessengerAdminGroupUtils","P2PMercuryLogMessage.react","ReactComponentWithPureRenderMixin","React","StoreAndPropBasedStateMixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="source:messenger_growth:event_upcoming_bump",j=c("React").PropTypes,k=c("React").createClass({displayName:"MessengerLogMessageBody",_viewer:"",mixins:[c("ReactComponentWithPureRenderMixin"),c("StoreAndPropBasedStateMixin")(c("MercuryParticipants"))],propTypes:{thread:j.instanceOf(c("ImmutableObject")),message:j.instanceOf(c("ImmutableObject")).isRequired,viewer:j.string.isRequired},statics:{calculateState:function l(m){__p&&__p();var n=[],o=m.message,p=o.log_message_data,q=o.log_message_type;switch(q){case c("MercuryLogMessageType").SUBSCRIBE:n=p.added_participants;break;case c("MercuryLogMessageType").UNSUBSCRIBE:n=p.removed_participants;break;case c("MercuryLogMessageType").ORION:n.push(p.senderId,p.receiverId);break}if(!n||!n.length)return{};var r=c("immutable").Map().withMutations(function(s){n.forEach(function(t){s.set(t,c("MercuryParticipants").getOrFetch(t)||{})})});return{extraParticipants:r}}},render:function l(){__p&&__p();var m=this.props.message.log_message_type;this._viewer=c("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);if(this._viewer!==this.props.message.author&&m!==c("MercuryLogMessageType").ORION)return null;var n=c("MessengerAdminGroupUtils").isJoinableThread(this.props.thread),o=c("MessengerAdminGroupUtils").isGroupChat(this.props.thread);switch(m){case c("MercuryLogMessageType").SUBSCRIBE:return c("React").createElement("span",null,this._renderSubscribeMessage(this.props.message));case c("MercuryLogMessageType").UNSUBSCRIBE:if(n)return c("React").createElement("span",null,o?this._renderUnsubscribeMessageForGroupChat(this.props.message):this._renderUnsubscribeMessageForRoom(this.props.message));return c("React").createElement("span",null,this._renderUnsubscribeMessage(this.props.message));case c("MercuryLogMessageType").THREAD_NAME:if(n)return c("React").createElement("span",null,o?this._renderThreadNameMessageForGroupChat():this._renderThreadNameMessageForRoom());return c("React").createElement("span",null,this._renderThreadNameMessage());case c("MercuryLogMessageType").THREAD_IMAGE:if(n)return c("React").createElement("span",null,o?this._renderThreadImageMessageForGroupChat():this._renderThreadImageMessageForRoom());return c("React").createElement("span",null,this._renderThreadImageMessage());case c("MercuryLogMessageType").ORION:return this._renderP2PLogMessage(this.props.message);default:return null}},_renderP2PLogMessage:function l(m){var n=m.log_message_data,o=n.senderId,p=n.receiverId,q=this.state.extraParticipants,r=q.get(o),s=q.get(p);return c("React").createElement(c("P2PMercuryLogMessage.react"),{amount:n.formattedAmount,receiver:s,sender:r,subtype:n.subtype,threadFBID:m.thread_fbid,threadID:m.thread_id,transferID:n.transfer_id})},_renderSubscribeMessage:function l(m){var n=this._moveCurrentUserToFront(m.log_message_data.added_participants),o=this.state.extraParticipants;switch(n.length){case 1:return h._("You added {subscriber1}.",[h.param("subscriber1",o.get(n[0]).name)]);case 2:return h._("You added {subscriber1} and {subscriber2}.",[h.param("subscriber1",o.get(n[0]).name),h.param("subscriber2",o.get(n[1]).name)]);case 3:return h._("You added {subscriber1}, {subscriber2} and {subscriber3}.",[h.param("subscriber1",o.get(n[0]).name),h.param("subscriber2",o.get(n[1]).name),h.param("subscriber3",o.get(n[2]).name)]);default:var p=n.map(function(q){return o.get(q)});return h._("You added {subscriber1}, {subscriber2} and {num} other people.",[h.param("subscriber1",p[0].name),h.param("subscriber2",p[1].name),h.param("num",p.slice(2).length)])}},_renderUnsubscribeMessage:function l(m){var n=this.state.extraParticipants,o=m.log_message_data.removed_participants[0],p=n.get(o);if(!o||o===m.author)return h._("You left the conversation.");else return h._("You removed {name} from the conversation.",[h.param("name",p.name)])},_renderUnsubscribeMessageForRoom:function l(m){var n=this.state.extraParticipants,o=m.log_message_data.removed_participants[0],p=n.get(o);if(!o||o===m.author)return h._("You left the room.");else return h._("You removed {name} from the room.",[h.param("name",p.name)])},_renderUnsubscribeMessageForGroupChat:function l(m){var n=this.state.extraParticipants,o=m.log_message_data&&m.log_message_data.removed_participants&&m.log_message_data.removed_participants[0],p=o&&n.get(o);if(!o||o===m.author)return h._("You left the chat.");else return h._("You removed {name} from the chat.",[h.param("name",p&&p.name)])},_renderThreadNameMessage:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the group name.");var n=this.props.message.tags;if(n&&n.indexOf(c("MessagingSourceEnum").GROUPSYNC_NAMING)!==-1)return h._("You named the group {thread_name}. Your group is also on Facebook.",[h.param("thread_name",m.name)]);return h._("You named the group {the new name of the group}.",[h.param("the new name of the group",m.name)])},_renderThreadNameMessageForRoom:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the room name.");return h._("You named the room {the new name of the group}.",[h.param("the new name of the group",m.name)])},_renderThreadNameMessageForGroupChat:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the chat name.");return h._("You named the chat {the new name of the group}.",[h.param("the new name of the group",m.name)])},_renderThreadImageMessage:function l(){if(this.props.message.tags!==undefined&&this.props.message.tags.indexOf(i)!==-1)return h._("The group photo has been changed.");return h._("You changed the group photo.")},_renderThreadImageMessageForRoom:function l(){return h._("You changed the room photo.")},_renderThreadImageMessageForGroupChat:function l(){return h._("You changed the chat photo.")},_moveCurrentUserToFront:function l(m){var n=this._viewer,o=m.indexOf(n);if(o>0){var p=m.filter(function(q){return q!==n});return[n].concat(p)}return m}});f.exports=k}),null);
__d("MessengerLogMessage.react",["cx","fbt","ix","BootloadOnRender.react","EventRemindersGating","EventsMessengerComActionContextJSConfig","Image.react","ImmutableObject","JSResource","LazyComponent.react","Link.react","MercuryLogMessageType","MercuryLWARenderer","MercuryMessageInfo","MercuryXMATRenderer","MessagingGenericAdminTextType","MessengerDialogs.bs","MessengerLightweightActionUtils","MessengerLogMessageBody.react","MNCommerceLogMessageUtils","React","convertMIGColorToFIGColor","joinClasses","requireWeak","EventReminderRequestHelper"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=j("86913");k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={showEventPlanDialog:false},this.$MessengerLogMessage6=function(event){__p&&__p();event.stopPropagation();if(this.state.showEventPlanDialog)return;this.setState({showEventPlanDialog:true});if(!this.props.thread)return;var u=this.props.thread,v=c("EventReminderRequestHelper"),w={action_history:[{surface:c("EventsMessengerComActionContextJSConfig").messenger_com,mechanism:c("EventsMessengerComActionContextJSConfig").reminder_admin_text}]};v.fetchEventReminder(u.thread_id,u.lightweight_event.oid,function(){c("MessengerDialogs.bs").showDialog(function(){return c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("MessengerEventPlanContainer.react").__setRef("MessengerLogMessage.react"),placeholder:c("React").createElement("div",null),component:c("React").createElement(c("LazyComponent.react"),{threadID:u.thread_id,dialogOnly:true,dialogHandleToggle:this.$MessengerLogMessage7,actionContext:w})})}.bind(this))}.bind(this))}.bind(this),this.$MessengerLogMessage7=function(u){this.setState({showEventPlanDialog:false});c("MessengerDialogs.bs").removeAllDialogs()}.bind(this),q}o.prototype.render=function(){var p=c("EventRemindersGating").shouldShowPlansOnMessengerCom?c("React").createElement("span",{className:"_ofg",ref:"attachment"},this.$MessengerLogMessage1()):null;return c("React").createElement("div",{className:this.$MessengerLogMessage2()},this.$MessengerLogMessage3(),c("React").createElement("i",{className:"_uwa"}),c("React").createElement("span",{className:"_3oh-"},this.$MessengerLogMessage4()),p)};o.prototype.$MessengerLogMessage4=function(){var p=c("convertMIGColorToFIGColor")(this.props.thread&&this.props.thread.custom_color),q=void 0;if(c("MessengerLightweightActionUtils").isLWAMessage(this.props.message))return c("MercuryLWARenderer").renderCollapsedText(this.props.message);if(this.props.message.log_message_type!==c("MercuryLogMessageType").ORION)q=c("MercuryXMATRenderer").renderText(p,this.props.message,this.props.isLastOfType,this.props.onImageLoad,this.props.isPageMessage);return this.$MessengerLogMessage5()||q||c("React").createElement(c("MessengerLogMessageBody.react"),{message:this.props.message,viewer:this.props.viewer,thread:this.props.thread})};o.prototype.$MessengerLogMessage5=function(){var p=this.props.message;if(c("MNCommerceLogMessageUtils").isCommercePageAdminMessage(p))return c("MNCommerceLogMessageUtils").getCommercePageManage(p,true);return null};o.prototype.$MessengerLogMessage3=function(){if(!c("MercuryMessageInfo").hasError(this.props.message))return null;return c("React").createElement(c("Image.react"),{className:"_41-9",src:n})};o.prototype.$MessengerLogMessage2=function(){__p&&__p();var p=void 0,q=this.props.message,r=q.log_message_type===c("MercuryLogMessageType").UNSUBSCRIBE&&q.log_message_data.removed_participants.indexOf(q.author)!==-1,s=this.props.viewer;switch(q.log_message_type){case c("MercuryLogMessageType").SUBSCRIBE:p="_uwb";break;case c("MercuryLogMessageType").UNSUBSCRIBE:p=r?"_uwc":"_uwe";break;case c("MercuryLogMessageType").PHONE_CALL:p=q.log_message_data.caller.indexOf(s)!==-1?"_uwf":"_uwg";break;case c("MercuryLogMessageType").VIDEO_CALL:p=q.log_message_data.caller.indexOf(s)!==-1?"_uwh":"_uwi";break;case c("MercuryLogMessageType").THREAD_NAME:p="_uwj";break;case c("MercuryLogMessageType").THREAD_IMAGE:p="_uwk";break;case c("MercuryLogMessageType").SERVER_ERROR:p="_uwl";break;case c("MercuryLogMessageType").LIVE_LISTEN:p="_uwm";break;case c("MercuryLogMessageType").WALLPAPER:p="_uwn";break;case c("MercuryLogMessageType").ORION:p="_uwo";break;case c("MercuryLogMessageType").SWITCH_TO_WORK:p="_uwp";break;case c("MercuryLogMessageType").PAGE_REPLY:p="_uwq";break}return c("joinClasses")("_497p"+((q.log_message_type===c("MercuryLogMessageType").PHONE_CALL||q.log_message_type===c("MercuryLogMessageType").VIDEO_CALL)&&!q.log_message_data.answered?" _3no3":"")+(q.log_message_data&&q.log_message_data.message_type===c("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE?" _11es":""),p)};o.prototype.$MessengerLogMessage1=function(){__p&&__p();if(!this.props.thread)return null;var p=this.props.thread;if(!p.lightweight_event||!this.props.message.log_message_data)return null;var q=void 0;c("requireWeak")("EventReminderStateStore",function(t){q=t.getEvent(p.thread_id)});if(!q||!q.exists)return null;var r=void 0;switch(this.props.message.log_message_data.message_type){case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION:case c("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE:r=i._("Change");break;default:r=null}var s=c("React").createElement(c("Link.react"),{href:"#",onClick:this.$MessengerLogMessage6,title:i._("Edit Event"),ref:"event_rem_link"},r);if(this.props.displayItems)s=null;return s};o.propTypes={message:m.instanceOf(c("ImmutableObject")).isRequired,viewer:m.string.isRequired,isLastOfType:m.bool.isRequired,onImageLoad:m.func};f.exports=o}),null);
__d("MessengerHotLikeGlyphIcon.react",["ix","cx","Image.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("Image.react"),{className:"_43_3",src:h("134384")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("EmoticonUtils",["EmoticonsList","Parent"],(function a(b,c,d,e,f,g){__p&&__p();var h="emoticon_",i=c("EmoticonsList").symbols,j={getEmoteFromTarget:function k(l){var m=c("Parent").byClass(l,"emoticon");if(!m)return null;var n=null;m.className.split(" ").forEach(function(o){if(o.startsWith(h))n=o.substring(h.length)});return i[n]||null},insertEmoticon:function k(l,m,n){var o=m.substring(0,n.start),p=m.substring(n.end);if(n.start>0&&!o.endsWith(" "))l=" "+l;if(!p.startsWith(" "))l+=" ";var q=o+l+p;n.start+=l.length;n.end=n.start;return{result:q,start:n.start,end:n.end}}};f.exports=j}),null);
__d("MercuryPageOrderedThreadlist",["MercuryOrderedThreadlist","MercurySingletonProvider","MessagingTag","MercuryFilters","MercuryPageServerRequests"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("MercuryOrderedThreadlist"));i=h&&h.prototype;j.getForFBID=function(l){return k.getForFBID(l)};j.get=function(){return k.get()};function j(l){i.constructor.call(this,l);this.$MercuryPageOrderedThreadlist1=l}j.prototype.getServerRequests=function(){return c("MercuryPageServerRequests").getForFBID(this.$MercuryPageOrderedThreadlist1)};j.prototype.addNonPriorityThreadsWithoutSort=function(l){var m=this.getThreadlistOrderMap(c("MessagingTag").INBOX,c("MercuryFilters").NONPRIORITY);m.addResourcesWithoutSorting(l,m.getCurrentArraySize())};var k=new(c("MercurySingletonProvider"))(j);f.exports=j}),null);
__d("MercuryDragDropPrompt.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_4g6x"},c("React").createElement("div",{className:"_4g6y"},c("React").createElement("div",{className:"_4g6z _4g71"},i._("Drag Links\/Files Here")),c("React").createElement("div",{className:"_4g6z _4g6- _4g6_"},i._("Drop Files Here")),c("React").createElement("div",{className:"_4g6z _4g6- _4g70"},i._("Drop Link Here"))))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("MercurySyncPageEnvironment",["Arbiter","ChannelInitialData","ChannelManager","MercurySyncDeltaHandler"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ChannelManager").startChannelManager();function h(j,k){if(Object.keys(c("ChannelInitialData")).length===0&&JSON.stringify(c("ChannelInitialData"))===JSON.stringify({}))return;if(!k)k=0;c("MercurySyncDeltaHandler").getForFBID(j);c("ChannelManager").subscribeIrisQueue(j,k.toString());c("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:j,seqID:k})}function i(j){}f.exports={setUp:h,tearDown:i}}),null);
__d("SelectionPosition",["Event","InputSelection","SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$SelectionPosition1=i;this.$SelectionPosition2={start:0,end:0};this.$SelectionPosition3=new(c("SubscriptionsHandler"))();this.$SelectionPosition4=false;this.updatePos();this.enable()}h.prototype.getPos=function(){"use strict";return babelHelpers["extends"]({},this.$SelectionPosition2)};h.prototype.setPos=function(i,j){"use strict";this.$SelectionPosition2={start:i,end:j};this.restore()};h.prototype.updatePos=function(){"use strict";this.$SelectionPosition2=c("InputSelection").get(this.$SelectionPosition1)};h.prototype.restore=function(){"use strict";c("InputSelection").set(this.$SelectionPosition1,this.$SelectionPosition2.start,this.$SelectionPosition2.end)};h.prototype.enable=function(){"use strict";if(!this.$SelectionPosition4){this.$SelectionPosition3.addSubscriptions(c("Event").listen(this.$SelectionPosition1,"keyup",this.updatePos.bind(this)),c("Event").listen(this.$SelectionPosition1,"click",this.updatePos.bind(this)));this.$SelectionPosition4=true}};h.prototype.disable=function(){"use strict";if(this.$SelectionPosition4){this.$SelectionPosition3.release();this.$SelectionPosition4=false}};f.exports=h}),null);
__d("PagesSelectableSimpleListActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h="PAGES_SELECTABLE_SIMPLE_LIST",i=c("keyMirrorRecursive")({ROW:{ALL_DESELECTED:"",ALL_SELECTED:"",SELECTED:""}},h);f.exports=i}),null);
__d("PagesSelectableSimpleListAction",["PagesDispatcher","PagesSelectableSimpleListActionType"],(function a(b,c,d,e,f,g){"use strict";var h={rowSelected:function i(j,k){c("PagesDispatcher").dispatch({type:c("PagesSelectableSimpleListActionType").ROW.SELECTED,rowKey:j,selected:k})},selectAll:function i(j,k){c("PagesDispatcher").dispatch({type:c("PagesSelectableSimpleListActionType").ROW.ALL_SELECTED,rowKeys:j,selected:k})},deselectAll:function i(){c("PagesDispatcher").dispatch({type:c("PagesSelectableSimpleListActionType").ROW.ALL_DESELECTED})}};f.exports=h}),null);
__d("PagesSelectableSimpleListStore",["FluxStore","Map","PagesDispatcher","PagesSelectableSimpleListActionType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("PagesDispatcher"));this.$PagesSelectableSimpleListStore1=new(c("Map"))()}j.prototype.__onDispatch=function(k){__p&&__p();switch(k.type){case c("PagesSelectableSimpleListActionType").ROW.SELECTED:this.$PagesSelectableSimpleListStore2(k.rowKey,k.selected);this.__emitChange();break;case c("PagesSelectableSimpleListActionType").ROW.ALL_SELECTED:this.$PagesSelectableSimpleListStore3(k.rowKeys,k.selected);this.__emitChange();break;case c("PagesSelectableSimpleListActionType").ROW.ALL_DESELECTED:this.$PagesSelectableSimpleListStore1=new(c("Map"))();this.__emitChange();break}};j.prototype.$PagesSelectableSimpleListStore2=function(k,l){if(l)this.$PagesSelectableSimpleListStore1.set(k,true);else this.$PagesSelectableSimpleListStore1["delete"](k)};j.prototype.$PagesSelectableSimpleListStore3=function(k,l){k.forEach(function(m){return this.$PagesSelectableSimpleListStore2(m,l)}.bind(this))};j.prototype.isRowSelected=function(k){return this.$PagesSelectableSimpleListStore1.has(k)};j.prototype.getSelectedCount=function(){return this.$PagesSelectableSimpleListStore1.size};j.prototype.getSelectedRowsMap=function(){return this.$PagesSelectableSimpleListStore1};f.exports=new j()}),null);
__d("PagesSelectableSimpleListCheckboxContainer.react",["FluxContainer","PagesSelectableListCheckbox.react","PagesSelectableSimpleListAction","PagesSelectableSimpleListStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$PagesSelectableSimpleListCheckboxContainer1=function(){c("PagesSelectableSimpleListAction").selectAll(this.props.allRowKeysGetter(),!this.state.checked);var p=this.props.onChange;if(p)p(c("PagesSelectableSimpleListStore").getSelectedRowsMap())}.bind(this),l}j.getStores=function(){return[c("PagesSelectableSimpleListStore")]};j.calculateState=function(k,l){var m=c("PagesSelectableSimpleListStore").getSelectedCount(),n=void 0;if(m===0)n=false;else if(m===l.rowCount)n=true;else n=null;return{checked:n}};j.prototype.render=function(){return c("React").createElement(c("PagesSelectableListCheckbox.react"),{checked:this.state.checked,onChange:this.$PagesSelectableSimpleListCheckboxContainer1})};f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("PagesSelectableSimpleListRowContainer.react",["FluxContainer","PagesSelectableSimpleListAction","PagesSelectableSimpleListStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$PagesSelectableSimpleListRowContainer1=function(p){c("PagesSelectableSimpleListAction").rowSelected(this.props.rowKey,p);if(this.props.onSelected)this.props.onSelected(c("PagesSelectableSimpleListStore").getSelectedRowsMap())}.bind(this),l}j.getStores=function(){return[c("PagesSelectableSimpleListStore")]};j.calculateState=function(k,l){return{selected:c("PagesSelectableSimpleListStore").isRowSelected(l.rowKey)}};j.prototype.render=function(){return this.props.rowRenderer(this.props.rowData.rowIndex,this.state.selected,this.$PagesSelectableSimpleListRowContainer1)};f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("PagesSelectableSimpleList.react",["cx","CenteredContainer.react","LeftRight.react","OnVisible.react","PagesSelectableSimpleListCheckboxContainer.react","PagesSelectableSimpleListRowContainer.react","React","ResponsiveBlock.react","SimpleList.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){__p&&__p();j.constructor.call(this);this.$PagesSelectableSimpleList4=function(l,m){this.setState({headerHeight:m})}.bind(this);this.$PagesSelectableSimpleList6=function(l){if(this.props.canLoadMoreRows&&l.rowIndex===this.props.rowCount)return this.$PagesSelectableSimpleList8();return c("React").createElement(c("PagesSelectableSimpleListRowContainer.react"),{ref:this.props.rowKeyGetter(l.rowIndex),onSelected:this.$PagesSelectableSimpleList3,rowData:l,rowKey:this.props.rowKeyGetter(l.rowIndex),rowRenderer:this.props.rowRenderer})}.bind(this);this.$PagesSelectableSimpleList9=function(){if(this.props.onRequestMoreRows&&!this.props.isLoadingMoreRows)this.props.onRequestMoreRows()}.bind(this);this.$PagesSelectableSimpleList3=function(l){if(this.props.onSelectionChange)this.props.onSelectionChange(l)}.bind(this);this.state={headerHeight:0}}k.prototype.render=function(){return c("React").createElement("div",{className:this.props.className},this.$PagesSelectableSimpleList1(),this.$PagesSelectableSimpleList2())};k.prototype.$PagesSelectableSimpleList1=function(){if(!this.props.showHeader)return null;var l=this.props.allRowKeysGetter?c("React").createElement(c("PagesSelectableSimpleListCheckboxContainer.react"),{allRowKeysGetter:this.props.allRowKeysGetter,onChange:this.$PagesSelectableSimpleList3,rowCount:this.props.rowCount}):null;return c("React").createElement(c("ResponsiveBlock.react"),{onResize:this.$PagesSelectableSimpleList4},c("React").createElement(c("LeftRight.react"),{className:"_2x3m"},c("React").createElement("div",null,l,c("React").createElement("span",null,this.props.actionBarLeftComponent)),c("React").createElement("div",null,this.props.actionBarRightComponent)),this.props.header)};k.prototype.$PagesSelectableSimpleList2=function(){var l=this.props.height-this.state.headerHeight;if(l<=0)return null;if(this.props.replaceContent||!this.props.rowCount)return c("React").createElement("div",{style:{height:l}},this.props.replaceContent);return this.$PagesSelectableSimpleList5(l)};k.prototype.$PagesSelectableSimpleList5=function(l){return c("React").createElement(c("SimpleList.react"),{goToRowIndex:this.props.goToRowIndex,height:l,hideScrollShadow:true,item:this.$PagesSelectableSimpleList6,ref:"simpleList",rowCount:this.$PagesSelectableSimpleList7(),rowHeight:this.props.rowHeight,scrollbarOnHoverOnly:true})};k.prototype.getSimpleList=function(){return this.refs.simpleList};k.prototype.$PagesSelectableSimpleList7=function(){return this.props.rowCount+(this.props.canLoadMoreRows?1:0)};k.prototype.$PagesSelectableSimpleList8=function(){return c("React").createElement(c("OnVisible.react"),{onVisible:this.$PagesSelectableSimpleList9,style:{height:this.props.rowHeight}},this.props.loadingIndicator)};k.defaultProps={canLoadMoreRows:false,isLoadingMoreRows:false,loadingIndicator:c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true},c("React").createElement(c("XUISpinner.react"),{size:"large"})),showHeader:false};f.exports=k}),null);
__d("PageCustomerConstants",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h={ActionTypes:c("keyMirror")({UPDATE_CUSTOMER_ACTIONS:null,UPDATE_CUSTOMER_DATA:null,UPDATE_CUSTOMER_ADMIN_NOTES_DATA:null,UPDATE_MORE_SHARED_PHOTOS:null,UPDATED_CUSTOMER_TAG_NAMES:null,FETCH_CUSTOMER_DATA:null,FETCH_CUSTOMER_ACTIONS_DATA:null,FETCH_MORE_SHARED_PHOTOS:null,RESET:null,RESET_UI:null,QUERY_TAGS:null,SET_TAG:null,UNSET_TAG:null,SHOW_MORE_HISTORY:null,SHOW_MORE_NOTES:null,SHOW_STORY_PREVIEW:null,HIDE_STORY_PREVIEW:null,TOGGLE_EDIT_NOTE_DIALOG:null,TOGGLE_DELETE_NOTE_DIALOG:null,TOGGLE_FULL_VIEW:null,ADD_NOTE:null,EDIT_NOTE:null,DELETE_NOTE:null,DRAFT_NOTE:null}),PayloadSources:c("keyMirror")({SERVER_ACTION:null,VIEW_ACTION:null}),ContextCardLocations:c("keyMirror")({HOVERCARD_LOCATION:null,INBOX_LOCATION:null})};f.exports=h}),null);
__d("PageCustomerDispatcher",["Dispatcher_DEPRECATED","PageCustomerConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("PageCustomerConstants").PayloadSources,k=[];h=babelHelpers.inherits(l,c("Dispatcher_DEPRECATED"));i=h&&h.prototype;l.prototype.$PageCustomerDispatcher1=function(){var m=k;k=[];m.forEach(function(n){return n()});k.length=0};l.prototype.addPostDispatchCallback=function(m){if(this.isDispatching())k.push(m);else m()};l.prototype.handleServerAction=function(m){this.addPostDispatchCallback(function(){var n={source:j.SERVER_ACTION,action:m};this.dispatch(n);this.$PageCustomerDispatcher1()}.bind(this))};l.prototype.handleViewAction=function(m){this.addPostDispatchCallback(function(){var n={source:j.VIEW_ACTION,action:m};this.dispatch(n);this.$PageCustomerDispatcher1()}.bind(this))};function l(){h.apply(this,arguments)}f.exports=new l()}),null);
__d("PagesAdminToolUIActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONTEXT_CARD_CLICK_ADD_NOTE:"context_card_click_add_note",CONTEXT_CARD_CLICK_CONFIRM_ADD_NOTE:"context_card_click_confirm_add_note",CONTEXT_CARD_CLICK_DELETE_NOTE:"context_card_click_delete_note",CONTEXT_CARD_CLICK_CONFIRM_DELETE_NOTE:"context_card_click_confirm_delete_note",CONTEXT_CARD_CLICK_HISTORY:"context_card_click_history",CONTEXT_CARD_CLICK_PROFILE_LINK:"context_card_click_profile_link",CONTEXT_CARD_CLICK_SHARED_MEDIA:"context_card_click_shared_media",CONTEXT_CARD_LOAD_MORE_SHARED_MEDIA:"context_card_load_more_shared_media",CONTEXT_CARD_LOAD_MORE_NOTES:"context_card_load_more_notes",CONTEXT_CARD_LOAD_MORE_HISTORY:"context_card_load_more_history",CONTEXT_CARD_CLICK_SET_CUSTOM_TAG:"context_card_click_set_custom_tag",CONTEXT_CARD_CLICK_UNSET_CUSTOM_TAG:"context_card_click_unset_custom_tag",TAG_MANAGEMENT_CLICK_DELETE_LINK:"tag_management_click_delete_link",TAG_MANAGEMENT_CLICK_CONFIRM_DELETE:"tag_management_click_confirm_delete",TAG_MANAGEMENT_CLICK_COLOR_SELECTOR:"tag_management_click_color_selector",TAG_MANAGEMENT_CLICK_CHANGE_COLOR:"tag_management_click_change_color",TAG_MANAGEMENT_CLICK_ADD_TAG:"tag_management_click_add_tag",TAG_MANAGEMENT_CLICK_MERGE_TAG:"tag_management_click_merge_tag",MESSAGE_INBOX_SWITCH_FOLDER:"message_inbox_switch_folder",MESSAGE_INBOX_TOGGLE_FILTER_PANEL:"message_inbox_toggle_filter_panel",MESSAGE_INBOX_CLICK_MANAGE_TAGS:"message_inbox_click_manage_tags",MESSAGE_INBOX_CLICK_ADD_SEARCH_TAGS:"message_inbox_click_add_search_tags",MESSAGE_INBOX_CLICK_REMOVE_SEARCH_TAGS:"message_inbox_click_remove_search_tags",MESSAGE_INBOX_CLICK_SEARCH_NAMES:"message_inbox_click_search_names",MESSAGE_INBOX_CLICK_SEARCH_MESSAGES:"message_inbox_click_search_messages",MESSAGE_INBOX_CLICK_AWAY_TOGGLE:"message_inbox_click_away_toggle",MESSAGE_INBOX_CLICK_THREAD_BLOCK:"message_inbox_click_thread_block",MESSAGE_INBOX_CLICK_SEND_MESSAGE:"message_inbox_click_send_message",MESSAGE_INBOX_CLICK_MENU_ACTION:"message_inbox_click_menu_action",HOVERCARD_CLICK_EXPAND_FULL_VIEW:"hovercard_click_expand_full_view",HOVERCARD_CLICK_SEND_MESSAGE:"hovercard_click_send_message",HOVERCARD_CLICK_SEE_CONVERSATION:"hovercard_click_see_conversation",HOVERCARD_CLICK_VIEW_PROFILE:"hovercard_click_view_profile"})}),null);
__d("PagesManagerActionType",["ImmutableObject","keyMirrorRecursive"],(function a(b,c,d,e,f,g){var h=new(c("ImmutableObject"))(c("keyMirrorRecursive")({LIST:{FETCH:"",FETCHED:"",UPDATED:"",LOAD_MORE:"",LOADING:"",PREVENT_SCROLL:"",SELECT:"",DESELECT_ALL:"",VIEW:"",INITIAL_VIEW:"",CLEAR_INITIAL_VIEW:"",SET_RESPONSE_DATA:"",ITEM_FOLDER_CHANGE:"",REMOVE_ITEM_FOLDER_CHANGE:""},NAVIGATION_UNIT:{CHANGE:"",NOTIFICATION_COUNT_CHANGE:""},FILTER_PANEL:{TOGGLE_PANEL:""},LAYOUT:{HEIGHT_CHANGE:"",LIST_HEIGHT_CHANGE:"",FOOTER_HEIGHT_CHANGE:"",HEADER_HEIGHT_CHANGE:""},SEARCH:{TOGGLE:"",CHANGE_TYPE:"",CHANGE_SEARCH_TERM:"",IS_SEARCHING_CHANGED:"",ADD_SEARCH_CUSTOM_TAG:"",REMOVE_SEARCH_CUSTOM_TAG:"",FETCH_CUSTOM_TAG_THREAD_COUNTS:"",UPDATE_CUSTOM_TAG_THREAD_COUNTS:"",SELECT_CUSTOMER:"",CLEAR:"",LABEL:""},CTA:{CTA_ID_FETCH_SUCCESS:"",CTA_ID_FETCH_ERROR:""}}));f.exports=h}),null);
__d("PagesManagerCustomTagsActionType",["PagesManagerActionType","keyMirrorRecursive"],(function a(b,c,d,e,f,g){var h=c("keyMirrorRecursive")({FETCH:null,UPDATE:null,TOGGLE_MERGE_LABELS:null,TOGGLE_TAG_MANAGEMENT_DIALOG:null,CREATE:null,DELETE:null,EDIT_COLOR:null,MERGE:null},"CUSTOM_TAGS_");Object.assign(h,c("PagesManagerActionType"));f.exports=h}),null);
__d("PagesManagerCustomTagsAction",["PagesManagerCustomTagsActionType","PagesManagerDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();var h={fetch:function i(j){c("PagesManagerDispatcher").dispatch({pageID:j,type:c("PagesManagerCustomTagsActionType").FETCH})},toggleMergeLabelsSection:function i(j,k){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerCustomTagsActionType").TOGGLE_MERGE_LABELS,pageID:j,show:k})},toggleManageTagsDialog:function i(j,k){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerCustomTagsActionType").TOGGLE_TAG_MANAGEMENT_DIALOG,pageID:j,show:k})},updateCustomTagsData:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerCustomTagsActionType").UPDATE,pageID:j,customTags:k,hasTagListChanged:l})},createCustomTag:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerCustomTagsActionType").CREATE,pageID:j,tagName:k,color:l})},deleteCustomTag:function i(j,k){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerCustomTagsActionType").DELETE,pageID:j,tagName:k})},editCustomTagColor:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerCustomTagsActionType").EDIT_COLOR,pageID:j,tagName:k,color:l})},mergeCustomTag:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerCustomTagsActionType").MERGE,pageID:j,tagName:k,oldTags:l})}};f.exports=h}),null);
__d("PagesManagerLogger",["immutable","PagesAdminToolUIActionType","PagesEventObserver","PagesEventType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").Map,i=h(c("PagesAdminToolUIActionType")).toArray();j.prototype.$PagesManagerLogger1=function(k){if(i.indexOf(k)<0)return false;return true};j.prototype.$PagesManagerLogger2=function(k,l,m,n){if(!this.$PagesManagerLogger1(l))return;var o=n||{};o.action_type=l;c("PagesEventObserver").notify(k,m,o)};j.prototype.logContextCardUIAction=function(k,l,m){this.$PagesManagerLogger2(c("PagesEventType").PAGES_ADMIN_TOOL_CONTEXT_CARD_UI_ACTION,k,l,m)};j.prototype.logManageTagUIAction=function(k,l,m){this.$PagesManagerLogger2(c("PagesEventType").PAGES_ADMIN_TOOL_MANAGE_TAG_UI_ACTION,k,l,m)};j.prototype.logMessageInboxUIAction=function(k,l,m){this.$PagesManagerLogger2(c("PagesEventType").PAGES_ADMIN_TOOL_MESSAGE_INBOX_UI_ACTION,k,l,m)};j.prototype.logHovercardUIAction=function(k,l,m){this.$PagesManagerLogger2(c("PagesEventType").PAGES_ADMIN_TOOL_HOVERCARD_UI_ACTION,k,l,m)};function j(){}f.exports=new j()}),null);
__d("PageCustomerActions",["cx","PageCustomerConstants","ActorURI","MercuryAttachmentType","MercuryAttachmentViewer","MercuryIDs","MercuryPageThreadActions","MessagesViewerSetID","PageCustomerDispatcher","PagesAdminToolUIActionType","PagesManagerLogger","PagesManagerCustomTagsAction","URI","Vector"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("PageCustomerConstants").ActionTypes,j="/ajax/messaging/attachments/sharedphotos.php",k={toggleContextCardDialog:function l(m,n){c("PageCustomerDispatcher").handleViewAction({actionType:i.TOGGLE_FULL_VIEW,pageID:m,userID:n})},resetData:function l(m){c("PageCustomerDispatcher").handleViewAction({actionType:i.RESET,pageID:m})},fetchCustomerData:function l(m,n){c("PageCustomerDispatcher").handleViewAction({actionType:i.FETCH_CUSTOMER_DATA,pageID:m,userID:n})},fetchCustomerActionsData:function l(m,n){c("PageCustomerDispatcher").handleViewAction({actionType:i.FETCH_CUSTOMER_ACTIONS_DATA,pageID:m,userID:n})},fetchMoreSharedPhotos:function l(m,n,o){c("PageCustomerDispatcher").handleViewAction({actionType:i.FETCH_MORE_SHARED_PHOTOS,pageID:m,userID:n,shouldLoadAllImages:o})},resetUI:function l(m,n){c("PageCustomerDispatcher").handleViewAction({actionType:i.RESET_UI,pageID:m,userID:n})},clickPhotoFullView:function l(m,n,o){switch(o.media_type){case c("MercuryAttachmentType").VIDEO:var p=o.dim.split(",");c("MercuryAttachmentViewer").renderVideo({disableForward:true,rootClassName:"_1j1h",videoID:o.fbid,videoSize:new(c("Vector"))(p[0],p[1]),videoURI:o.src_uri,pageID:m});break;case c("MercuryAttachmentType").ANIMATED_IMAGE:case c("MercuryAttachmentType").PHOTO:var q=c("ActorURI").create(new(c("URI"))(j).setQueryData({thread_id:n,image_id:o.fbid}),m);c("MercuryAttachmentViewer").bootstrapWithConfig({actorid:m,dimensions:o.dim,disableForward:true,disablePaging:true,endpoint:q,fbid:o.fbid,setID:c("MessagesViewerSetID").MESSAGES_VIEW_ALL_IN_THREAD,snapToPhoto:true,src:o.src_uri});break}c("PagesManagerLogger").logContextCardUIAction(c("PagesAdminToolUIActionType").CONTEXT_CARD_CLICK_SHARED_MEDIA,m,{fbid:o.fbid,media_type:o.media_type})},clickProfileLink:function l(m,n){c("PagesManagerLogger").logContextCardUIAction(c("PagesAdminToolUIActionType").CONTEXT_CARD_CLICK_PROFILE_LINK,m)},queryTags:function l(m,n,o){c("PageCustomerDispatcher").handleViewAction({actionType:i.QUERY_TAGS,pageID:m,userID:n,query:o})},setTag:function l(m,n,o){c("PageCustomerDispatcher").handleViewAction({actionType:i.SET_TAG,pageID:m,userID:n,tagName:o})},unsetTag:function l(m,n,o){c("PageCustomerDispatcher").handleViewAction({actionType:i.UNSET_TAG,pageID:m,userID:n,tagName:o})},unflag:function l(m,n){c("MercuryPageThreadActions").getForFBID(m).removeFlag(c("MercuryIDs").getThreadIDFromUserID(n),"context_card")},updateCustomTagsData:function l(m,n,o){c("PagesManagerCustomTagsAction").updateCustomTagsData(m,n,o)},showMoreHistory:function l(m,n){c("PageCustomerDispatcher").handleViewAction({actionType:i.SHOW_MORE_HISTORY,pageID:m,userID:n})},showMoreNotes:function l(m,n){c("PageCustomerDispatcher").handleViewAction({actionType:i.SHOW_MORE_NOTES,pageID:m,userID:n})},showStoryPreview:function l(m,n,o){c("PageCustomerDispatcher").handleViewAction({actionType:i.SHOW_STORY_PREVIEW,pageID:m,userID:n,storyToken:o})},hideStoryPreview:function l(m,n){c("PageCustomerDispatcher").handleViewAction({actionType:i.HIDE_STORY_PREVIEW,pageID:m,userID:n})},toggleEditNoteDialog:function l(m,n,o,p){c("PageCustomerDispatcher").handleViewAction({actionType:i.TOGGLE_EDIT_NOTE_DIALOG,pageID:m,userID:n,noteID:p,showEditNoteDialog:o})},toggleDeleteNoteDialog:function l(m,n,o,p){c("PageCustomerDispatcher").handleViewAction({actionType:i.TOGGLE_DELETE_NOTE_DIALOG,pageID:m,userID:n,noteID:o,showDeleteNoteDialog:p})},addNote:function l(m,n,o){c("PageCustomerDispatcher").handleViewAction({actionType:i.ADD_NOTE,pageID:m,userID:n,noteBody:o})},editNote:function l(m,n,o,p){c("PageCustomerDispatcher").handleViewAction({actionType:i.EDIT_NOTE,pageID:m,userID:n,noteID:o,noteBody:p})},deleteNote:function l(m,n,o){c("PageCustomerDispatcher").handleViewAction({actionType:i.DELETE_NOTE,pageID:m,userID:n,noteID:o})},draftNote:function l(m,n,o){c("PageCustomerDispatcher").handleViewAction({actionType:i.DRAFT_NOTE,pageID:m,userID:n,noteDraft:o})}};f.exports=k}),null);
__d("LeadFormsDataBridge",["AdsAPILeadGenDataFields","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGraphAPI","LeadGenDataStatus"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=[c("AdsAPILeadGenDataFields").CREATED_TIME,c("AdsAPILeadGenDataFields").ID,c("AdsAPILeadGenDataFields").NAME,c("AdsAPILeadGenDataFields").QUESTIONS],i=new(c("AdsGenericFilterField"))("status",c("AdsGenericFilterFieldType").STRING),j=new(c("AdsGenericFilterField"))("is_not_continued_flow",c("AdsGenericFilterFieldType").BOOLEAN),k=new(c("AdsGenericFilter"))(i,c("AdsGenericFilterOperator").EQUAL,c("LeadGenDataStatus").ACTIVE),l=new(c("AdsGenericFilter"))(j,c("AdsGenericFilterOperator").NOT_EQUAL,true),m={fetch:function o(p,q,r,s){var t={access_token:p,fields:h,filtering:new(c("AdsGenericFilterSet"))([k,l]).toAPI()};if(!p)delete t.access_token;c("AdsGraphAPI").get(f.id).object("page",q).edge("leadgen_forms").batched().get(t).done(function(u){return r(n(u.data))},function(u){return s(u)})}};function n(o){return o.map(function(p){return{id:p.id,name:p.name,created_time:p.create_time,questions:p.questions.map(function(q){return q.label})}})}f.exports=m}),null);
__d("SavedResponsesConstants",[],(function a(b,c,d,e,f,g){var h={editPanelViewMode:{LIST:"LIST",CREATE:"CREATE",EDIT:"EDIT",PERSONALIZE:"PERSONALIZE"},sortingKey:{LAST_USED:"LAST_USED",MOST_USED:"MOST_USED",LAST_CREATED:"LAST_CREATED"},browsePanelAttachModeWidth:300,editPanelDialogWidth:600,listItemImageHeight:60,listItemImageWidth:60};f.exports=h}),null);
__d("SavedResponsesActionButton.react",["cx","Image.react","React","ShimButton.react","XUIGrayText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n)}l.prototype.render=function(){var m=c("joinClasses")("_uvx",this.props.className);return c("React").createElement(c("ShimButton.react"),{className:m,onClick:this.props.onClick},c("React").createElement(c("Image.react"),{src:this.props.image,className:"_uvy"}),c("React").createElement(c("XUIGrayText.react"),{shade:"medium",className:"_uvz"},this.props.label))};l.propTypes={image:k.object.isRequired,label:k.string.isRequired,onClick:k.func.isRequired};f.exports=l}),null);
__d("XPagesSavedResponseImagePreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/saved_responses/image/preview/",{})}),null);
__d("SavedResponsesImage.react",["cx","ActorURI","AsyncRequest","Image.react","LoadingIndicator.react","React","XPagesSavedResponseImagePreviewController","XUICloseButton.react","isEmpty","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n);this.$SavedResponsesImage1=null;this.state={currentThumbnailImageId:"",imageUrl:null,isFetchingThumbnail:false}}l.prototype.componentWillReceiveProps=function(m){if(m.imageID!==this.props.imageID)this.$SavedResponsesImage2(m.imageID)};l.prototype.componentDidMount=function(){if(this.props.imageID)this.$SavedResponsesImage2(this.props.imageID)};l.prototype.componentWillUnmount=function(){if(this.$SavedResponsesImage1&&this.$SavedResponsesImage1.abort){this.$SavedResponsesImage1.abort();this.$SavedResponsesImage1=null}};l.prototype.render=function(){if(!this.$SavedResponsesImage3()&&!this.state.imageUrl)return null;var m="_3mgf";if(this.$SavedResponsesImage3())m=c("joinClasses")(m,this.props.loadingClassName);else m=c("joinClasses")(m,this.props.displayClassName);return c("React").createElement("div",{className:this.props.className},c("React").createElement("div",{className:m},this.$SavedResponsesImage4()))};l.prototype.$SavedResponsesImage2=function(m){__p&&__p();if(c("isEmpty")(m)){this.setState({imageUrl:null});return}this.setState({isFetchingThumbnail:true});var n=c("XPagesSavedResponseImagePreviewController").getURIBuilder().getURI();n=c("ActorURI").create(n,this.props.pageID);this.$SavedResponsesImage1=new(c("AsyncRequest"))();this.$SavedResponsesImage1.setURI(n).setHandler(function(o){return this.$SavedResponsesImage5(o)}.bind(this)).setMethod("POST").setData({image_id:m,target_width:this.props.width,target_height:this.props.height}).send()};l.prototype.$SavedResponsesImage3=function(){return this.state.isFetchingThumbnail||!!this.props.isUploading};l.prototype.$SavedResponsesImage4=function(){if(this.props.isUploading||this.state.isFetchingThumbnail)return c("React").createElement(c("LoadingIndicator.react"),{size:"medium",color:"white",className:"_3mgg"});else if(this.state.imageUrl)return c("React").createElement("div",null,c("React").createElement(c("XUICloseButton.react"),{className:"_3mgn"+(!this.props.shouldShowCloseButton?" hidden_elem":""),size:"medium",onClick:this.props.onClose}),c("React").createElement(c("Image.react"),{src:this.state.imageUrl}));else return null};l.prototype.$SavedResponsesImage5=function(m){this.setState({imageUrl:m.payload.url,isFetchingThumbnail:false})};l.propTypes={displayClassName:k.string.isRequired,height:k.number.isRequired,imageID:k.string,isUploading:k.bool,loadingClassName:k.string.isRequired,onClose:k.func,pageID:k.string.isRequired,shouldShowCloseButton:k.bool.isRequired,width:k.number.isRequired};f.exports=l}),null);
__d("SavedResponsesImageUploadHelper",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";this.$SavedResponsesImageUploadHelper1=i;this.$SavedResponsesImageUploadHelper2=j}h.prototype.onUploaderMounted=function(i){"use strict";this.$SavedResponsesImageUploadHelper3=i};h.prototype.onUploadFinished=function(){"use strict";if(!this.$SavedResponsesImageUploadHelper3)return;var i=this.$SavedResponsesImageUploadHelper3.getImageFiles().pop().toString();this.$SavedResponsesImageUploadHelper2(i)};h.prototype.onUploadStarted=function(){"use strict";this.$SavedResponsesImageUploadHelper1()};f.exports=h}),null);
__d("XPagesSavedResponseNotifyAppliedController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/saved_responses/notify/applied/",{})}),null);
__d("XPagesSavedResponsesAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/saved_responses/",{page_id:{type:"Int",required:true},other_user_id:{type:"Int",required:true}})}),null);
__d("SavedResponsesUtils",["invariant","ActorURI","AsyncRequest","SavedResponsesConstants","XPagesSavedResponsesAsyncController","XPagesSavedResponseNotifyAppliedController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={generateImageMetadata:function j(k){return{filename:"Photo.jpg",image_id:k,filetype:"image/jpeg"}},fetchSavedResponses:function j(k,l,m){var n=c("XPagesSavedResponsesAsyncController").getURIBuilder().setInt("other_user_id",l).setInt("page_id",k).getURI();n=c("ActorURI").create(n,k);new(c("AsyncRequest"))().setURI(n).setHandler(function(o){return m(o.payload.responses,o.payload.tokens)}).send()},sortSavedResponses:function j(k,l){switch(l){case c("SavedResponsesConstants").sortingKey.LAST_USED:return k.slice().sort(function(m,n){return n.lastTimeUsed-m.lastTimeUsed});case c("SavedResponsesConstants").sortingKey.MOST_USED:return k.slice().sort(function(m,n){return n.usageCount-m.usageCount});case c("SavedResponsesConstants").sortingKey.LAST_CREATED:return k;default:h(0)}},notifySavedResponseApplied:function j(k,l){var m=c("XPagesSavedResponseNotifyAppliedController").getURIBuilder().getURI();m=c("ActorURI").create(m,l);new(c("AsyncRequest"))().setURI(m).setMethod("POST").setData({response_id:k.id}).send()}};f.exports=i}),null);
__d("SavedResponsesImageUploader.react",["cx","ChatFileUploaderMixin","Image.react","MercuryConfig","MercuryFileUploader","React","ReactDOM","SavedResponsesUtils","URI","XUIGrayText.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"SavedResponsesImageUploader",mixins:[c("ChatFileUploaderMixin")],propTypes:{image:i.object.isRequired,label:i.string.isRequired,pageID:i.string,imagesOnly:i.bool},componentDidMount:function k(){this._fileUploader=new(c("MercuryFileUploader"))(this.props.attachmentsShelf,c("ReactDOM").findDOMNode(this.refs.form),c("ReactDOM").findDOMNode(this.refs.input),c("ReactDOM").findDOMNode(this.refs.attachID));if(this.props.imageID)this._fileUploader.addCachedAttachments([c("SavedResponsesUtils").generateImageMetadata(this.props.imageID)]);this.setUpSubscriptionsHandler(this._fileUploader)},getActionURI:function k(){return this.props.pageID?new(c("URI"))(c("MercuryConfig").upload_url).addQueryData("request_user_id",this.props.pageID).toString():c("MercuryConfig").upload_url},getDefaultProps:function k(){return{pageID:null}},componentDidUpdate:function k(l,m){if(this.props.imageID){this._fileUploader.removeAttachments();this._fileUploader.addCachedAttachments([c("SavedResponsesUtils").generateImageMetadata(this.props.imageID)])}},render:function k(){var l=c("joinClasses")("_uvx",this.props.className);return c("React").createElement("form",{action:this.getActionURI(),className:l,method:"post",ref:"form"},c("React").createElement("input",{type:"hidden",name:"attach_id",ref:"attachID"}),c("React").createElement("div",{className:"_4q60"},c("React").createElement("div",{className:"_4q61 _2d_p"},c("React").createElement(c("Image.react"),{src:this.props.image,className:"_uvy"}),c("React").createElement(c("XUIGrayText.react"),{shade:"medium",className:"_uvz"},this.props.label)),c("React").createElement("input",{type:"file",className:"_2d_q",name:"attachment[]",accept:this.props.imagesOnly?"image/*":"*",ref:"input"})))}});f.exports=j}),null);
__d("SavedResponsesEditResponseContentView.react",["cx","fbt","ix","AbstractTextArea.react","React","SavedResponsesActionButton.react","SavedResponsesImage.react","SavedResponsesImageUploader.react","SavedResponsesImageUploadHelper","ScrollableArea.react","MacroInput.react"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){"use strict";var o=i._("Enter reply title here"),p=i._("Enter your message here");return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("AbstractTextArea.react"),{className:"_4451 _1vw8",onChange:function(q){return this.props.onTitleChange(q.target.value)}.bind(this),placeholder:o,value:this.props.responseTitle}),c("React").createElement("div",{className:"_38bw _57hg"},c("React").createElement(c("ScrollableArea.react"),{fade:true,shadow:true},c("React").createElement(c("MacroInput.react"),{className:"_3jv6",editorState:this.props.editorState,onChange:this.props.onContentChange,placeholder:p,readOnly:false,ref:"macroInput"}),c("React").createElement(c("SavedResponsesImage.react"),{className:"_57hh",displayClassName:"_57hn",imageID:this.props.responseImageID,isUploading:this.props.isUploadingImage,loadingClassName:"_57hi",pageID:this.props.pageID,height:250,onClose:this.props.onDeleteImage,shouldShowCloseButton:true,width:250}))),this.$SavedResponsesEditResponseContentView1())};n.prototype.$SavedResponsesEditResponseContentView1=function(){"use strict";return c("React").createElement("div",{className:"_57ho"},c("React").createElement(c("SavedResponsesImageUploader.react"),{className:"_3-8v",image:j("89617"),imagesOnly:true,label:i._("Add Image"),onFileUploaderMounted:function(o){return this.props.uploadHandler.onUploaderMounted(o)}.bind(this),onSubmit:function(){return this.props.uploadHandler.onUploadStarted()}.bind(this),onUploadFinished:function(){return this.props.uploadHandler.onUploadFinished()}.bind(this),pageID:this.props.pageID}),c("React").createElement(c("SavedResponsesActionButton.react"),{image:j("89472"),className:"_3-8v",label:i._("Personalize"),onClick:this.props.onPersonalize}))};function n(){"use strict";k.apply(this,arguments)}n.propTypes={editorState:m.object.isRequired,isUploadingImage:m.bool.isRequired,pageID:m.string.isRequired,responseImageID:m.string,responseTitle:m.string,onContentChange:m.func.isRequired,onDeleteImage:m.func.isRequired,onPersonalize:m.func.isRequired,onTitleChange:m.func.isRequired,uploadHandler:m.instanceOf(c("SavedResponsesImageUploadHelper")).isRequired};f.exports=n}),null);
__d("SavedResponsesFooterButton.react",["cx","Image.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n)}l.prototype.render=function(){return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:"_3-8i"+(this.props.isHidden?" hidden_elem":""),size:"large",label:this.props.label,onClick:this.props.onClick,use:this.props.use,image:this.props.image?c("React").createElement(c("Image.react"),{src:this.props.image}):null}))};l.propTypes={image:k.object,isHidden:k.bool,label:k.string.isRequired,onClick:k.func.isRequired,use:k.oneOf(["default","special","confirm"])};l.defaultProps={use:"default",isHidden:false};f.exports=l}),null);
__d("SavedResponsesMacroDetailView.react",["cx","fbt","React","ScrollableArea.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n,o){k.constructor.call(this,n,o)}m.prototype.render=function(){var n=this.props.macro;if(!n)return null;return c("React").createElement(c("ScrollableArea.react"),{fade:true,shadow:true},c("React").createElement("div",null,c("React").createElement("div",{className:"_tpd"},n.key),c("React").createElement("div",{className:"_tpe"},n.description),c("React").createElement("div",{className:"_tpf"},i._("Example")),c("React").createElement("div",{className:"_tpg"},n.example)))};m.propTypes={macro:l.shape({description:l.string.isRequired,example:l.string.isRequired,key:l.string.isRequired,name:l.string.isRequired,value:l.string.isRequired})};f.exports=m}),null);
__d("SavedResponsesMacroListItem.react",["cx","ix","Image.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n,o){k.constructor.call(this,n,o);this.state={isHover:false}}m.prototype.render=function(){return c("React").createElement("div",{className:"_5y_z","data-id":this.props.macro.key,onClick:function(){return this.$SavedResponsesMacroListItem1()}.bind(this),onMouseOut:function(){return this.$SavedResponsesMacroListItem2()}.bind(this),onMouseOver:function(){return this.$SavedResponsesMacroListItem3()}.bind(this),role:"presentation"},c("React").createElement("div",{className:"_5y__"},this.props.macro.key),c("React").createElement("div",{className:"_5z00"+(!this.state.isHover?" hidden_elem":"")},c("React").createElement(c("Image.react"),{src:i("94789")})))};m.prototype.$SavedResponsesMacroListItem3=function(){this.props.onHover(this.props.macro);this.setState({isHover:true})};m.prototype.$SavedResponsesMacroListItem2=function(){this.setState({isHover:false})};m.prototype.$SavedResponsesMacroListItem1=function(){this.props.onSelect(this.props.macro)};m.propTypes={macro:l.shape({key:l.string.isRequired,value:l.string.isRequired}).isRequired,onHover:l.func.isRequired,onSelect:l.func.isRequired};f.exports=m}),null);
__d("SavedResponsesMacroListView.react",["React","SavedResponsesMacroListItem.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l,m){i.constructor.call(this,l,m)}k.prototype.render=function(){return c("React").createElement("ul",null,this.$SavedResponsesMacroListView1())};k.prototype.$SavedResponsesMacroListView1=function(){var l=[];for(var m in this.props.macros){var n=this.props.macros[m];l.push(c("React").createElement(c("SavedResponsesMacroListItem.react"),{macro:n,onHover:this.props.onMacroHover,onSelect:this.props.onMacroSelected}))}return l};k.propTypes={macros:j.object.isRequired,onMacroHover:j.func.isRequired,onMacroSelected:j.func.isRequired};f.exports=k}),null);
__d("SavedResponsesMacroBrowseView.react",["cx","fbt","Grid.react","React","SavedResponsesFooterButton.react","SavedResponsesMacroDetailView.react","SavedResponsesMacroListView.react","ScrollableArea.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o,p){"use strict";k.constructor.call(this,o,p);this.state={activeMacro:null}}n.prototype.render=function(){"use strict";return c("React").createElement("div",null,this.renderBodyPart(),c("React").createElement("div",{className:"_3ohz"},this.renderFooterPart()))};n.prototype.renderBodyPart=function(){"use strict";var o=c("joinClasses")("_552a",this.props.className);return c("React").createElement("div",{className:o},c("React").createElement(c("Grid.react"),{cols:2,spacing:"none",className:"_552b"},c("React").createElement(l,{className:"_552c"},c("React").createElement("div",{className:"_552d"}),c("React").createElement(c("ScrollableArea.react"),{fade:true,shadow:true},c("React").createElement("div",{className:"_2t-k"},c("React").createElement(c("SavedResponsesMacroListView.react"),{macros:this.props.macros,onMacroSelected:this.props.onMacroSelected,onMacroHover:function(p){return this.$SavedResponsesMacroBrowseView1(p)}.bind(this)})))),c("React").createElement(l,{className:"_552e"},c("React").createElement(c("SavedResponsesMacroDetailView.react"),{macro:this.state.activeMacro}))))};n.prototype.renderFooterPart=function(){"use strict";var o=i._("Cancel");return c("React").createElement("div",null,c("React").createElement("div",{className:"_552g"},c("React").createElement(c("SavedResponsesFooterButton.react"),{label:o,onClick:this.props.onCancel})))};n.prototype.$SavedResponsesMacroBrowseView1=function(o){"use strict";this.setState({activeMacro:o})};n.propTypes={macros:m.object.isRequired,onCancel:m.func.isRequired,onMacroSelected:m.func.isRequired};f.exports=n}),null);
__d("SavedResponsesPanel.react",["cx","fbt","ix","Image.react","React","ShimButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogTitle.react","XUIGrayText.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o,p){l.constructor.call(this,o,p)}n.prototype.render=function(){return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("XUIDialogTitle.react"),{className:"_3alh",showCloseButton:false},c("React").createElement("div",{className:"_2rp7"},c("React").createElement(c("ShimButton.react"),{className:"_2rp8"+(!this.props.shouldShowBackButton?" hidden_elem":""),onClick:this.props.onBackButtonClicked},c("React").createElement(c("Image.react"),{src:j("76048"),className:"_2rp9"}),c("React").createElement(c("XUIGrayText.react"),{shade:"light",className:"_2rpa"},this.props.backButtonLabel),c("React").createElement("div",{className:"_2rpb"})),c("React").createElement("span",{className:"_5hp9"},this.props.title)),this.$SavedResponsesPanel1()),c("React").createElement(c("XUIDialogBody.react"),{className:"_2rpc"},this.props.children))};n.prototype.$SavedResponsesPanel1=function(){var o=i._("Close");return c("React").createElement(c("XUICloseButton.react"),{className:"_2rpe",label:o,onClick:this.props.onClose,shade:"dark",size:"medium",title:o,type:"button"})};n.propTypes={backButtonLabel:m.string,onBackButtonClicked:m.func,onClose:m.func.isRequired,shouldShowBackButton:m.bool,title:m.string.isRequired};n.defaultProps={backButtonLabel:null,onBackButtonClicked:c("emptyFunction"),shouldShowBackButton:false};f.exports=n}),null);
__d("MacroSpan.react",["cx","React","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={isMouseOver:false},this.$MacroSpan2=function(){this.setState({isMouseOver:true})}.bind(this),this.$MacroSpan3=function(){this.setState({isMouseOver:false})}.bind(this),this.$MacroSpan5=function(){this.props.onRemoveToken(this.props.offsetKey)}.bind(this),n}l.prototype.render=function(){var m=this.$MacroSpan1();return c("React").createElement("span",{className:"_vxd",onMouseEnter:this.$MacroSpan2,onMouseLeave:this.$MacroSpan3},c("React").createElement("span",{className:"_vxe",contentEditable:false,"data-offset-key":this.props.offsetKey,spellCheck:false},this.$MacroSpan4(m),c("React").createElement(c("XUICloseButton.react"),{size:"small",className:"_vxf",onClick:this.$MacroSpan5})))};l.prototype.$MacroSpan4=function(m){var n=m.key in this.props.tokens?this.props.tokens[m.key].value:m.key,o=m.key in this.props.tokens?this.props.tokens[m.key].key:m.key;return this.state.isMouseOver?o:n};l.prototype.$MacroSpan1=function(){return this.props.contentState.getEntity(this.props.entityKey)};l.propTypes={contentState:k.func.isRequired,entityKey:k.string.isRequired,offsetKey:k.string.isRequired,onRemoveToken:k.func.isRequired,tokens:k.object.isRequired};f.exports=l}),null);
__d("getMacrosInputDecorator",["CompositeDraftDecorator","MacroSpan.react","getEntityMatcher"],(function a(b,c,d,e,f,g){function h(i,j){return new(c("CompositeDraftDecorator"))([{strategy:c("getEntityMatcher")(function(k){return k.getType()==="TOKEN"}),component:c("MacroSpan.react"),props:{onRemoveToken:j,tokens:i}}])}f.exports=h}),null);
__d("SavedResponsesTokensUtils",["createEditorStateWithEntities","getMacrosInputDecorator"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new RegExp("{{(.*?)}}","ig"),i={_parseTemplateFieldTokens:function j(k){__p&&__p();var l=k,m=[],n=void 0;while(n=h.exec(l)){var o={text:n[0],offset:n.index,length:n[0].length,entity:{token:n[0],key:n[1]}};m.push(o);l=l.replace(n[0],o.text);h.lastIndex=o.offset+o.length}if(m.length>0){if(m[0].offset===0){l=" "+l;m.forEach(function(o){o.offset++})}var p=m[m.length-1];if(p.length+p.offset===l.length)l+=" "}return{ranges:m,text:l}},createTemplateFieldsEditorStateWithText:function j(k,l,m){var n=i._parseTemplateFieldTokens(k),o=n.ranges,p=n.text;return c("createEditorStateWithEntities")({text:p,ranges:o,decorator:c("getMacrosInputDecorator")(m,l),addEntityToContentStateFn:function q(r,s){return s.createEntity("TOKEN","IMMUTABLE",r)}})},prepareforSend:function j(k,l){var m=k.match(/\{{(.*?)\}}/g);if(m)m.forEach(function(n){var o=n.replace("{{","").replace("}}",""),p=o in l?l[o].value:o;k=k.replace(n,p)});return k}};f.exports=i}),null);
__d("XPagesSavedResponsesAddController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/saved_responses/add/",{owner_id:{type:"Int",required:true},title:{type:"String",defaultValue:""},message:{type:"String",required:true},photo_id:{type:"Int"},user_message:{type:"String"}})}),null);
__d("XPagesSavedResponsesDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/saved_responses/delete/",{response_id:{type:"Int",required:true}})}),null);
__d("XPagesSavedResponsesEditController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/saved_responses/edit/",{response_id:{type:"Int",required:true},title:{type:"String",defaultValue:""},message:{type:"String",required:true},photo_id:{type:"Int"},remove_photo_id:{type:"Int"}})}),null);
__d("SavedResponsesEditResponseView.react",["cx","fbt","invariant","ActorURI","AsyncRequest","DraftModifier","DraftOffsetKey","EditorState","PagesEventObserver","PagesEventType","React","SavedResponsesEditResponseContentView.react","SavedResponsesFooterButton.react","SavedResponsesImageUploadHelper","SavedResponsesMacroBrowseView.react","SavedResponsesPanel.react","SavedResponsesTokensUtils","SelectionState","XPagesSavedResponsesAddController","XPagesSavedResponsesDeleteController","XPagesSavedResponsesEditController","XUISpinner.react","getMacrosInputDecorator"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o,p){"use strict";l.constructor.call(this,o,p);var q=!!this.props.initialResponse||false,r=!!this.props.initialResponse&&!!this.props.initialResponse.image?this.props.initialResponse.image.id:"",s=this.$SavedResponsesEditResponseView1(q);this.state={anyContent:s.getCurrentContent().hasText(),editorState:s,imageID:r,isEditing:q,isModified:false,isPersonalizing:false,isProcessing:false,isUploadingImage:false,message:s.getCurrentContent().getPlainText(),shouldShowDeleteWarning:false,shouldShowDiscardWarning:false,title:!!this.props.initialResponse?this.props.initialResponse.title:"",uploadHandler:new(c("SavedResponsesImageUploadHelper"))(function(){return this.$SavedResponsesEditResponseView2()}.bind(this),function(r){return this.$SavedResponsesEditResponseView3(r)}.bind(this))}}n.prototype.render=function(){"use strict";return c("React").createElement(c("SavedResponsesPanel.react"),{backButtonLabel:this.$SavedResponsesEditResponseView4(),className:"_15ht",onBackButtonClicked:function(){return this.$SavedResponsesEditResponseView5()}.bind(this),onClose:this.props.onClose,shouldShowBackButton:true,title:this.$SavedResponsesEditResponseView6()},this.$SavedResponsesEditResponseView7(),c("React").createElement("div",{className:"_3ohz"},this.$SavedResponsesEditResponseView8()))};n.prototype.$SavedResponsesEditResponseView9=function(){"use strict";return i._("Cancel")};n.prototype.$SavedResponsesEditResponseView10=function(){"use strict";return i._("Delete")};n.prototype.$SavedResponsesEditResponseView11=function(){"use strict";return i._("Save reply")};n.prototype.$SavedResponsesEditResponseView7=function(){"use strict";__p&&__p();if(this.state.isPersonalizing)return c("React").createElement(c("SavedResponsesMacroBrowseView.react"),{className:"_1wxh",macros:this.props.supportedMacros,onCancel:function(){return this.$SavedResponsesEditResponseView12()}.bind(this),onMacroSelected:function(o){return this.$SavedResponsesEditResponseView13(o)}.bind(this)});else return c("React").createElement(c("SavedResponsesEditResponseContentView.react"),{className:"_1wxh",editorState:this.state.editorState,isUploadingImage:this.state.isUploadingImage,onContentChange:function(o){return this.$SavedResponsesEditResponseView14(o)}.bind(this),onDeleteImage:function(){return this.$SavedResponsesEditResponseView15()}.bind(this),onPersonalize:function(){return this.$SavedResponsesEditResponseView16()}.bind(this),onTitleChange:function(o){this.setState({title:o,isModified:true})}.bind(this),pageID:this.props.pageID,responseImageID:this.state.imageID,responseTitle:this.state.title,uploadHandler:this.state.uploadHandler})};n.prototype.$SavedResponsesEditResponseView8=function(){"use strict";if(this.state.isPersonalizing)return c("React").createElement(c("SavedResponsesFooterButton.react"),{label:this.$SavedResponsesEditResponseView9(),onClick:function(){return this.$SavedResponsesEditResponseView12()}.bind(this)});else return this.$SavedResponsesEditResponseView17()};n.prototype.$SavedResponsesEditResponseView18=function(){"use strict";var o=i._("Continue Editing"),p=i._("Discard");return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ln1"},i._("Are you sure you want to discard your edit?")),c("React").createElement("div",{className:"_4pnp"},c("React").createElement(c("SavedResponsesFooterButton.react"),{label:p,onClick:function(){return this.$SavedResponsesEditResponseView19()}.bind(this)}),c("React").createElement(c("SavedResponsesFooterButton.react"),{label:o,onClick:function(){return this.$SavedResponsesEditResponseView20()}.bind(this),use:"confirm"})))};n.prototype.$SavedResponsesEditResponseView21=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ln1"},i._("Are you sure you want to delete this saved reply?")),c("React").createElement("div",{className:"_4pnp"},c("React").createElement(c("SavedResponsesFooterButton.react"),{label:this.$SavedResponsesEditResponseView10(),onClick:function(){return this.$SavedResponsesEditResponseView22()}.bind(this)}),c("React").createElement(c("SavedResponsesFooterButton.react"),{label:this.$SavedResponsesEditResponseView9(),onClick:function(){return this.$SavedResponsesEditResponseView23()}.bind(this),use:"confirm"})))};n.prototype.$SavedResponsesEditResponseView24=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("SavedResponsesFooterButton.react"),{label:this.$SavedResponsesEditResponseView10(),onClick:function(){return this.$SavedResponsesEditResponseView25()}.bind(this),isHidden:!this.state.isEditing}),c("React").createElement("div",{className:"_4pnp"},c("React").createElement(c("SavedResponsesFooterButton.react"),{label:this.$SavedResponsesEditResponseView9(),onClick:function(){return this.props.onEditDone(false)}.bind(this)}),c("React").createElement(c("SavedResponsesFooterButton.react"),{disabled:!this.state.anyContent,label:this.$SavedResponsesEditResponseView11(),onClick:function(){return this.$SavedResponsesEditResponseView26()}.bind(this),use:"confirm"}),c("React").createElement(c("XUISpinner.react"),{size:"small",className:(!this.state.isProcessing?"hidden_elem":"")+" _3-91 _3-99"})))};n.prototype.$SavedResponsesEditResponseView17=function(){"use strict";if(this.state.shouldShowDeleteWarning)return this.$SavedResponsesEditResponseView21();else if(this.state.shouldShowDiscardWarning)return this.$SavedResponsesEditResponseView18();else return this.$SavedResponsesEditResponseView24()};n.prototype.$SavedResponsesEditResponseView4=function(){"use strict";if(!this.state.isPersonalizing)return i._("List");else return i._("Edit")};n.prototype.$SavedResponsesEditResponseView6=function(){"use strict";if(this.state.isPersonalizing)return i._("Add Personalization");else if(this.state.isEditing)return i._("Edit Reply");else return i._("Create Reply")};n.prototype.$SavedResponsesEditResponseView27=function(o){"use strict";__p&&__p();var p={text:"{{"+o.name+"}}",key:o.name},q=this.state.editorState,r=q.getSelection(),s=q.getCurrentContent(),t=r.getStartKey(),u=r.getStartOffset(),v=s.getBlockForKey(t),w;if(v.getText().substr(u-1,1).trim().length>0){var x=c("DraftModifier").replaceText(s,r," ");r=x.getSelectionAfter();w=c("DraftModifier").insertText(x,r,p.text,q.getCurrentInlineStyle(),s.createEntity("TOKEN","IMMUTABLE",p).getLastCreatedEntityKey())}else w=c("DraftModifier").replaceText(s,r,p.text,q.getCurrentInlineStyle(),s.createEntity("TOKEN","IMMUTABLE",p).getLastCreatedEntityKey());w=c("DraftModifier").insertText(w,w.getSelectionAfter()," ");q=c("EditorState").push(q,w,"insert-fragment");q=c("EditorState").forceSelection(q,q.getSelection());this.$SavedResponsesEditResponseView14(q)};n.prototype.$SavedResponsesEditResponseView28=function(){"use strict";__p&&__p();var o=this.state.editorState.getCurrentContent().getPlainText();c("PagesEventObserver").logData_DEPRECATED({event_name:c("PagesEventType").SAVED_REPLIES_EDIT_REPLY,page_id:this.props.pageID,response_content:o},null);var p=this.props.initialResponse;!!p||j(0);var q=this.state.imageID?this.state.imageID.toString():"",r=c("XPagesSavedResponsesEditController").getURIBuilder().setInt("response_id",p.id).setString("message",o).setString("title",this.state.title);if(!q&&p.image&&p.image.id)r.setInt("remove_photo_id",p.image.id);else r.setInt("photo_id",q);r=c("ActorURI").create(r.getURI(),this.props.pageID);new(c("AsyncRequest"))().setURI(r).setMethod("POST").setHandler(function(){return this.props.onEditDone(true)}.bind(this)).send()};n.prototype.$SavedResponsesEditResponseView29=function(){"use strict";var o=this.state.editorState.getCurrentContent().getPlainText();c("PagesEventObserver").logData_DEPRECATED({event_name:c("PagesEventType").SAVED_REPLIES_CREATE_REPLY,page_id:this.props.pageID,response_content:o},null);var p=this.state.imageID?this.state.imageID.toString():"",q=c("XPagesSavedResponsesAddController").getURIBuilder().setInt("owner_id",this.props.pageID).setString("message",o).setString("title",this.state.title).setInt("photo_id",p).getURI();q=c("ActorURI").create(q,this.props.pageID);new(c("AsyncRequest"))().setURI(q).setMethod("POST").setHandler(function(){return this.props.onEditDone(true)}.bind(this)).send()};n.prototype.$SavedResponsesEditResponseView1=function(o){"use strict";if(o&&this.props.initialResponse){var p=this.props.initialResponse.message||"";return c("SavedResponsesTokensUtils").createTemplateFieldsEditorStateWithText(p,function(q){return this.$SavedResponsesEditResponseView30(q)}.bind(this),this.props.supportedMacros)}else return c("EditorState").createEmpty(c("getMacrosInputDecorator")(this.props.supportedMacros||{},function(q){return this.$SavedResponsesEditResponseView30(q)}.bind(this)))};n.prototype.$SavedResponsesEditResponseView15=function(){"use strict";this.setState({imageID:null})};n.prototype.$SavedResponsesEditResponseView5=function(){"use strict";if(this.state.isPersonalizing)this.setState({isPersonalizing:false});else if(this.state.isModified)this.setState({shouldShowDiscardWarning:true});else this.props.onBackButtonClicked()};n.prototype.$SavedResponsesEditResponseView12=function(){"use strict";this.setState({isPersonalizing:false})};n.prototype.$SavedResponsesEditResponseView13=function(o){"use strict";c("PagesEventObserver").logData_DEPRECATED({event_name:c("PagesEventType").SAVED_REPLIES_PERSONALIZE,page_id:this.props.pageID},null);this.setState({isPersonalizing:false});this.$SavedResponsesEditResponseView27(o)};n.prototype.$SavedResponsesEditResponseView16=function(){"use strict";this.setState({isPersonalizing:true});this.props.onEnterPersonalizeView()};n.prototype.$SavedResponsesEditResponseView14=function(o){"use strict";this.setState({anyContent:o.getCurrentContent().hasText(),editorState:o,isModified:true})};n.prototype.$SavedResponsesEditResponseView2=function(){"use strict";c("PagesEventObserver").logData_DEPRECATED({event_name:c("PagesEventType").SAVED_REPLIES_ADD_IMAGE,page_id:this.props.pageID},null);this.setState({imageID:null,isUploadingImage:true})};n.prototype.$SavedResponsesEditResponseView3=function(o){"use strict";this.setState({imageID:o,isUploadingImage:false})};n.prototype.$SavedResponsesEditResponseView30=function(o){"use strict";var p=this.state.editorState,q=c("DraftOffsetKey").decode(o),r=q.blockKey,s=q.decoratorKey,t=p.getBlockTree(r).getIn([s]),u=new(c("SelectionState"))({anchorKey:r,anchorOffset:t.get("start"),focusKey:r,focusOffset:t.get("end"),isBackward:false,hasFocus:true}),v=c("DraftModifier").removeRange(p.getCurrentContent(),u,"forward"),w=c("EditorState").push(p,v,"remove-range");this.$SavedResponsesEditResponseView14(w)};n.prototype.$SavedResponsesEditResponseView25=function(){"use strict";this.setState({shouldShowDeleteWarning:true})};n.prototype.$SavedResponsesEditResponseView26=function(){"use strict";this.setState({isProcessing:true});this.state.isEditing?this.$SavedResponsesEditResponseView28():this.$SavedResponsesEditResponseView29()};n.prototype.$SavedResponsesEditResponseView23=function(){"use strict";this.setState({shouldShowDeleteWarning:false})};n.prototype.$SavedResponsesEditResponseView22=function(){"use strict";c("PagesEventObserver").logData_DEPRECATED({event_name:c("PagesEventType").SAVED_REPLIES_DELETE_REPLY,page_id:this.props.pageID},null);this.setState({shouldShowDeleteWarning:false,isProcessing:true});var o=this.props.initialResponse;!!o||j(0);var p=c("XPagesSavedResponsesDeleteController").getURIBuilder().setInt("response_id",o.id).getURI();new(c("AsyncRequest"))().setURI(p).setMethod("POST").setHandler(function(){return this.props.onEditDone(true)}.bind(this)).send()};n.prototype.$SavedResponsesEditResponseView19=function(){"use strict";this.props.onBackButtonClicked()};n.prototype.$SavedResponsesEditResponseView20=function(){"use strict";this.setState({shouldShowDiscardWarning:false})};n.propTypes={initialResponse:m.shape({id:m.string.isRequired,title:m.string,message:m.string,image:m.object}),onBackButtonClicked:m.func.isRequired,onClose:m.func.isRequired,onEditDone:m.func.isRequired,onEnterPersonalizeView:m.func.isRequired,pageID:m.string.isRequired,supportedMacros:m.object};f.exports=n}),null);
__d("SavedResponsesListItem.react",["cx","fbt","ClientIDs","Link.react","React","ReactDOM","SavedResponsesImage.react","SavedResponsesConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={shouldShowSeeMoreLink:false,shouldLimitHeight:true},this.$SavedResponsesListItem4=function(s){__p&&__p();var t=0,u=0,v=/\{{(.*?)\}}/g,w=v.exec(s),x=[];while(w!=null){u=w.index;x.push(c("React").createElement("span",{key:c("ClientIDs").getNewClientID()},s.substring(t,u)));t=u+w[0].length;var y=w[1]in this.props.tokens?this.props.tokens[w[1]].value:w[1];x.push(c("React").createElement("span",{key:c("ClientIDs").getNewClientID(),className:"_-8"},y));w=v.exec(s)}x.push(c("React").createElement("span",{key:c("ClientIDs").getNewClientID()},s.substring(t,s.length)));return x}.bind(this),this.$SavedResponsesListItem2=function(){this.props.onResponseSelected(this.props.response,this.props.tokens)}.bind(this),this.$SavedResponsesListItem3=function(){this.props.onResponseHover&&this.props.onResponseHover(this.props.response,this.props.tokens)}.bind(this),this.$SavedResponsesListItem5=function(s){this.setState({shouldShowSeeMoreLink:false,shouldLimitHeight:false});s.stopPropagation()}.bind(this),o}m.prototype.componentDidMount=function(){this.$SavedResponsesListItem1()};m.prototype.componentDidUpdate=function(){this.$SavedResponsesListItem1()};m.prototype.render=function(){var n=this.props.response.image&&true;return c("React").createElement("div",{className:"_33w3"+(n?" _33w4":""),"data-id":this.props.response.id,onClick:this.$SavedResponsesListItem2,onMouseEnter:this.$SavedResponsesListItem3,onMouseLeave:this.props.onResponseUnhover,role:"presentation"},c("React").createElement("div",{className:"_33w5"+(n?" _33w6":"")+" fwb"},this.props.response.title),c("React").createElement("div",{className:"_33w7"+(this.state.shouldLimitHeight?" _4en5":"")+(!this.props.response.title&&this.props.response.image?" _2pid":""),ref:"message"},this.props.response.image?c("React").createElement(c("SavedResponsesImage.react"),{className:"_33w8",displayClassName:"_33w9",height:c("SavedResponsesConstants").listItemImageHeight,imageID:this.props.response.image.id,loadingClassName:"_33w9",pageID:this.props.pageID,shouldShowCloseButton:false,width:c("SavedResponsesConstants").listItemImageWidth}):null,this.$SavedResponsesListItem4(this.props.response.message)),c("React").createElement(c("Link.react"),{className:"_4en6"+(!this.state.shouldShowSeeMoreLink?" hidden_elem":""),onClick:this.$SavedResponsesListItem5},i._("See more")))};m.prototype.$SavedResponsesListItem1=function(){if(this.state.shouldLimitHeight===false||this.state.shouldShowSeeMoreLink)return;var n=c("ReactDOM").findDOMNode(this.refs.message);if(n.scrollHeight>n.clientHeight)this.setState({shouldShowSeeMoreLink:true})};m.propTypes={onResponseHover:l.func,onResponseSelected:l.func.isRequired,onResponseUnhover:l.func,pageID:l.string.isRequired,response:l.shape({id:l.string.isRequired,title:l.string,message:l.string.isRequired,image:l.object}),tokens:l.object.isRequired};f.exports=m}),null);
__d("SavedResponsesListView.react",["cx","React","SavedResponsesListItem.react","SavedResponsesUtils","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n)}l.prototype.render=function(){if(this.props.isLoadingResponses)return c("React").createElement("div",{className:"_e19"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));var m=this.props.searchQuery.trim().toLowerCase(),n=function n(p){return p.message.toLowerCase().indexOf(m)!==-1||(p.title||"").toLowerCase().indexOf(m)!==-1},o=c("SavedResponsesUtils").sortSavedResponses(this.props.responses,this.props.sortingKey);return c("React").createElement("ul",{className:this.props.shouldAdjustRightMargin?"_e1a":""},o.filter(n).map(function(p){return c("React").createElement(c("SavedResponsesListItem.react"),{key:p.id,onResponseHover:this.props.onResponseHover,onResponseSelected:this.props.onResponseSelected,onResponseUnhover:this.props.onResponseUnhover,pageID:this.props.pageID,response:p,tokens:this.props.supportedMacros})}.bind(this)))};l.propTypes={isLoadingResponses:k.bool.isRequired,onResponseHover:k.func,onResponseSelected:k.func.isRequired,onResponseUnhover:k.func,pageID:k.string.isRequired,responses:k.array.isRequired,searchQuery:k.string.isRequired,shouldAdjustRightMargin:k.bool};f.exports=l}),null);
__d("SavedResponsesOrderingMenu.react",["cx","fbt","ContextualDialogArrow","PopoverMenu.react","React","ReactXUIMenu","SavedResponsesConstants","XUIPopoverButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactXUIMenu").Item;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);var o=[{key:c("SavedResponsesConstants").sortingKey.MOST_USED,title:i._("Frequently used")},{key:c("SavedResponsesConstants").sortingKey.LAST_USED,title:i._("Recently used")},{key:c("SavedResponsesConstants").sortingKey.LAST_CREATED,title:i._("Recently created")}];this.$SavedResponsesOrderingMenu1=o}m.prototype.$SavedResponsesOrderingMenu2=function(){return this.$SavedResponsesOrderingMenu1.find(function(n){return n.key===this.props.activeSortingOptionKey}.bind(this))};m.prototype.render=function(){var n=c("React").createElement(c("ReactXUIMenu"),null,this.$SavedResponsesOrderingMenu1.map(function(o){return this.$SavedResponsesOrderingMenu3(o)}.bind(this)));return c("React").createElement("div",{className:this.props.className},c("React").createElement("span",{className:"_4mjo"},i._("Sort by")),c("React").createElement(c("PopoverMenu.react"),{alignv:"baseline",menu:n,layerBehaviors:[c("ContextualDialogArrow")]},c("React").createElement(c("XUIPopoverButton.react"),{label:this.$SavedResponsesOrderingMenu2().title})))};m.prototype.$SavedResponsesOrderingMenu3=function(n){return c("React").createElement(l,{onclick:function(){return this.props.onSortingKeyChanged(n.key)}.bind(this),key:n.key},n.title)};f.exports=m}),null);
__d("SavedResponsesListViewContainer.react",["cx","fbt","Layout.react","LeftFillRightFitLayout.react","React","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn,n=c("React").PropTypes;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.render=function(){var p=c("joinClasses")("_3ohy",this.props.className);return c("React").createElement("div",{className:p},c("React").createElement(c("LeftFillRightFitLayout.react"),{className:"_1x3h"},this.$SavedResponsesListViewContainer1(),c("React").createElement(c("SavedResponsesOrderingMenu.react"),{className:"_4b4m",activeSortingOptionKey:this.props.activeSortingOptionKey,onSortingKeyChanged:this.props.onSortingKeyChanged})),this.props.children,c("React").createElement("div",{className:"_3ohz"},this.props.footerPart))};o.prototype.$SavedResponsesListViewContainer1=function(){return c("React").createElement(c("Layout.react"),{className:"_4b4n"},c("React").createElement(l,null,c("React").createElement("div",{className:"_1x3i"})),c("React").createElement(m,null,c("React").createElement(c("XUITextInput.react"),{onChange:this.props.onSearchQueryChanged,ref:"inputField",placeholder:i._("Search replies"),value:this.props.searchQuery})),c("React").createElement(l,null,c("React").createElement(c("XUICloseButton.react"),{size:"small",onClick:this.props.onSearchQueryCleared,className:this.props.searchQuery.length===0?"hidden_elem":""})))};function o(){j.apply(this,arguments)}o.propTypes={footerPart:n.object.isRequired,onSearchQueryChanged:n.func.isRequired,onSearchQueryCleared:n.func.isRequired,searchQuery:n.string.isRequired};f.exports=o}),null);
__d("SavedResponsesManageListView.react",["cx","ix","fbt","React","SavedResponsesConstants","SavedResponsesFooterButton.react","SavedResponsesListView.react","SavedResponsesListViewContainer.react","SavedResponsesPanel.react","ScrollableArea.react"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o,p){"use strict";l.constructor.call(this,o,p);this.$SavedResponsesManageListView1=function(q){this.setState({activeSortingOptionKey:q})}.bind(this);this.state={searchQuery:"",activeSortingOptionKey:c("SavedResponsesConstants").sortingKey.LAST_CREATED}}n.prototype.render=function(){"use strict";return c("React").createElement(c("SavedResponsesPanel.react"),{className:"_15ht",shouldShowBackButton:false,onClose:this.props.onClose,title:j._("Saved Replies")},c("React").createElement(c("SavedResponsesListViewContainer.react"),{footerPart:this.$SavedResponsesManageListView2(),onSearchQueryChanged:function(o){return this.$SavedResponsesManageListView3(o)}.bind(this),onSearchQueryCleared:function(){return this.$SavedResponsesManageListView4()}.bind(this),searchQuery:this.state.searchQuery,activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$SavedResponsesManageListView1},this.$SavedResponsesManageListView5()))};n.prototype.$SavedResponsesManageListView5=function(){"use strict";return c("React").createElement("div",{className:"_4pno"},c("React").createElement(c("ScrollableArea.react"),{fade:true,shadow:true},c("React").createElement(c("SavedResponsesListView.react"),{isLoadingResponses:false,onResponseSelected:this.props.onResponseSelected,pageID:this.props.pageID,responses:this.props.responses,searchQuery:this.state.searchQuery,supportedMacros:this.props.supportedMacros,sortingKey:this.state.activeSortingOptionKey}),this.$SavedResponsesManageListView6()))};n.prototype.$SavedResponsesManageListView2=function(){"use strict";var o=j._("Create Reply"),p=j._("Done");return c("React").createElement("div",{className:"_4pnp"},c("React").createElement(c("SavedResponsesFooterButton.react"),{label:o,onClick:this.props.onCreateNewReplyClicked,image:i("88945")}),c("React").createElement(c("SavedResponsesFooterButton.react"),{label:p,onClick:this.props.onDoneClicked}))};n.prototype.$SavedResponsesManageListView6=function(){"use strict";return c("React").createElement("div",{className:"_4pnq"},c("React").createElement("div",{className:"_50f8 _4pnr"},j._("End of saved replies")))};n.prototype.$SavedResponsesManageListView3=function(o){"use strict";this.setState({searchQuery:o.target.value})};n.prototype.$SavedResponsesManageListView4=function(){"use strict";this.setState({searchQuery:""})};n.propTypes={onClose:m.func.isRequired,onCreateNewReplyClicked:m.func.isRequired,onDoneClicked:m.func.isRequired,onResponseSelected:m.func.isRequired,otherUserID:m.string.isRequired,pageID:m.string.isRequired,responses:m.array.isRequired,supportedMacros:m.object.isRequired};f.exports=n}),null);
__d("SavedResponsesManagePanel.react",["cx","React","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesManageListView.react","SavedResponsesUtils","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n);this.state={isLoadingResponses:true,responseToEdit:null,responses:[],supportedMacros:null,viewType:this.props.initialViewType}}l.prototype.componentWillMount=function(){this.$SavedResponsesManagePanel1()};l.prototype.render=function(){__p&&__p();if(this.state.isLoadingResponses)return c("React").createElement("div",{className:"_15ht"},c("React").createElement("div",{className:"_15hu"},c("React").createElement(c("XUISpinner.react"),{size:"large"})));switch(this.state.viewType){case c("SavedResponsesConstants").editPanelViewMode.LIST:return c("React").createElement(c("SavedResponsesManageListView.react"),{onCreateNewReplyClicked:function(){return this.$SavedResponsesManagePanel2()}.bind(this),onDoneClicked:function(){return this.$SavedResponsesManagePanel3()}.bind(this),otherUserID:this.props.otherUserID,onResponseSelected:function(m,n){return this.$SavedResponsesManagePanel4(m,n)}.bind(this),onClose:this.props.onClose,pageID:this.props.pageID,responses:this.state.responses,supportedMacros:this.state.supportedMacros});case c("SavedResponsesConstants").editPanelViewMode.EDIT:case c("SavedResponsesConstants").editPanelViewMode.CREATE:case c("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return c("React").createElement(c("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,onBackButtonClicked:function(){return this.$SavedResponsesManagePanel5(false)}.bind(this),onClose:this.props.onClose,onEditDone:function(m){return this.$SavedResponsesManagePanel5(m)}.bind(this),onEnterPersonalizeView:function(){return this.$SavedResponsesManagePanel6()}.bind(this),pageID:this.props.pageID,supportedMacros:this.state.supportedMacros})}};l.prototype.$SavedResponsesManagePanel1=function(){this.setState({isLoadingResponses:true});c("SavedResponsesUtils").fetchSavedResponses(this.props.pageID,this.props.otherUserID,function(m,n){return this.setState({responses:m,supportedMacros:n,isLoadingResponses:false})}.bind(this))};l.prototype.$SavedResponsesManagePanel5=function(m){if(this.props.initialViewType===c("SavedResponsesConstants").editPanelViewMode.CREATE){this.props.onClose();return}if(m)this.$SavedResponsesManagePanel1();this.setState({responseToEdit:null,viewType:c("SavedResponsesConstants").editPanelViewMode.LIST})};l.prototype.$SavedResponsesManagePanel2=function(){this.setState({responseToEdit:null,viewType:c("SavedResponsesConstants").editPanelViewMode.CREATE})};l.prototype.$SavedResponsesManagePanel3=function(){this.props.onClose()};l.prototype.$SavedResponsesManagePanel6=function(){this.setState({viewType:c("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})};l.prototype.$SavedResponsesManagePanel4=function(m){this.setState({responseToEdit:m,viewType:c("SavedResponsesConstants").editPanelViewMode.EDIT})};l.propTypes={initialViewType:k.string,onClose:k.func.isRequired,otherUserID:k.string.isRequired,pageID:k.string.isRequired};l.defaultProps={initialViewType:c("SavedResponsesConstants").editPanelViewMode.LIST};f.exports=l}),null);
__d("PagesManagerAction",["PagesManagerActionType","PagesManagerDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={viewListItem:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LIST.VIEW,listItem:j})},clearViewListItem:function i(){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LIST.VIEW,listItem:null})},setInitialViewItem:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LIST.INITIAL_VIEW,item:j})},clearInitialViewItem:function i(){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LIST.CLEAR_INITIAL_VIEW})},setHeight:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LAYOUT.HEIGHT_CHANGE,heights:j})},setListNavigationHeight:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LAYOUT.LIST_HEIGHT_CHANGE,height:j})},setFooterHeight:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LAYOUT.FOOTER_HEIGHT_CHANGE,height:j})},setHeaderHeight:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LAYOUT.HEADER_HEIGHT_CHANGE,height:j})},handleSelectionChange:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LIST.SELECT,rowsAdded:j,rowsRemoved:k,selectedRows:l})},handleSelectionMapChange:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LIST.SELECT,selectedRowsMap:j})},deselectAll:function i(){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerActionType").LIST.DESELECT_ALL})}};f.exports=h}),null);
__d("PagesManagerResizeListener",["EventEmitter"],(function a(b,c,d,e,f,g){f.exports=new(c("EventEmitter"))()}),null);
__d("PagesManagerListDetailLayout.react",["cx","Arbiter","Grid.react","Layout.react","PagesManagerAction","PagesManagerResizeListener","React","ReactDOM","ResizeListener","SubscriptionsHandler","Vector","XUICard.react","joinClasses","setImmediate"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("Grid.react").GridItem,n=200;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p,q){"use strict";__p&&__p();j.constructor.call(this,p,q);this.recalculateHeight=function(){__p&&__p();var r=c("Vector").getViewportDimensions().y-c("ReactDOM").findDOMNode(this).getBoundingClientRect().top;if(!this.props.fullScreen){r-=30;r-=2}else r-=1;var s=Math.max(n,r);this.setState({height:s});var t=this.props.navigationSection?c("Vector").getElementDimensions(c("ReactDOM").findDOMNode(this.refs.navigationSection)).y:0;c("PagesManagerAction").setHeight({layoutHeight:s,navigationHeight:t});var u=this.props.fullScreen?0:8;this.setState({top:t+u})}.bind(this);this.state={top:0,height:n}}o.prototype.componentDidMount=function(){"use strict";this.recalculateHeight();this.$PagesManagerListDetailLayout1=new(c("SubscriptionsHandler"))();this.$PagesManagerListDetailLayout1.addSubscriptions(c("Arbiter").subscribe("reflow",function(){return c("setImmediate")(this.recalculateHeight)}.bind(this)),c("ResizeListener").add(function(){return this.recalculateHeight()}.bind(this)),c("PagesManagerResizeListener").addListener("change",function(){return this.recalculateHeight()}.bind(this)))};o.prototype.componentWillUnmount=function(){"use strict";this.$PagesManagerListDetailLayout1&&this.$PagesManagerListDetailLayout1.release()};o.prototype.renderDetailViewContainer=function(){"use strict";return c("React").createElement(c("Layout.react"),{className:"_5n4i",style:{height:this.state.height}},c("React").createElement(l,null,c("React").createElement("div",{className:this.props.headerClassName},this.props.headerSection),c("React").createElement("div",{className:this.props.detailClassName},this.props.detailSection)),c("React").createElement(k,{className:this.props.contextCardClassName},this.props.contextCardSection))};o.prototype.render=function(){"use strict";var p=this.state.height,q=this.state.top,r=!this.props.navigationSection?null:c("React").createElement("div",{className:"_2-97",ref:"navigationSection"},this.props.navigationSection);return c("React").createElement(c("XUICard.react"),{className:this.props.fullScreen?"_4sno":"",style:{height:p}},r,c("React").createElement("div",{className:"_10ua",style:{top:q}},c("React").createElement(c("Grid.react"),{alignv:"top",className:"_10ue",cols:2},c("React").createElement(m,{className:c("joinClasses")("_10uf",this.props.listClassName)},this.props.listSection),c("React").createElement(m,{className:"_3q3y"},this.renderDetailViewContainer()))))};f.exports=o}),null);
__d("PagesManagerStore",["PagesManagerActionType","FluxStore","Map","PagesManagerDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(k){"use strict";__p&&__p();i.constructor.call(this,c("PagesManagerDispatcher"));this.$PagesManagerStore6=null;this.$PagesManagerStore1=0;this.$PagesManagerStore2=0;this.$PagesManagerStore3=0;this.$PagesManagerStore4=[];this.$PagesManagerStore5=new(c("Map"))();this.$PagesManagerStore8=0;this.$PagesManagerStore9=0}j.prototype.__onDispatch=function(k){"use strict";__p&&__p();switch(k.type){case c("PagesManagerActionType").LIST.VIEW:this.$PagesManagerStore6=k.listItem;this.__emitChange();break;case c("PagesManagerActionType").LIST.SELECT:this.$PagesManagerStore10(k);this.__emitChange();break;case c("PagesManagerActionType").LAYOUT.HEIGHT_CHANGE:this.$PagesManagerStore1=k.heights.navigationHeight;this.$PagesManagerStore2=k.heights.layoutHeight;this.__emitChange();break;case c("PagesManagerActionType").LAYOUT.LIST_HEIGHT_CHANGE:this.$PagesManagerStore3=k.height;this.__emitChange();break;case c("PagesManagerActionType").LAYOUT.FOOTER_HEIGHT_CHANGE:this.$PagesManagerStore8=k.height;this.__emitChange();break;case c("PagesManagerActionType").LAYOUT.HEADER_HEIGHT_CHANGE:this.$PagesManagerStore9=k.height;this.__emitChange();break;case c("PagesManagerActionType").LIST.DESELECT_ALL:this.$PagesManagerStore10({selectedRowsMap:new(c("Map"))()});this.__emitChange();break;case c("PagesManagerActionType").LIST.INITIAL_VIEW:this.$PagesManagerStore11(k.item);break;case c("PagesManagerActionType").LIST.CLEAR_INITIAL_VIEW:this.$PagesManagerStore7=null;break;default:return}};j.prototype.$PagesManagerStore11=function(k){"use strict";this.$PagesManagerStore7=k;this.$PagesManagerStore6=k};j.prototype.$PagesManagerStore10=function(k){"use strict";__p&&__p();if(Object.prototype.hasOwnProperty.call(k,"selectedRowsMap")){this.$PagesManagerStore5=k.selectedRowsMap;this.$PagesManagerStore4=Array.from(this.$PagesManagerStore5.keys());return}this.$PagesManagerStore4=k.selectedRows;k.rowsAdded.forEach(function(l){this.$PagesManagerStore5.set(l,true)}.bind(this));k.rowsRemoved.forEach(function(l){this.$PagesManagerStore5.set(l,false)}.bind(this))};j.prototype.getViewingListItem=function(){"use strict";return this.$PagesManagerStore6};j.prototype.getInitialViewingItem=function(){"use strict";return this.$PagesManagerStore7};j.prototype.getLayoutHeight=function(){"use strict";return this.$PagesManagerStore2};j.prototype.getNavigationHeight=function(){"use strict";return this.$PagesManagerStore1};j.prototype.getListNavigationHeight=function(){"use strict";return this.$PagesManagerStore3};j.prototype.getFooterHeight=function(){"use strict";return this.$PagesManagerStore8};j.prototype.getHeaderHeight=function(){"use strict";return this.$PagesManagerStore9};j.prototype.getIsRowSelected=function(k){"use strict";return this.$PagesManagerStore5.has(k)?this.$PagesManagerStore5.get(k):false};j.prototype.getSelectedRows=function(){"use strict";return this.$PagesManagerStore4};j.prototype.isSelectionMode=function(){"use strict";return this.$PagesManagerStore4.length!==0};f.exports=new j(c("PagesManagerDispatcher"))}),null);
__d("PagesManagerDetailContainer.react",["FluxContainer","PagesManagerStore","React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k);this.state={height:0,viewingListItem:null}}j.getStores=function(){"use strict";return[c("PagesManagerStore")]};j.calculateState=function(k){"use strict";var l=c("PagesManagerStore").getLayoutHeight()-c("PagesManagerStore").getNavigationHeight()-c("PagesManagerStore").getHeaderHeight();return{height:l,viewingListItem:c("PagesManagerStore").getViewingListItem()}};j.prototype.render=function(){"use strict";var k=this.props,l=k.ChildContainerClass,m=babelHelpers.objectWithoutProperties(k,["ChildContainerClass"]);return c("React").createElement(l,babelHelpers["extends"]({height:this.state.height,viewingListItem:this.state.viewingListItem,listItemKey:this.props.getListItemKey(this.state.viewingListItem)},m))};f.exports=c("FluxContainer").create(j)}),null);
__d("PagesManagerListContainer.react",["FluxContainer","PagesManagerAction","PagesManagerStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.state={height:0}}j.getStores=function(){return[c("PagesManagerStore")]};j.calculateState=function(k){var l=c("PagesManagerStore").getLayoutHeight()-c("PagesManagerStore").getNavigationHeight()-c("PagesManagerStore").getFooterHeight();return{height:l}};j.prototype.render=function(){var k=this.props,l=k.ChildContainerClass,m=babelHelpers.objectWithoutProperties(k,["ChildContainerClass"]);return c("React").createElement(l,babelHelpers["extends"]({height:this.state.height,onSelectionChange:c("PagesManagerAction").handleSelectionMapChange},m))};j.prototype.$PagesManagerListContainer1=function(k){var l=k.rowsAdded,m=k.rowsRemoved,n=k.selectedRows;c("PagesManagerAction").handleSelectionChange(l,m,n)};f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("AbstractPagesManagerListStore",["invariant","PagesManagerActionType","FluxStore","Map","nullthrows"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FluxStore"));j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this,l);this.__hasMoreItem=new(c("Map"))();this.__isLoading=false}k.prototype.__onDispatch=function(l){"use strict";__p&&__p();switch(l.type){case c("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(l);break;case c("PagesManagerActionType").LIST.FETCHED:case c("PagesManagerActionType").LIST.UPDATED:this.__emitChange();break;case c("PagesManagerActionType").LIST.LOADING:this.__isLoading=true;this.__emitChange();break;case c("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:case c("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:case c("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:this.__handleNavigationUnitChange(l);break;default:return}};k.prototype.__handleListFetch=function(l){"use strict";h(0)};k.prototype.__handleNavigationUnitChange=function(l){"use strict";h(0)};k.prototype.hasMoreItem=function(l){"use strict";return this.__hasMoreItem.has(l)?c("nullthrows")(this.__hasMoreItem.get(l)):false};k.prototype.getItemList=function(l,m){"use strict";h(0)};k.prototype.isLoading=function(){"use strict";return this.__isLoading};f.exports=k}),null);
__d("ServicesAppointmentInterstitialStore",["FluxReduceStore","immutable","PagesManagerDispatcher","QE2Logger","ServicesAppointmentInterstitialActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS,m=c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_CLOSE,n=c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_DISABLE,o=c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_READY,p=c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_TRIGGER_ACTION,q=c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_QE_EXPOSURE_LOG;h=babelHelpers.inherits(r,c("immutable").Record({hasLoggedQEExposure:false,hasShown:false,isActive:false,isDisabled:false,isReady:false,viewingEligibleThread:false}));i=h&&h.prototype;function r(){h.apply(this,arguments)}j=babelHelpers.inherits(s,c("FluxReduceStore"));k=j&&j.prototype;s.prototype.getInitialState=function(){return new r()};s.prototype.reduce=function(t,u){__p&&__p();switch(u.type){case l:return t.set("viewingEligibleThread",true);case m:return t.set("isActive",false);case n:return t.set("isDisabled",true);case o:return t.set("isReady",true);case p:return t.set("isActive",true).set("hasShown",true);case q:if(this.getState().hasLoggedQEExposure)return t;c("QE2Logger").logExposureForUser("services_in_product_education");return t.set("hasLoggedQEExposure",true)}return t};s.prototype.isActive=function(){return this.getState().isActive};s.prototype.isReadyAndHasNotShown=function(){var t=this.getState(),u=t.hasShown,v=t.isDisabled,w=t.isReady,x=t.viewingEligibleThread;return!v&&w&&!u&&x};function s(){j.apply(this,arguments)}f.exports=new s(c("PagesManagerDispatcher"))}),null);
__d("XPageInboxInterfaceSwitchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/manager/inbox/interfaceswitch/",{})}),null);
__d("XPagesManagerInboxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{page_token}/inbox/{?selected_item_id}/",{page_token:{type:"String",required:true},business_id:{type:"Int"},selected_item_id:{type:"FBID"}})}),null);
__d("PagesManagerInboxSwitcherUtil",["ActorURI","AsyncRequest","XPageInboxInterfaceSwitchController","XPagesManagerMessagesController","XPagesManagerInboxController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k,l){var m=c("XPageInboxInterfaceSwitchController").getURIBuilder().getURI();m=c("ActorURI").create(m,k);new(c("AsyncRequest"))().setURI(m).setMethod("POST").setData({is_unified_inbox:j}).setHandler(function(n){var o=n.payload.isUnifiedInbox,p=o?c("XPagesManagerInboxController"):c("XPagesManagerMessagesController");p.getURIBuilder().setString("page_token",l).getURI().go()}).send()}var i={switchToInbox:function j(k,l){return h(true,k,l)},switchToMessage:function j(k,l){return h(false,k,l)}};f.exports=i}),null);
__d("PagesManagerMessagingNavigationUnitKey",["MercuryFilters","MessagingTag","PageMessageEnumTag"],(function a(b,c,d,e,f,g){"use strict";var h={FILTERS:{ALL:c("MercuryFilters").ALL,UNREAD:c("MercuryFilters").UNREAD,FLAGGED:c("PageMessageEnumTag").FLAG,PRIORITY:c("PageMessageEnumTag").IMPORTANT},FOLDERS:{INBOX:c("MessagingTag").INBOX,ARCHIVED:c("MessagingTag").ACTION_ARCHIVED,PAGE_BACKGROUND:c("MessagingTag").PAGE_BACKGROUND,SPAM:c("MessagingTag").OTHER,SPAM_DEPRECATED:c("MessagingTag").SPAM}};f.exports=h}),null);
__d("PagesManagerMessagingActionType",["PagesManagerActionType","keyMirrorRecursive"],(function a(b,c,d,e,f,g){var h=c("keyMirrorRecursive")({THREAD_LEVEL:{READ_STATUS:"",ARCHIVE_STATUS:"",SPAM_STATUS:"",UPDATE_THREAD:""},MESSAGE_LEVEL:{READ_RECEIPTS:""},SET_SCROLL_HEIGHT:null,SET_APPOINTMENT_BANNER_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null,MESSAGE_SEARCH:{NAME_SEARCH_UPDATE:null,SNIPPET_SEARCH_UPDATE:null,LOAD_MORE_NAME_RESULT:null,LOAD_MORE_SNIPPET_RESULT:null},HOT_LIKE:{END:null,START:null},BAN:{RESET:null,UPDATE:null},CLASSIFIER:{INITIALIZE_STORE:null,CHECK_FOR_INTENT:null,NOTIFY_INTENT_CLASSIFIED:null,THREAD_INTENT_UPDATED:null,VERIFY_INTENT:null}});Object.assign(h,c("PagesManagerActionType"));f.exports=h}),null);
__d("PagesManagerMessagingComposerActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({ATTACHMENT:{ALL_COMPLETE:"",ATTACH_CACHED:"",ATTACH_COMPLETE:"",ATTACH_START:"",CANCEL:"",DETACH:"",DETACH_ALL:""},LEAD_FORMS:{ATTACH:"",DETACH:"",LOADING:"",SET:""},MESSAGE:{CLEAR:"",SET:""},PARTICIPANT:{SET:""},SAVED_REPLIES:{LOADING:"",SET:""},SHARE_UPLOADER:{READY:"",CLEAR:""},UPLOADER:{READY:""}});f.exports=h}),null);
__d("PagesManagerMessagingComposerDispatcher",["ReactDispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){f.exports=new(c("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingComposerActions",["PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={attachLeadForm:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.ATTACH,form:j})},clearMessage:function i(){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR})},clearShareLinkUploader:function i(){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR})},completeAllAttachments:function i(){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE})},completeAttachment:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE,attachment:j})},detachAllAttachments:function i(){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL})},detachAttachment:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH,uploadID:j})},detachLeadForm:function i(){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.DETACH})},fileUploaderReady:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").UPLOADER.READY,uploader:j})},setIsLeadFormsLoading:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.LOADING,isLoading:j})},setIsSavedRepliesLoading:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING,isLoading:j})},setLeadForms:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.SET,forms:j})},setMessage:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").MESSAGE.SET,message:j})},setParticipant:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET,participant:j})},setSavedReplies:function i(j,k){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET,replies:j,tokens:k})},setShareLinkUploader:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY,uploader:j})},startAttachment:function i(j){c("PagesManagerMessagingComposerDispatcher").dispatch({actionType:c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START,files:j})}};f.exports=h}),null);
__d("PagesManagerMessagingMessagelistDispatcher",["ReactDispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ReactDispatcher_DEPRECATED"))()}),null);
__d("XPagesBanUserStatusFetchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/ban_user/status/",{page_id:{type:"FBID",required:true},user_id:{type:"FBID",required:true}})}),null);
__d("PagesManagerMessagingMessagelistAction",["AsyncRequest","PagesManagerMessagingActionType","Map","PagesManagerMessagingMessagelistDispatcher","XPagesBanUserStatusFetchController"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("PagesManagerMessagingActionType").LIST,i=new(c("Map"))(),j={updateMessagelist:function k(l,m,n){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:h.LOADED,pageID:l,threadID:m,data:n})},setHotLikeEnd:function k(){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").HOT_LIKE.END})},setHotLikeStart:function k(l){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").HOT_LIKE.START,preview:l})},setIsLoading:function k(l){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:h.LOADING,isLoading:l})},setIsLoadingMore:function k(l){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:h.LOAD_MORE,isLoadingMore:l})},setScrollAreaHeight:function k(l){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT,height:l})},setAppointmentBannerHeight:function k(l){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:l})},setAppointmentScheduleBannerHeight:function k(l){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:l})},setAppointmentStatusBannerHeight:function k(l){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:l})},updateReadReceipts:function k(l,m,n){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").MESSAGE_LEVEL.READ_RECEIPTS,pageID:l,threadID:m,readReceipts:n})},updateThread:function k(l,m){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD,pageID:l,threadID:m})},setIsContextCardHidden:function k(l,m){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN,pageID:l,isHidden:m})},updateIsUserBanned:function k(l,m,n){c("PagesManagerMessagingMessagelistDispatcher").dispatch({type:c("PagesManagerMessagingActionType").BAN.UPDATE,pageID:l,userID:m,isBanned:n})},_getBanningMapKey:function k(l,m){return l+"_"+m},fetchIsUserBanned:function k(l,m){var n=this._getBanningMapKey(l,m);if(i.has(n)&&i.get(n))return;var o=c("XPagesBanUserStatusFetchController").getURIBuilder().setFBID("page_id",l).setFBID("user_id",m).getURI();new(c("AsyncRequest"))().setURI(o).setHandler(function(p){j.updateIsUserBanned(l,m,p.payload)}).send();i.set(n,true)},resetIsUserBanned:function k(l,m){i.set(this._getBanningMapKey(l,m),false)}};f.exports=j}),null);
__d("PagesManagerMessagingNUXActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({RESET_STEP:"",SET_IS_VISIBLE:"",SET_ROOT_ELEMENT:"",SET_STEP:"",SET_SHOULD_SHOW_BANNER:"",SET_SHOULD_SHOW_CONTEXT_CARD_STEP:"",SET_DEPENDENCY_READY:{COMPOSER:"",CONTEXT_CARD:"",THREADLIST:""}});f.exports=h}),null);
__d("PagesManagerMessagingNUXDispatcher",["ReactDispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingNUXActions",["PagesManagerMessagingNUXActionTypes","PagesManagerMessagingNUXDispatcher","PagesManagerMessagingMessagelistDispatcher","PagesManagerMessagingActionType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={resetStep:function i(){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").RESET_STEP})},setComposerReady:function i(){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.COMPOSER})},setContextCardReady:function i(){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.CONTEXT_CARD})},setThreadlistReady:function i(){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.THREADLIST})},setIsVisible:function i(j){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").SET_IS_VISIBLE,isVisible:j})},setRootElement:function i(j){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").SET_ROOT_ELEMENT,rootElement:j})},setStep:function i(j){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").SET_STEP,step:j})},setShouldShowBanner:function i(j){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_BANNER,shouldShow:j})},setShouldShowContextCardStep:function i(j){c("PagesManagerMessagingNUXDispatcher").dispatch({actionType:c("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:j})}};f.exports=h}),null);
__d("PageCommSearchType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADMIN:"ADMIN",COSTUMER:"COSTUMER",LABEL:"LABEL"})}),null);
__d("PagesMessagingSearchMode",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({ALL:"",NAME_SEARCH:"",KEYWORD_SEARCH:"",MESSAGE_SEARCH:"",NONE:""});f.exports=h}),null);
__d("PagesManagerMessagingThreadlistAction",["MercuryThreadlistConstants","PageCommSearchType","PagesAdminToolUIActionType","PagesManagerDispatcher","PagesManagerLogger","PagesManagerMessagingActionType","PagesMessagingSearchMode"],(function a(b,c,d,e,f,g){__p&&__p();var h={initThreadlist:function i(j){this.fetchThreadlist(j,0,c("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT)},fetchThreadlist:function i(j,k,l){c("PagesManagerDispatcher").dispatch({offset:k,limit:l,pageID:j,type:c("PagesManagerMessagingActionType").LIST.FETCH})},updateThreadlist:function i(j){c("PagesManagerDispatcher").dispatch({pageID:j,type:c("PagesManagerMessagingActionType").LIST.UPDATED})},changeSearchTerm:function i(j,k,l,m){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SEARCH.CHANGE_SEARCH_TERM,searchTerm:k,pageID:j,activeFolder:l,searchMode:m})},changeIsSearchingNameStatus:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").MESSAGE_SEARCH.NAME_SEARCH_UPDATE,isSearching:j})},changeIsSearchingSnippetStatus:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").MESSAGE_SEARCH.SNIPPET_SEARCH_UPDATE,isSearching:j})},loadMoreNameResult:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT,searchTerm:k,pageID:j,activeFolder:l})},loadMoreSnippetResult:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT,searchTerm:k,pageID:j,activeFolder:l})},resetSearch:function i(j){h.changeSearchTerm(j,"","",c("PagesMessagingSearchMode").NONE)},addSearchCustomTag:function i(j,k,l){c("PagesManagerLogger").logMessageInboxUIAction(c("PagesAdminToolUIActionType").MESSAGE_INBOX_CLICK_ADD_SEARCH_TAGS,j,{tag_name:k,position:l});c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG,pageID:j,tagName:k});c("PagesManagerDispatcher").dispatch({searchType:c("PageCommSearchType").LABEL,type:c("PagesManagerMessagingActionType").SEARCH.LABEL})},removeSearchCustomTag:function i(j,k,l){c("PagesManagerLogger").logMessageInboxUIAction(c("PagesAdminToolUIActionType").MESSAGE_INBOX_CLICK_REMOVE_SEARCH_TAGS,j,{tag_name:k,position:l});c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG,pageID:j,tagName:k});c("PagesManagerDispatcher").dispatch({searchType:c("PageCommSearchType").LABEL,type:c("PagesManagerMessagingActionType").SEARCH.LABEL})},fetchCustomTagThreadCounts:function i(j){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").SEARCH.FETCH_CUSTOM_TAG_THREAD_COUNTS,pageID:j})},searchNameResult:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_NAME_SEARCH_TERM,searchTerm:k,pageID:j,activeFolder:l})},searchMessageResult:function i(j,k,l){c("PagesManagerDispatcher").dispatch({type:c("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_MESSAGE_SEARCH_TERM,searchTerm:k,pageID:j,activeFolder:l})}};f.exports=h}),null);
__d("PagesManagerMessagingComposerStore",["FluxStore","Map","MercuryConfig","PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher","PagesMessagingConfig","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$PagesManagerMessagingComposerStore1=new(c("Map"))();this.$PagesManagerMessagingComposerStore2=null;this.$PagesManagerMessagingComposerStore3=false;this.$PagesManagerMessagingComposerStore4={attachedLeadForm:null,isLeadFormsLoading:false,leadForms:[]};this.$PagesManagerMessagingComposerStore5="";this.$PagesManagerMessagingComposerStore6=null;this.$PagesManagerMessagingComposerStore7={replies:[],tokens:{}};this.$PagesManagerMessagingComposerStore8=null}j.prototype.getAllAttachmentsMeta=function(){__p&&__p();var k=this.$PagesManagerMessagingComposerStore9(),l=[];for(var m=this.$PagesManagerMessagingComposerStore1.values(),n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.id&&k.indexOf(q.id)!==-1||q.isUploading)l.push(q)}return l};j.prototype.getAttachedAttachmentIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAttachments();return[]};j.prototype.getAttachedImageIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getImageFiles();return[]};j.prototype.getAttachedAnimatedImageIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAnimatedImageFiles();return[]};j.prototype.getAttachedVideoIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getVideoFiles();return[]};j.prototype.getAttachedAudioFilesIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAudioFiles();return[]};j.prototype.getAttachedFilesIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getFiles();return[]};j.prototype.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore2};j.prototype.getIsAttachmentUploading=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.isUploading();return false};j.prototype.getIsSavedRepliesLoading=function(){return this.$PagesManagerMessagingComposerStore3};j.prototype.getLeadFormsData=function(){return this.$PagesManagerMessagingComposerStore4};j.prototype.getMessage=function(){return this.$PagesManagerMessagingComposerStore5};j.prototype.getQuickReplyMode=function(){return c("PagesMessagingConfig").sendOnEnter};j.prototype.getParticipant=function(){return this.$PagesManagerMessagingComposerStore6};j.prototype.getSavedReplies=function(){return this.$PagesManagerMessagingComposerStore7};j.prototype.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore8)return this.$PagesManagerMessagingComposerStore8.getAttachData()};j.prototype.getUploadActionFromUserID=function(k){if(!k)return null;return new(c("URI"))(c("MercuryConfig").upload_url).addQueryData("request_user_id",k).toString()};j.prototype.$PagesManagerMessagingComposerStore10=function(k,l){this.$PagesManagerMessagingComposerStore1.set(l.upload_id,{id:"",isUploading:true,name:l.metadata.filename,type:l.metadata.filetype,uploadID:l.upload_id})};j.prototype.$PagesManagerMessagingComposerStore11=function(k){k.map(function(l){this.$PagesManagerMessagingComposerStore1.set(l.upload_id,{id:"",isUploading:true,name:l.metadata.name,type:l.metadata.type,uploadID:l.upload_id})}.bind(this))};j.prototype.$PagesManagerMessagingComposerStore12=function(){this.$PagesManagerMessagingComposerStore5=""};j.prototype.$PagesManagerMessagingComposerStore13=function(k){if(this.$PagesManagerMessagingComposerStore1.has(k))this.$PagesManagerMessagingComposerStore1["delete"](k)};j.prototype.$PagesManagerMessagingComposerStore14=function(){if(this.$PagesManagerMessagingComposerStore8)this.$PagesManagerMessagingComposerStore8.clear()};j.prototype.$PagesManagerMessagingComposerStore15=function(k){var l=void 0;if(this.$PagesManagerMessagingComposerStore1.has(k.upload_id)){l=this.$PagesManagerMessagingComposerStore1.get(k.upload_id);l.id=this.$PagesManagerMessagingComposerStore16(k);l.isUploading=false;this.$PagesManagerMessagingComposerStore1.set(k.upload_id,l)}};j.prototype.$PagesManagerMessagingComposerStore9=function(){if(!this.$PagesManagerMessagingComposerStore2)return[];var k=this.$PagesManagerMessagingComposerStore2;return[].concat(k.getAttachments(),k.getImageFiles(),k.getAnimatedImageFiles(),k.getVideoFiles(),k.getAudioFiles(),k.getFiles())};j.prototype.$PagesManagerMessagingComposerStore16=function(k){return k.metadata.image_id||k.metadata.gif_id||k.metadata.video_id||k.metadata.audio_id||k.metadata.file_id};j.prototype.__onDispatch=function(k){__p&&__p();switch(k.actionType){case c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore17();this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore15(k.attachment);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore11(k.files);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore18(k.uploadID);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore19();this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.ATTACH:this.$PagesManagerMessagingComposerStore20(k.form);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.DETACH:this.$PagesManagerMessagingComposerStore21();this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.LOADING:this.$PagesManagerMessagingComposerStore22(k.isLoading);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.SET:this.$PagesManagerMessagingComposerStore23(k.forms);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore12();break;case c("PagesManagerMessagingComposerActionTypes").MESSAGE.SET:this.$PagesManagerMessagingComposerStore24(k.message);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore25(k.participant);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore26(k.isLoading);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET:this.$PagesManagerMessagingComposerStore27(k.replies,k.tokens);this.__emitChange();break;case c("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore28(k.uploader);break;case c("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore14();break;case c("PagesManagerMessagingComposerActionTypes").UPLOADER.READY:this.$PagesManagerMessagingComposerStore29(k.uploader);this.$PagesManagerMessagingComposerStore30();break}};j.prototype.$PagesManagerMessagingComposerStore19=function(){if(this.$PagesManagerMessagingComposerStore2){this.$PagesManagerMessagingComposerStore2.removeAttachments();this.$PagesManagerMessagingComposerStore1.clear()}};j.prototype.$PagesManagerMessagingComposerStore18=function(k){if(this.$PagesManagerMessagingComposerStore2){this.$PagesManagerMessagingComposerStore2.removeOneAttachment(k);this.$PagesManagerMessagingComposerStore13(k)}};j.prototype.$PagesManagerMessagingComposerStore17=function(){this.$PagesManagerMessagingComposerStore1.forEach(function(k,l){if(k.isUploading)this.$PagesManagerMessagingComposerStore1["delete"](k.uploadID)}.bind(this))};j.prototype.$PagesManagerMessagingComposerStore21=function(){this.$PagesManagerMessagingComposerStore4.attachedLeadForm=null};j.prototype.$PagesManagerMessagingComposerStore20=function(k){this.$PagesManagerMessagingComposerStore4.attachedLeadForm=k};j.prototype.$PagesManagerMessagingComposerStore29=function(k){this.$PagesManagerMessagingComposerStore2=k};j.prototype.$PagesManagerMessagingComposerStore22=function(k){this.$PagesManagerMessagingComposerStore4.isLeadFormsLoading=k};j.prototype.$PagesManagerMessagingComposerStore26=function(k){this.$PagesManagerMessagingComposerStore3=k};j.prototype.$PagesManagerMessagingComposerStore23=function(k){this.$PagesManagerMessagingComposerStore4.leadForms=k};j.prototype.$PagesManagerMessagingComposerStore24=function(k){this.$PagesManagerMessagingComposerStore5=k};j.prototype.$PagesManagerMessagingComposerStore25=function(k){this.$PagesManagerMessagingComposerStore6=k};j.prototype.$PagesManagerMessagingComposerStore27=function(k,l){this.$PagesManagerMessagingComposerStore7={replies:k,tokens:l}};j.prototype.$PagesManagerMessagingComposerStore28=function(k){this.$PagesManagerMessagingComposerStore8=k};j.prototype.$PagesManagerMessagingComposerStore30=function(){var k=this.$PagesManagerMessagingComposerStore2;if(k)k.subscribe("cached-file-added",this.$PagesManagerMessagingComposerStore10.bind(this))};f.exports=new j(c("PagesManagerMessagingComposerDispatcher"))}),null);
__d("ServicesAppointmentInterstitialDialog.react",["cx","fbt","DialogExpansion","FluxContainer","InputLabel.react","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ServicesAppointmentInterstitialAction","ServicesAppointmentInterstitialStore","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","uniqueID"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ServicesAppointmentInterstitialDialog1=function(){if(this.state.optOut)c("ServicesAppointmentInterstitialAction").interstitialOptOut();c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").SERVICES_APPOINTMENT_INTERSTITIAL,null,["services_appointment_interstitial"],{opt_out:this.state.optOut,target:"NOT_NOW_BUTTON"});this.$ServicesAppointmentInterstitialDialog2(false)}.bind(this),this.$ServicesAppointmentInterstitialDialog3=function(){if(this.state.optOut)c("ServicesAppointmentInterstitialAction").interstitialOptOut();c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").SERVICES_APPOINTMENT_INTERSTITIAL,null,["services_appointment_interstitial"],{opt_out:this.state.optOut,target:"SCHEDULE_BUTTON"});this.$ServicesAppointmentInterstitialDialog2(false);this.props.onToggleSchedule()}.bind(this),this.$ServicesAppointmentInterstitialDialog4=c("uniqueID")(),n}l.getStores=function(){return[c("ServicesAppointmentInterstitialStore")]};l.calculateState=function(m){if(!m)return{isActive:false,optOut:false};var n=c("ServicesAppointmentInterstitialStore").isActive();return babelHelpers["extends"]({},m,{isActive:n})};l.prototype.componentDidMount=function(){c("ServicesAppointmentInterstitialAction").interstitialReady()};l.prototype.$ServicesAppointmentInterstitialDialog2=function(m){if(!m)c("ServicesAppointmentInterstitialAction").interstitialClose()};l.prototype.renderBody=function(){return c("React").createElement(c("XUIDialogBody.react"),null,i._("Customers with appointments can get automatic confirmations, reminders, and follow-up messages to book again."))};l.prototype.renderFooter=function(){var m=c("React").createElement(c("InputLabel.react"),{label:i._("Don't show again"),className:"_3-8w"},c("React").createElement(c("XUICheckboxInput.react"),{onChange:function(n){return this.setState({optOut:n.target.checked})}.bind(this)}));return c("React").createElement(c("XUIDialogFooter.react"),{leftContent:m},c("React").createElement(c("XUIDialogButton.react"),{label:i._("Not Now"),size:"large",onClick:this.$ServicesAppointmentInterstitialDialog1}),c("React").createElement(c("XUIDialogButton.react"),{label:i._("Schedule"),onClick:this.$ServicesAppointmentInterstitialDialog3,size:"large",use:"confirm"}))};l.prototype.renderTitle=function(){return c("React").createElement(c("XUIDialogTitle.react"),{id:this.$ServicesAppointmentInterstitialDialog4},i._("Create an Appointment So Your Customer Gets Reminders"))};l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow"),LayerRemoveOnHide:c("LayerRemoveOnHide"),DialogExpansion:c("DialogExpansion")},hideOnEscape:true,labelledBy:this.$ServicesAppointmentInterstitialDialog4,layerHideOnBlur:false,onToggle:this.$ServicesAppointmentInterstitialDialog2,shown:this.state.isActive,width:500},this.renderTitle(),this.renderBody(),this.renderFooter())};f.exports=c("FluxContainer").create(l)}),null);
__d("PagesManagerInboxComposerCreateAppointmentButton.react",["cx","fbt","FluxContainer","Link.react","React","ReactDOM","ServicesAppointmentInterstitialDialog.react","ServicesAppointmentReferrer","ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentNUXActions","ServicesMessengerAppointmentNUXStore","ServicesVerticalCreateAppointmentDialogRoot.react","XUIAmbientNUX.react","idx","ServicesMessengerAppointmentNUXIDEnum"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ServicesMessengerAppointmentNUXIDEnum").COMPOSER_NUX_ID;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.handleClick=function(){this.setState({dialogShown:true,referrer:c("ServicesAppointmentReferrer").COMPOSER})}.bind(this),this.handleInterstitialSchedule=function(){this.setState({dialogShown:true,referrer:c("ServicesAppointmentReferrer").APPOINTMENT_INTERSTITIAL})}.bind(this),this.handleToggleDialog=function(s){this.setState({dialogShown:s})}.bind(this),o}m.getStores=function(){return[c("ServicesMessengerAppointmentNUXStore")]};m.calculateState=function(n){if(!n)return{dialogShown:false,referrer:c("ServicesAppointmentReferrer").COMPOSER,showComposerNUX:false};var o=c("ServicesMessengerAppointmentNUXStore").getState();return babelHelpers["extends"]({},n,{showComposerNUX:o.showComposerNUX})};m.prototype.componentWillMount=function(){c("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores())};m.prototype.componentDidMount=function(){c("ServicesMessengerAppointmentNUXActions").loadNUXEligibility()};m.prototype.renderAppointmentInterstitial=function(){return c("React").createElement(c("ServicesAppointmentInterstitialDialog.react"),{onToggleSchedule:this.handleInterstitialSchedule,pageID:this.props.userID})};m.prototype.renderCreateAnotherAppointmentDialog=function(){var n=this.state.dialogShown;if(!n)return null;return c("React").createElement(c("ServicesVerticalCreateAppointmentDialogRoot.react"),{causalElementRef:function(){return this}.bind(this),onToggle:this.handleToggleDialog,pageID:this.props.userID,requestOwnerID:this.props.recipientID,referrer:this.state.referrer,shown:n})};m.prototype.renderLayer=function(){if(!this.button)return null;var n=this.state.showComposerNUX;if(n)c("ServicesMessengerAppointmentNUXActions").showNUX(l);return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",context:c("ReactDOM").findDOMNode(this.button),shown:n,onCloseButtonClick:function o(){return c("ServicesMessengerAppointmentNUXActions").closeNUX(l)},position:"above",width:"normal"},i._("Create an appointment from any conversation so customers can get automatic reminders"))};m.prototype.render=function(){var n=i._("Create Appointment");return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{"aria-label":this.props.showTooltip?n:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?n:null,onClick:this.handleClick,ref:function(o){return this.button=o}.bind(this)},c("React").createElement("i",{className:"_2em5",tabIndex:0})),this.renderLayer(),this.renderCreateAnotherAppointmentDialog(),this.renderAppointmentInterstitial())};f.exports=c("FluxContainer").create(m)}),null);
__d("PagesManagerMessagingComposerAttachedLeadForm.react",["ix","cx","Image.react","React","XUICloseButton.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PureComponent;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement("ul",{className:"_27ru"},c("React").createElement("li",{className:"clearfix _2uid"},c("React").createElement("span",{className:"_kqe _kqf"},c("React").createElement("span",{className:"_2uib"},c("React").createElement(c("Image.react"),{src:h("397685")}))),c("React").createElement("span",{className:"_kqe _kqh"},c("React").createElement("span",{className:"_2uic"},this.props.form.name)),c("React").createElement("span",{className:"_kqe _kqi"},c("React").createElement(c("XUICloseButton.react"),{className:"_2uia",onClick:this.props.onDetach}))))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("PagesManagerMessagingComposerAttachmentListItem.react",["cx","ix","Image.react","React","XUICloseButton.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$PagesManagerMessagingComposerAttachmentListItem1=function(){return this.props.onDetach(this.props.uploadID)}.bind(this)}m.prototype.$PagesManagerMessagingComposerAttachmentListItem2=function(){if(this.props.type.startsWith("image"))return i("94995");else if(this.props.type.startsWith("video"))return i("94998");else if(this.props.type.startsWith("audio"))return i("94984");else if(this.props.type.startsWith("text"))return i("94997");return i("94992")};m.prototype.$PagesManagerMessagingComposerAttachmentListItem3=function(){return c("React").createElement(c("XUICloseButton.react"),{className:"_2uia",onClick:this.$PagesManagerMessagingComposerAttachmentListItem1})};m.prototype.$PagesManagerMessagingComposerAttachmentListItem4=function(){return c("React").createElement("span",{className:"_2uib"},this.props.isUploading?c("React").createElement(c("XUISpinner.react"),{size:"large"}):c("React").createElement(c("Image.react"),{src:this.$PagesManagerMessagingComposerAttachmentListItem2(),alt:this.props.type}))};m.prototype.$PagesManagerMessagingComposerAttachmentListItem5=function(){return c("React").createElement("span",{className:"_2uic"},this.props.name)};m.prototype.render=function(){return c("React").createElement("li",{className:"clearfix _2uid"},c("React").createElement("span",{className:"_kqe _kqf"},this.$PagesManagerMessagingComposerAttachmentListItem4()),c("React").createElement("span",{className:"_kqe _kqh"},this.$PagesManagerMessagingComposerAttachmentListItem5()),c("React").createElement("span",{className:"_kqe _kqi"},this.$PagesManagerMessagingComposerAttachmentListItem3()))};m.propTypes={attachmentID:l.string,isUploading:l.bool,key:l.string,name:l.string,onDetach:l.func,type:l.string,uploadID:l.string};f.exports=m}),null);
__d("PagesManagerMessagingComposerAttachmentList.react",["cx","PagesManagerMessagingComposerAttachmentListItem.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m)}l.prototype.$PagesManagerMessagingComposerAttachmentList1=function(m){return c("React").createElement(c("PagesManagerMessagingComposerAttachmentListItem.react"),{isUploading:m.isUploading,key:m.uploadID,name:m.name,onDetach:this.props.onDetach,type:m.type,uploadID:m.uploadID})};l.prototype.render=function(){if(this.props.attachments.length>0)return c("React").createElement("ul",{className:"_27ru"},this.props.attachments.map(this.$PagesManagerMessagingComposerAttachmentList1,this));return null};l.propTypes={attachments:k.array.isRequired,onDetach:k.func.isRequired};l.defaultProps={attachments:[]};f.exports=l}),null);
__d("PagesManagerMessagingLeadFormsListItem.react",["cx","fbt","AsyncDialog","AsyncRequest","LeftRight.react","Link.react","React","XAdsLeadGenFormPreviewController","intlList"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PureComponent,m=5;j=babelHelpers.inherits(n,l);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$PagesManagerMessagingLeadFormsListItem1=function(){this.props.onSelectLeadForm(this.props.form)}.bind(this),this.$PagesManagerMessagingLeadFormsListItem2=function(t){t.stopPropagation();var u=c("XAdsLeadGenFormPreviewController").getURIBuilder().setFBID("lead_gen_data_id",this.props.form.id).getURI();c("AsyncDialog").send(new(c("AsyncRequest"))(u))}.bind(this),p}n.prototype.render=function(){var o=this.props.form.questions,p=o.length,q=[];q.push.apply(q,o.slice(0,m));if(p>m)q.push(i._("{number of hidden questions} more",[i.param("number of hidden questions",p-m)]));var r=c("intlList")(q);return c("React").createElement("li",null,c("React").createElement("div",{className:"_2ph_ _40g6",onClick:this.$PagesManagerMessagingLeadFormsListItem1,role:"menuitem",tabIndex:0},c("React").createElement(c("LeftRight.react"),{direction:"right"},c("React").createElement("div",null,c("React").createElement("h4",{className:"_40g7"},this.props.form.name),c("React").createElement("span",null,i._("{inlineQuestions}",[i.param("inlineQuestions",r)])),c("React").createElement("div",null,c("React").createElement(c("Link.react"),{href:"#",onClick:this.$PagesManagerMessagingLeadFormsListItem2},i._("Preview")))))))};f.exports=n}),null);
__d("PagesManagerMessagingLeadFormsList.react",["cx","fbt","Link.react","PagesManagerMessagingLeadFormsListItem.react","React","ScrollableArea.react","URI","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PureComponent;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.forms.map(function(p){return c("React").createElement(c("PagesManagerMessagingLeadFormsListItem.react"),{form:p,key:p.id,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID})}.bind(this)),o=this.props.isLoading?c("React").createElement("div",{className:"_2ph_ _22rp"},c("React").createElement(c("XUISpinner.react"),{size:"large"})):null;return c("React").createElement("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.forms.length===0?" _22rs":"")},o,c("React").createElement(c("ScrollableArea.react"),{fade:true,height:300,shadow:false},c("React").createElement("ul",{className:"_22rt"},n,c("React").createElement("li",{className:"_2ph_ _22rs"},c("React").createElement("div",{className:"_2ph_ _22ru"},c("React").createElement("p",null,i._("End of forms")),c("React").createElement("p",null,c("React").createElement(c("Link.react"),{className:"_22rv",href:this.props.leadFormLibraryURI},i._("Create new form"))))))))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("PagesManagerMessagingLeadFormsFlyout.react",["cx","fbt","LeftRight.react","Link.react","PageContentTabTabs","PagesManagerMessagingLeadFormsList.react","React","URI","XPagesManagerPublishingToolsController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PureComponent;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){var o=c("XPagesManagerPublishingToolsController").getURIBuilder().setString("section",c("PageContentTabTabs").LEAD_ADS_FORMS).setString("page_token",this.props.pageID).getURI();return c("React").createElement("div",{className:"_2gcs"},c("React").createElement(n,{leadFormLibraryURI:o}),c("React").createElement(c("PagesManagerMessagingLeadFormsList.react"),{forms:this.props.forms,isLoading:this.props.isLoading,leadFormLibraryURI:o,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID}))};function m(){j.apply(this,arguments)}function n(o){return c("React").createElement(c("LeftRight.react"),{className:"_2ph_ _2gcu"},c("React").createElement("h3",{className:"_ht4",id:"leadFormsHeaderTitle"},i._("Published Forms")),c("React").createElement(c("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",href:o.leadFormLibraryURI},i._("Manage Forms")))}f.exports=m}),null);
__d("PagesManagerMessagingLeadFormsButton.react",["cx","fbt","Link.react","PagesManagerMessagingLeadFormsFlyout.react","React","XUIContextualDialog.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PureComponent,m=405;j=babelHelpers.inherits(n,l);k=j&&j.prototype;function n(o){__p&&__p();k.constructor.call(this,o);this.$PagesManagerMessagingLeadFormsButton3=function(){this.props.onFetchLeadForms();this.setState(function(p,o){return{isFlyoutShown:!p.isFlyoutShown}})}.bind(this);this.$PagesManagerMessagingLeadFormsButton4=function(){setTimeout(function(){this.setState({isFlyoutShown:false})}.bind(this),0)}.bind(this);this.$PagesManagerMessagingLeadFormsButton5=function(){return this.$PagesManagerMessagingLeadFormsButton2}.bind(this);this.$PagesManagerMessagingLeadFormsButton1=null;this.$PagesManagerMessagingLeadFormsButton2=null;this.state={isFlyoutShown:false}}n.prototype.render=function(){var o=this.props.showTooltip?i._("Send a Lead Form"):null,p=null;if(this.state.isFlyoutShown)p=c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",className:"_63go",contextRef:this.$PagesManagerMessagingLeadFormsButton5,hasActionableContext:true,hideOnEscape:false,labelledBy:"leadFormsHeaderTitle",onBlur:this.$PagesManagerMessagingLeadFormsButton4,position:"above",ref:function(q){return this.$PagesManagerMessagingLeadFormsButton1=q}.bind(this),shown:this.state.isFlyoutShown,width:m},c("React").createElement(c("PagesManagerMessagingLeadFormsFlyout.react"),{forms:this.props.forms,isLoading:this.props.isLeadFormsLoading,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID}));return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{"aria-label":o,className:"_63gp","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":o,onClick:this.$PagesManagerMessagingLeadFormsButton3,tabIndex:0},c("React").createElement("div",{className:"_63gq",ref:function(q){return this.$PagesManagerMessagingLeadFormsButton2=q}.bind(this)})),p)};f.exports=n}),null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/saved_responses/image/duplication/",{})}),null);
__d("PagesManagerMessagingSavedRepliesListItem.react",["cx","ActorURI","AsyncRequest","LeftRight.react","React","SavedResponsesImage.react","SavedResponsesTokensUtils","SavedResponsesUtils","XPagesSavedResponsesImageDuplicationController","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=53,m=53;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.state={isHovering:false}}n.prototype.$PagesManagerMessagingSavedRepliesListItem1=function(){if(this.props.reply.image){var o=this.props.reply.image.id;return c("React").createElement(c("SavedResponsesImage.react"),{className:"_3-9b _1pnc",displayClassName:"_1pnc",height:l,imageID:o,loadingClassName:"_1pnc",pageID:this.props.pageID,shouldShowCloseButton:false,width:m})}};n.prototype.$PagesManagerMessagingSavedRepliesListItem2=function(){if(this.props.reply.title)return c("React").createElement("h4",{className:"_40g7"},this.props.reply.title)};n.prototype.$PagesManagerMessagingSavedRepliesListItem3=function(){__p&&__p();var o=c("SavedResponsesTokensUtils").prepareforSend(this.props.reply.message,this.props.tokens),p=null,q=void 0,r=void 0;if(!this.props.reply.image){this.props.onClick(this.props.reply,o,p);return}p=this.props.reply.image.id;q=c("XPagesSavedResponsesImageDuplicationController").getURIBuilder().getURI();r=c("ActorURI").create(q,this.props.pageID);new(c("AsyncRequest"))().setURI(r).setMethod("POST").setData({image_id:p}).setHandler(function(s){var t=c("SavedResponsesUtils").generateImageMetadata(""+s.payload.duplicatedImageID);this.props.onClick(this.props.reply,o,t)}.bind(this)).send()};n.prototype.$PagesManagerMessagingSavedRepliesListItem4=function(){var o=c("SavedResponsesTokensUtils").prepareforSend(this.props.reply.message,this.props.tokens);this.props.onMouseEnter(o)};n.prototype.$PagesManagerMessagingSavedRepliesListItem5=function(o){__p&&__p();var p=0,q=0,r=/\{{(.*?)\}}/g,s=r.exec(o),t=0,u=[];while(s!=null){q=s.index;u.push(c("React").createElement("span",{key:"token:"+t},o.substring(p,q)));p=q+s[0].length;t+=1;var v=s[1]in this.props.tokens?this.props.tokens[s[1]].value:s[1];u.push(c("React").createElement("span",{className:"_1pnd",key:"token:"+t},v));s=r.exec(o);t+=1}u.push(c("React").createElement("span",{key:"token:"+t},o.substring(p,o.length)));t+=1;return u};n.prototype.render=function(){return c("React").createElement("li",{className:c("joinClasses")("_2ph_ _40g6",this.props.className),onClick:function(){return this.$PagesManagerMessagingSavedRepliesListItem3()}.bind(this),onMouseEnter:function(){return this.$PagesManagerMessagingSavedRepliesListItem4()}.bind(this),onMouseLeave:function(){return this.props.onMouseLeave()}.bind(this),ref:"replyItem"},c("React").createElement(c("LeftRight.react"),{direction:"right"},c("React").createElement("div",null,this.$PagesManagerMessagingSavedRepliesListItem2(),this.$PagesManagerMessagingSavedRepliesListItem5(this.props.reply.message)),this.$PagesManagerMessagingSavedRepliesListItem1()))};n.propTypes={className:k.string,onClick:k.func.isRequired,onMouseEnter:k.func.isRequired,onMouseLeave:k.func.isRequired,pageID:k.string.isRequired,reply:k.object.isRequired,tokens:k.object.isRequired};f.exports=n}),null);
__d("PagesManagerMessagingSavedRepliesList.react",["cx","fbt","Link.react","PagesManagerMessagingSavedRepliesListItem.react","React","SavedResponsesUtils","ScrollableArea.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$PagesManagerMessagingSavedRepliesList7=function(s,t){return c("React").createElement(c("PagesManagerMessagingSavedRepliesListItem.react"),{className:!this.$PagesManagerMessagingSavedRepliesList1(s)?"hidden_elem":"",key:t,onClick:this.props.onReplySelected,onMouseEnter:this.props.onReplyMouseEnter,onMouseLeave:this.props.onReplyMouseLeave,pageID:this.props.pageID,reply:s,tokens:this.props.tokens})}.bind(this),o}m.prototype.$PagesManagerMessagingSavedRepliesList1=function(n){var o=this.props.filter.toLowerCase();return n.message.toLowerCase().indexOf(o)!==-1||(n.title||"").toLowerCase().indexOf(o)!==-1};m.prototype.render=function(){return c("React").createElement("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.replies.length===0?" _22rs":"")},this.props.isLoading?this.$PagesManagerMessagingSavedRepliesList2():null,this.$PagesManagerMessagingSavedRepliesList3())};m.prototype.$PagesManagerMessagingSavedRepliesList4=function(){return c("React").createElement(c("Link.react"),{onClick:function(){return this.props.onCreateNewReply()}.bind(this),className:"_22rv"},i._("Create new reply"))};m.prototype.$PagesManagerMessagingSavedRepliesList5=function(){return c("React").createElement("div",{className:"_2ph_ _22ru"},c("React").createElement("p",null,this.$PagesManagerMessagingSavedRepliesList6()),c("React").createElement("p",null,this.$PagesManagerMessagingSavedRepliesList4()))};m.prototype.$PagesManagerMessagingSavedRepliesList2=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ph_ _22rp"},c("React").createElement(c("XUISpinner.react"),{size:"large"})))};m.prototype.$PagesManagerMessagingSavedRepliesList6=function(){return i._("End of saved replies")};m.prototype.$PagesManagerMessagingSavedRepliesList3=function(){var n=c("SavedResponsesUtils").sortSavedResponses(this.props.replies,this.props.sortingKey);return c("React").createElement(c("ScrollableArea.react"),{fade:true,shadow:false,height:300},c("React").createElement("ul",{className:"_22rt"},n.map(this.$PagesManagerMessagingSavedRepliesList7,this),c("React").createElement("li",{className:"_2ph_ _22rs"},this.$PagesManagerMessagingSavedRepliesList5())))};m.defaultProps={filter:""};m.propTypes={filter:l.string,isLoading:l.bool.isRequired,onCreateNewReply:l.func.isRequired,onReplyMouseEnter:l.func.isRequired,onReplyMouseLeave:l.func.isRequired,onReplySelected:l.func.isRequired,pageID:l.string.isRequired,replies:l.array.isRequired,tokens:l.object.isRequired};f.exports=m}),null);
__d("PagesManagerMessagingSavedRepliesFlyout.react",["cx","fbt","ix","Layout.react","Image.react","LeftFillRightFitLayout.react","LeftRight.react","Link.react","PagesManagerMessagingSavedRepliesList.react","React","SavedResponsesConstants","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn,o=c("React").PropTypes;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$PagesManagerMessagingSavedRepliesFlyout1=function(r){this.setState({activeSortingOptionKey:r})}.bind(this);this.state={searchQuery:"",activeSortingOptionKey:c("SavedResponsesConstants").sortingKey.MOST_USED}}p.prototype.$PagesManagerMessagingSavedRepliesFlyout2=function(q){var r=q.target.value;this.setState({searchQuery:r})};p.prototype.$PagesManagerMessagingSavedRepliesFlyout3=function(){this.setState({searchQuery:""})};p.prototype.render=function(){return c("React").createElement("div",{className:"_2gcs"},this.$PagesManagerMessagingSavedRepliesFlyout4(),c("React").createElement(c("LeftFillRightFitLayout.react"),null,this.$PagesManagerMessagingSavedRepliesFlyout5(),c("React").createElement(c("SavedResponsesOrderingMenu.react"),{className:"_2gct",activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$PagesManagerMessagingSavedRepliesFlyout1})),this.$PagesManagerMessagingSavedRepliesFlyout6())};p.prototype.$PagesManagerMessagingSavedRepliesFlyout4=function(){return c("React").createElement("div",{className:"_2ph_ _2gcu"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("h3",{className:"_ht4"},i._("Saved Replies")),c("React").createElement(c("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.props.onManageReplies},i._("Manage Replies"))))};p.prototype.$PagesManagerMessagingSavedRepliesFlyout6=function(){return c("React").createElement(c("PagesManagerMessagingSavedRepliesList.react"),{filter:this.state.searchQuery,isLoading:this.props.isLoading,onCreateNewReply:this.props.onCreateNewReply,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens})};p.prototype.$PagesManagerMessagingSavedRepliesFlyout5=function(){return c("React").createElement(c("Layout.react"),{className:"_2ph_ _ht5"},c("React").createElement(m,null,c("React").createElement(c("Image.react"),{className:"_ht8",src:j("27278")})),c("React").createElement(n,null,c("React").createElement(c("XUITextInput.react"),{className:"_ht9",onChange:this.$PagesManagerMessagingSavedRepliesFlyout2.bind(this),ref:"inputField",placeholder:i._("Search Saved Replies"),value:this.state.searchQuery})),c("React").createElement(m,null,c("React").createElement(c("XUICloseButton.react"),{size:"small",onClick:this.$PagesManagerMessagingSavedRepliesFlyout3.bind(this),className:(this.state.searchQuery.length===0?"hidden_elem":"")+" _hta"})))};p.propTypes={isLoading:o.bool.isRequired,onCreateNewReply:o.func.isRequired,onManageReplies:o.func.isRequired,onReplyMouseEnter:o.func.isRequired,onReplyMouseLeave:o.func.isRequired,onReplySelected:o.func.isRequired,pageID:o.string.isRequired,replies:o.array.isRequired,tokens:o.object.isRequired};f.exports=p}),null);
__d("PagesManagerMessagingSavedRepliesButton.react",["cx","fbt","ix","Image.react","Link.react","PagesEventObserver","PagesEventType","PagesManagerMessagingSavedRepliesFlyout.react","React","SavedResponsesConstants","SavedResponsesManagePanel.react","XUIContextualDialog.react","XUIDialog.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=600,o=405;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.state={initialSavedResponsesManageViewType:c("SavedResponsesConstants").editPanelViewMode.LIST,isFlyoutShown:false,isManageDialogVisible:false}}p.prototype.$PagesManagerMessagingSavedRepliesButton1=function(){this.props.onFetchReplies();c("PagesEventObserver").notify(c("PagesEventType").SAVED_REPLIES_TOGGLE_BROWSE_VIEW,this.props.pageID,{toggle_on:!this.state.isFlyoutShown});this.setState({isFlyoutShown:!this.state.isFlyoutShown})};p.prototype.$PagesManagerMessagingSavedRepliesButton2=function(){this.props.onFetchReplies();this.setState({isManageDialogVisible:false})};p.prototype.$PagesManagerMessagingSavedRepliesButton3=function(){setTimeout(function(){c("PagesEventObserver").notify(c("PagesEventType").SAVED_REPLIES_TOGGLE_BROWSE_VIEW,this.props.pageID,{toggle_on:false});this.setState({isFlyoutShown:false})}.bind(this),0)};p.prototype.render=function(){var q=i._("Choose a Saved Reply");return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{"aria-label":this.props.showTooltip?q:null,className:"_hsy","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?q:null,onClick:this.$PagesManagerMessagingSavedRepliesButton1.bind(this)},c("React").createElement("div",{className:"_ht0",ref:"icon",tabIndex:0})),this.$PagesManagerMessagingSavedRepliesButton4(),this.$PagesManagerMessagingSavedRepliesButton5())};p.prototype.$PagesManagerMessagingSavedRepliesButton4=function(){if(this.state.isFlyoutShown)return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",className:"_ht1",contextRef:function(){return this.refs.icon}.bind(this),hasActionableContext:true,hideOnEscape:false,onBlur:this.$PagesManagerMessagingSavedRepliesButton3.bind(this),position:"above",ref:"flyoutDialog",shown:this.state.isFlyoutShown,width:o},c("React").createElement(c("PagesManagerMessagingSavedRepliesFlyout.react"),{isLoading:this.props.isSavedRepliesLoading,onCreateNewReply:function(){return this.setState({isManageDialogVisible:true,initialSavedResponsesManageViewType:c("SavedResponsesConstants").editPanelViewMode.CREATE})}.bind(this),onManageReplies:function(){return this.setState({isManageDialogVisible:true,initialSavedResponsesManageViewType:c("SavedResponsesConstants").editPanelViewMode.LIST})}.bind(this),onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,tokens:this.props.tokens}))};p.prototype.$PagesManagerMessagingSavedRepliesButton5=function(){if(this.state.isManageDialogVisible)return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,ref:"managementDialog",shown:this.state.isManageDialogVisible,width:n},c("React").createElement(c("SavedResponsesManagePanel.react"),{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$PagesManagerMessagingSavedRepliesButton2.bind(this),otherUserID:this.props.recipientID,pageID:this.props.pageID}))};p.propTypes={isSavedRepliesLoading:m.bool.isRequired,onFetchReplies:m.func.isRequired,onReplyMouseEnter:m.func.isRequired,onReplyMouseLeave:m.func.isRequired,onReplySelected:m.func.isRequired,pageID:m.string.isRequired,recipientID:m.string.isRequired,replies:m.array.isRequired,showTooltip:m.bool,tokens:m.object.isRequired};p.defaultProps={showTooltip:true};f.exports=p}),null);
__d("PagesManagerMessagingComposerView.react",["cssVar","cx","fbt","ix","CommerceInvoiceAdminButton.react","Image.react","MercuryDragDropPrompt.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeButton.react","MessengerHotLikeGlyphIcon.react","PagesAdminToolUIActionType","PagesEventObserver","PagesEventType","PagesManagerInboxComposerCreateAppointmentButton.react","PagesManagerLogger","PagesManagerMessagingComposerAttachedLeadForm.react","PagesManagerMessagingComposerAttachmentList.react","PagesManagerMessagingLeadFormsButton.react","PagesManagerMessagingSavedRepliesButton.react","PagesMessageSuggestedResponseHandler","PagesMessagingPerfLoggerEvent","PagesMessagingPerfTypedLogger","PagesMessengerFileUploader.react","PagesMessengerSuggestedResponseView.react","PagesMessengerTextInput.react","React","ReactDOM","SavedResponsesUtils","Tooltip.react","TooltipData","UFIStickerButton.react","XUIButton.react","fbglyph","Grid.react"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes,o=function o(){},p=c("Grid.react").GridItem;l=babelHelpers.inherits(q,c("React").Component);m=l&&l.prototype;function q(r){m.constructor.call(this,r);this.$PagesManagerMessagingComposerView1=false;this.state={isAttachmentsButtonVisible:true,isLeadFormsButtonVisible:true,isSavedRepliesButtonVisible:true,isStickerButtonVisible:true,placeholder:""}}q.prototype.componentDidUpdate=function(r,s){if(this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$PagesManagerMessagingComposerView1){this.props.onInitialRender();this.$PagesManagerMessagingComposerView1=true}if(r&&r.message!==this.props.message)this.refs.textInput.updateHeight()};q.prototype.componentWillMount=function(){this.$PagesManagerMessagingComposerView2(this.props)};q.prototype.componentWillReceiveProps=function(r){this.$PagesManagerMessagingComposerView2(r,this.state)};q.prototype.$PagesManagerMessagingComposerView2=function(r){var s=r.attachments.length,t=r.message.length,u=!!r.leadFormsData.attachedLeadForm,v=t<1&&s<1&&!u;this.setState({isAttachmentsButtonVisible:!u,isLeadFormsButtonVisible:!u&&s<1,isSavedRepliesButtonVisible:v,isStickerButtonVisible:v})};q.prototype.$PagesManagerMessagingComposerView3=function(){return this.props.canAttachFiles&&this.state.isAttachmentsButtonVisible};q.prototype.$PagesManagerMessagingComposerView4=function(){return this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible};q.prototype.$PagesManagerMessagingComposerView5=function(){return this.props.canUseStickers&&this.state.isStickerButtonVisible};q.prototype.$PagesManagerMessagingComposerView6=function(){return!!this.props.canUseLeadForms&&this.state.isLeadFormsButtonVisible};q.prototype.$PagesManagerMessagingComposerView7=function(r){this.props.onEmoticonSelected(r,c("ReactDOM").findDOMNode(this.refs.textInput.refs.input))};q.prototype.$PagesManagerMessagingComposerView8=function(r){r.preventDefault();var s=Date.now();c("PagesManagerLogger").logMessageInboxUIAction(c("PagesAdminToolUIActionType").MESSAGE_INBOX_CLICK_SEND_MESSAGE,this.props.userID);new(c("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(c("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_START).log();this.props.onSend(s)};q.prototype.$PagesManagerMessagingComposerView9=function(){if(!this.props.leadFormsData.attachedLeadForm)return null;return c("React").createElement(c("PagesManagerMessagingComposerAttachedLeadForm.react"),{form:this.props.leadFormsData.attachedLeadForm,onDetach:this.props.onDetachLeadForm})};q.prototype.$PagesManagerMessagingComposerView10=function(){if(!this.$PagesManagerMessagingComposerView3())return null;var r=j._("Send a file");return c("React").createElement("div",babelHelpers["extends"]({className:"_4dvy"},c("TooltipData").propsFor(r)),c("React").createElement(c("PagesMessengerFileUploader.react"),{actionURI:this.props.uploaderActionURI,iconSize:"large",onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:"fileUploader"}))};q.prototype.$PagesManagerMessagingComposerView11=function(){if(!this.props.canAttachFiles)return null;return c("React").createElement(c("PagesManagerMessagingComposerAttachmentList.react"),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:"attachmentList"})};q.prototype.$PagesManagerMessagingComposerView12=function(){if(this.props.canUseHotLike&&this.props.threadID&&this.props.message.length<1&&this.props.attachments.length<1&&!this.props.leadFormsData.attachedLeadForm){var r=this.props.threadID;return c("React").createElement("span",{className:"_1z9h"},c("React").createElement(c("MessengerHotLikeButton.react"),{CustomRenderer:this.props.isInboxDetailView?c("MessengerHotLikeGlyphIcon.react"):undefined,customColor:this.props.isInboxDetailView?undefined:"#0084ff",disabled:!this.props.threadID,location:c("MercuryShareAttachmentRenderLocations").PAGES_INBOX,sendSticker:this.props.onStickerSelected,renderSize:24,threadID:r}))}return null};q.prototype.$PagesManagerMessagingComposerView13=function(){var r=this.state.placeholder||j._("Write a reply...");return c("React").createElement("div",{className:"_4dv-"},c("React").createElement(c("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?function(s){return this.$PagesManagerMessagingComposerView8(s)}.bind(this):null,placeholder:r,ref:"textInput",value:this.props.message}))};q.prototype.$PagesManagerMessagingComposerView14=function(){return c("React").createElement("div",{className:"_6fk",ref:"linkPreview"})};q.prototype.$PagesManagerMessagingComposerView15=function(){return c("React").createElement("div",{className:"_4dw0"},c("React").createElement(c("Image.react"),{className:"_1cjc",src:this.props.participant.image_src}))};q.prototype.$PagesManagerMessagingComposerView16=function(){if(!this.$PagesManagerMessagingComposerView4()||!this.props.recipientID)return null;return c("React").createElement("span",{className:"_4dw1"},c("React").createElement(c("PagesManagerMessagingSavedRepliesButton.react"),{recipientID:this.props.recipientID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$PagesManagerMessagingComposerView17.bind(this),onReplyMouseLeave:this.$PagesManagerMessagingComposerView18.bind(this),onReplySelected:this.$PagesManagerMessagingComposerView19.bind(this),pageID:this.props.userID,replies:this.props.savedReplies.replies,showTooltip:true,tokens:this.props.savedReplies.tokens}))};q.prototype.$PagesManagerMessagingComposerView20=function(){if(!this.$PagesManagerMessagingComposerView6())return null;return c("React").createElement("span",{className:"_2rzh"},c("React").createElement(c("PagesManagerMessagingLeadFormsButton.react"),{forms:this.props.leadFormsData.leadForms,isLeadFormsLoading:this.props.leadFormsData.isLeadFormsLoading,onFetchLeadForms:this.props.onFetchLeadForms,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.userID,showTooltip:true}))};q.prototype.$PagesManagerMessagingComposerView21=function(){var r=j._("Send"),s=this.props.message.length<1&&this.props.attachments.length<1&&!this.props.leadFormsData.attachedLeadForm;return c("React").createElement("div",{className:"_4dw3"+(s?" hidden_elem":"")},c("React").createElement(c("XUIButton.react"),{disabled:this.props.isSendBlocked,label:r,onClick:function(t){return this.$PagesManagerMessagingComposerView8(t)}.bind(this),use:"confirm"}))};q.prototype.$PagesManagerMessagingComposerView22=function(){if(!this.$PagesManagerMessagingComposerView5())return null;var r=j._("Post a sticker");return c("React").createElement("span",{className:"_4dw4"},c("React").createElement(c("UFIStickerButton.react"),{onStickerSelected:this.props.onStickerSelected,onEmoticonSelected:function(s){return this.$PagesManagerMessagingComposerView7(s)}.bind(this)},c("React").createElement(c("Image.react"),{alt:r,className:"_3fhi",src:k("94989")})))};q.prototype.$PagesManagerMessagingComposerView23=function(){if(!this.props.canCreateAppointment||!this.props.recipientID)return null;return c("React").createElement("span",{className:"_43nn"},c("React").createElement(c("PagesManagerInboxComposerCreateAppointmentButton.react"),{creatorInfo:this.props.creatorInfo,recipientID:this.props.recipientID,showTooltip:true,threadID:this.props.threadID,userID:this.props.userID}))};q.prototype.$PagesManagerMessagingComposerView24=function(){if(!this.props.shouldShowCommerceInvoiceButton||this.props.recipientID==null)return null;return c("React").createElement("div",{className:"_3w8o"},c("React").createElement(c("CommerceInvoiceAdminButton.react"),{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,recipientID:this.props.recipientID,shouldAllowPaymentOnboarding:this.props.shouldAllowPaymentOnboarding,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldShowPUX:this.props.shouldShowCommerceInvoiceButtonPUX,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowShippingNUX:this.props.shouldShowInvoiceShippingNUX}))};q.prototype.$PagesManagerMessagingComposerView25=function(){return c("React").createElement(c("PagesMessengerSuggestedResponseView.react"),{suggestedResponseHandler:this.props.suggestedResponseHandler,onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline})};q.prototype.render=function(){if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return c("React").createElement("div",{className:"__1d"});else if(this.props.isBlocked){new(c("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(c("PagesMessagingPerfLoggerEvent").COMPOSER_BLOCKED_WITH_WARNING).log();return c("React").createElement(p,{alignv:"middle",className:"_50wh"},c("React").createElement("div",{className:"_50wn"},j._("Your Page is no longer able to send messages to this person."),c("React").createElement(c("Tooltip.react"),{tooltip:j._("A Page may be unable to send messages to someone if they are no longer on Facebook, if they pose a security risk, or if they have chosen not to receive messages.")},c("React").createElement("a",{href:"https://www.facebook.com/help/307375982614147"},c("React").createElement(c("Image.react"),{src:k("126341"),style:{verticalAlign:"-2px"}})))))}return c("React").createElement("div",{className:"__1d"},c("React").createElement(c("MercuryDragDropPrompt.react"),null),c("React").createElement("div",{className:"_4dw9"},this.$PagesManagerMessagingComposerView15(),this.$PagesManagerMessagingComposerView13(),c("React").createElement("div",{className:"_3-8o _4dwa"},this.$PagesManagerMessagingComposerView20(),this.$PagesManagerMessagingComposerView24(),this.$PagesManagerMessagingComposerView10(),this.$PagesManagerMessagingComposerView22(),this.$PagesManagerMessagingComposerView16(),this.$PagesManagerMessagingComposerView23(),this.$PagesManagerMessagingComposerView12(),this.$PagesManagerMessagingComposerView21())),c("React").createElement("div",{className:"_6fl"},this.$PagesManagerMessagingComposerView25(),this.$PagesManagerMessagingComposerView14()),this.$PagesManagerMessagingComposerView9(),this.$PagesManagerMessagingComposerView11())};q.prototype.$PagesManagerMessagingComposerView17=function(r){this.setState({placeholder:r})};q.prototype.$PagesManagerMessagingComposerView18=function(){this.setState({placeholder:""})};q.prototype.$PagesManagerMessagingComposerView19=function(r,s,t){this.setState({placeholder:""});this.props.onReplySelected(s,t);c("PagesEventObserver").notify(c("PagesEventType").SAVED_REPLIES_APPLY_REPLY,this.props.userID);c("SavedResponsesUtils").notifySavedResponseApplied(r,this.props.userID)};q.propTypes={attachments:n.array,canAttachFiles:n.bool,canCreateAppointment:n.bool,canUseHotLike:n.bool,canUseSavedReplies:n.bool,canUseStickers:n.bool,canUseLeadForms:n.bool,isQuickReplyMode:n.bool,isSavedRepliesLoading:n.bool,isSendBlocked:n.bool,leadFormsData:n.object,message:n.string.isRequired,onAttachmentDetach:n.func,onDetachLeadForm:n.func.isRequired,onEmoticonSelected:n.func,onFetchLeadForms:n.func.isRequired,onFetchReplies:n.func.isRequired,onFileUploaderSubmit:n.func,onFileUploaderMounted:n.func,onFileUploadFinished:n.func,onFocus:n.func,onInitialRender:n.func,onInputChange:n.func,onSelectLeadForm:n.func.isRequired,onSend:n.func,onStickerSelected:n.func,onSuggestedResponseAccept:n.func,onSuggestedResponseDecline:n.func,participant:n.object,recipientID:n.string,savedReplies:n.object,shouldShowInvoiceShippingNUX:n.bool,shouldAllowPaymentOnboarding:n.bool,shouldShowConfirmPayment:n.bool,shouldShowRequestPayment:n.bool,suggestedResponseHandler:n.instanceOf(c("PagesMessageSuggestedResponseHandler")),uploaderActionURI:n.string,userID:n.string};q.defaultProps={attachments:[],canAttachFiles:true,canCreateAppointment:false,canUseHotLike:true,canUseSavedReplies:true,canUseStickers:true,canUseLeadForms:false,leadFormsData:{attachedLeadForm:null,isLeadFormsLoading:false,leadForms:[]},isSendBlocked:false,onAttachmentDetach:o,onEmoticonSelected:o,onFileUploaderMounted:o,onFileUploaderSubmit:o,onFileUploadFinished:o,onInputChange:o,onSend:o,onStickerSelected:o,onSuggestedResponseAccept:o,shouldShowCommerceInvoiceButton:false,shouldShowCommerceInvoiceButtonNUX:false,shouldShowCommerceInvoiceButtonPUX:false,shouldShowInvoiceShippingNUX:false,shouldAllowPaymentOnboarding:false,shouldShowConfirmPayment:false,shouldShowRequestPayment:false};f.exports=q}),null);
__d("XPagesMessagingBlockController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/message/isblocked/",{recipient_id:{type:"String",required:true}})}),null);
__d("PagesManagerMessagingComposerContainer.react",["invariant","AsyncRequest","DragDropTarget","EmoticonsList","EmoticonUtils","FluxContainer","LeadFormsDataBridge","MercuryIDs","MercuryMessageObject","MercuryPageMessageActions","MercuryParticipants","MercurySourceType","MercuryThreadIDMap","MercuryTriodeSourceUtil","MessengerConstants","PagesEventObserver","PagesEventType","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerStore","PagesManagerMessagingComposerView.react","PagesManagerMessagingNUXActions","PagesMessagingConfig","PagesMessagingPerfLoggerEvent","PagesMessagingPerfTypedLogger","PagesMessengerShareLinkUploader","React","ReactDOM","SavedResponsesUtils","SelectionPosition","ShareDataType","SubscriptionsHandler","TypingDetectorController","XPagesMessagingBlockController","emptyFunction","ActorURI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesManagerMessagingComposerContainer11=function(r){this.$PagesManagerMessagingComposerContainer6&&this.$PagesManagerMessagingComposerContainer6.destroy();this.$PagesManagerMessagingComposerContainer6=null;if(this.props.threadID!==c("MessengerConstants").NEW_THREAD_KEY&&r)this.$PagesManagerMessagingComposerContainer6=new(c("TypingDetectorController"))(c("MercuryIDs").getUserIDFromThreadID(this.props.threadID),r,c("MercuryTriodeSourceUtil").getMercuryTriodeSource(),null,c("MercuryThreadIDMap").getForFBID(this.props.userID).getServerIDFromClientIDNow(this.props.threadID),function(){return this.state.message}.bind(this),this.props.userID)}.bind(this),n}l.getStores=function(){return[c("PagesManagerMessagingComposerStore")]};l.calculateState=function(m,n){var o=m?m.isShareLinkUploading:false,p=m?m.isBlocked:false;return{attachments:c("PagesManagerMessagingComposerStore").getAllAttachmentsMeta(),isAttachmentUploading:c("PagesManagerMessagingComposerStore").getIsAttachmentUploading(),isSavedRepliesLoading:c("PagesManagerMessagingComposerStore").getIsSavedRepliesLoading(),isQuickReplyMode:c("PagesManagerMessagingComposerStore").getQuickReplyMode(),isShareLinkUploading:o,leadFormsData:c("PagesManagerMessagingComposerStore").getLeadFormsData(),message:c("PagesManagerMessagingComposerStore").getMessage(),participant:c("PagesManagerMessagingComposerStore").getParticipant(),savedReplies:c("PagesManagerMessagingComposerStore").getSavedReplies(),uploaderActionURI:c("PagesManagerMessagingComposerStore").getUploadActionFromUserID(n.userID),isBlocked:p}};l.prototype.$PagesManagerMessagingComposerContainer7=function(m){this.__subscriptions.addSubscriptions(m.subscribe("one-upload-completed",this.__onFileUploaderOneUploadComplete.bind(this)))};l.prototype.componentDidUpdate=function(m){if(this.props.recipientID&&this.props.threadID&&(!m.recipientID||!m.threadID)){c("PagesManagerMessagingNUXActions").setComposerReady();if(this.props.onInitialRender)this.props.onInitialRender()}if(this.props.recipientID!==null&&this.props.recipientID!==m.recipientID)this.isRecipientBlocked(this.props.recipientID)};l.prototype.componentDidMount=function(){c("PagesManagerMessagingComposerActions").clearMessage();c("PagesManagerMessagingComposerActions").detachAllAttachments();c("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$PagesManagerMessagingComposerContainer8(this.props.userID)};l.prototype.componentWillMount=function(){this.$PagesManagerMessagingComposerContainer9(this.props);this.__subscriptions=new(c("SubscriptionsHandler"))()};l.prototype.componentWillReceiveProps=function(m){this.$PagesManagerMessagingComposerContainer9(m);if(m.threadID!==this.props.threadID){c("PagesManagerMessagingComposerActions").clearMessage();c("PagesManagerMessagingComposerActions").detachAllAttachments();c("PagesManagerMessagingComposerActions").clearShareLinkUploader()}if(m.userID!==this.props.userID)this.$PagesManagerMessagingComposerContainer8(m.userID)};l.prototype.componentWillUpdate=function(m,n){if(this.props.onMessageOrAttachmentUpdate&&(n.attachments.length!==this.state.attachments.length||n.message!==this.state.message||n.leadFormsData.attachedLeadForm!==this.state.leadFormsData.attachedLeadForm))this.props.onMessageOrAttachmentUpdate()};l.prototype.componentWillUnmount=function(){this.__subscriptions&&this.__subscriptions.release();this.$PagesManagerMessagingComposerContainer6&&this.$PagesManagerMessagingComposerContainer6.destroy()};l.prototype.$PagesManagerMessagingComposerContainer10=function(){__p&&__p();var m=new(c("PagesMessengerShareLinkUploader"))(c("ReactDOM").findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,c("emptyFunction"),c("emptyFunction"),this.props.userID);this.__subscriptions.addSubscriptions(m.subscribe("link-detected",function(){this.setState({isShareLinkUploading:true});if(this.props.onMessageOrAttachmentUpdate)this.props.onMessageOrAttachmentUpdate()}.bind(this)),m.subscribe("share-loaded",function(){this.setState({isShareLinkUploading:false})}.bind(this)),m.subscribe("closed",function(){if(this.props.onMessageOrAttachmentUpdate)this.props.onMessageOrAttachmentUpdate()}.bind(this)));if(c("PagesMessagingConfig").dragdropEnabled){this.$PagesManagerMessagingComposerContainer1=this.$PagesManagerMessagingComposerContainer1||new(c("DragDropTarget"))(c("ReactDOM").findDOMNode(this)).enable();this.$PagesManagerMessagingComposerContainer1.setOnURLDropCallback(function(n){return m.loadShare(n)})}c("PagesManagerMessagingComposerActions").setShareLinkUploader(m)};l.prototype.__fetchLeadForms=function(){if(this.state.leadFormsData.isLeadFormsLoading||!this.props.userID)return;var m=this.props.userID;c("PagesManagerMessagingComposerActions").setIsLeadFormsLoading(true);c("LeadFormsDataBridge").fetch(this.props.accessToken,m,function(n){c("PagesManagerMessagingComposerActions").setIsLeadFormsLoading(false);c("PagesManagerMessagingComposerActions").setLeadForms(n)},function(n){})};l.prototype.__fetchSavedReplies=function(){if(this.state.isSavedRepliesLoading||!this.props.userID||!this.props.recipientID)return;c("PagesManagerMessagingComposerActions").setIsSavedRepliesLoading(true);c("SavedResponsesUtils").fetchSavedResponses(this.props.userID,this.props.recipientID,function(m,n){c("PagesManagerMessagingComposerActions").setIsSavedRepliesLoading(false);c("PagesManagerMessagingComposerActions").setSavedReplies(m,n)})};l.prototype.$PagesManagerMessagingComposerContainer9=function(m){var n=m.userID;n||h(0);this.$PagesManagerMessagingComposerContainer2=c("MercuryMessageObject").getForFBID(n);this.$PagesManagerMessagingComposerContainer3=c("MercuryPageMessageActions").getForFBID(n)};l.prototype.$PagesManagerMessagingComposerContainer8=function(m){var n=c("MercuryIDs").getParticipantIDFromUserID(m);c("MercuryParticipants").get(n,function(o){c("PagesManagerMessagingComposerActions").setParticipant(o)})};l.prototype.isSendBlocked=function(){if(this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===""&&this.state.attachments.length<1&&!this.state.leadFormsData.attachedLeadForm)return true;return false};l.prototype.isRecipientBlocked=function(m){var n=c("ActorURI").create(c("XPagesMessagingBlockController").getURIBuilder().setString("recipient_id",m).getURI(),this.props.userID);new(c("AsyncRequest"))().setURI(n).setHandler(function(o){var p=o.payload;this.setState({isBlocked:p});return}.bind(this)).send()};l.prototype.__onAttachmentDetach=function(m){c("PagesManagerMessagingComposerActions").detachAttachment(m)};l.prototype.__onDetachLeadForm=function(){c("PagesManagerMessagingComposerActions").detachLeadForm()};l.prototype.__onEmoticonSelected=function(m,n){var o=c("EmoticonsList").symbols[m];if(!o)return;this.$PagesManagerMessagingComposerContainer4=this.$PagesManagerMessagingComposerContainer4||new(c("SelectionPosition"))(n);var p=c("EmoticonUtils").insertEmoticon(o,this.state.message,this.$PagesManagerMessagingComposerContainer4.getPos());this.$PagesManagerMessagingComposerContainer4.setPos(p.start,p.end);c("PagesManagerMessagingComposerActions").setMessage(p.result)};l.prototype.__onFileUploaderMounted=function(m){this.$PagesManagerMessagingComposerContainer7(m);if(c("PagesMessagingConfig").dragdropEnabled){this.$PagesManagerMessagingComposerContainer1=this.$PagesManagerMessagingComposerContainer1||new(c("DragDropTarget"))(c("ReactDOM").findDOMNode(this)).enable();this.$PagesManagerMessagingComposerContainer1.setOnFilesDropCallback(this.$PagesManagerMessagingComposerContainer12.bind(this))}c("PagesManagerMessagingComposerActions").fileUploaderReady(m)};l.prototype.__onFileUploaderOneUploadComplete=function(m,n){c("PagesManagerMessagingComposerActions").completeAttachment(n)};l.prototype.__onFileUploaderSubmit=function(m,n){c("PagesManagerMessagingComposerActions").startAttachment(n.files);if(this.refs.composer&&this.refs.composer.refs.textInput&&this.refs.composer.refs.textInput.refs.input)c("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};l.prototype.__onFileUploadFinished=function(m){if(m==="all-uploads-completed")c("PagesManagerMessagingComposerActions").completeAllAttachments();else m==="upload-canceled"};l.prototype.__onInputValueChange=function(m){c("PagesManagerMessagingComposerActions").setMessage(m.target.value)};l.prototype.__onReplySelected=function(m,n){var o=c("PagesManagerMessagingComposerStore").getFileUploader();c("PagesManagerMessagingComposerActions").detachAllAttachments();c("PagesManagerMessagingComposerActions").setMessage(m);if(n&&o)o.addCachedAttachments([n]);if(this.refs.composer&&this.refs.composer.refs.textInput)c("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};l.prototype.__onSelectLeadForm=function(m){c("PagesManagerMessagingComposerActions").attachLeadForm(m)};l.prototype.__onSendMessageHandleException=function(m){try{this.__onSendMessage(m)}catch(n){new(c("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(c("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_EXCEPTION).setExceptionMessage(n.message).setStack(n.stack).log()}};l.prototype.__onSendMessage=function(m){__p&&__p();var n=this.state.message,o=c("PagesManagerMessagingComposerStore").getAttachedAttachmentIds(),p=c("PagesManagerMessagingComposerStore").getAttachedImageIds(),q=c("PagesManagerMessagingComposerStore").getAttachedAnimatedImageIds(),r=c("PagesManagerMessagingComposerStore").getAttachedVideoIds(),s=c("PagesManagerMessagingComposerStore").getAttachedAudioFilesIds(),t=c("PagesManagerMessagingComposerStore").getAttachedFilesIds(),u=c("PagesManagerMessagingComposerStore").getShareLink(),v=c("PagesManagerMessagingComposerStore").getLeadFormsData().attachedLeadForm,w=this.$PagesManagerMessagingComposerContainer2.constructUserGeneratedMessageObject(n,c("MercurySourceType").PAGE_UNIFIED_INBOX,this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!n&&!o.length&&!s.length&&!p.length&&!t.length&&!q.length&&!r.length&&!u&&!v)return;if(u){w.has_attachment=true;w.content_attachment=u}if(o.length>0){w.has_attachment=true;w.raw_attachments=o}if(p.length>0){w.image_ids=p;w.has_attachment=true}if(q.length>0){w.gif_ids=q;w.has_attachment=true}if(r.length>0){w.video_ids=r;w.has_attachment=true}if(s.length>0){w.audio_ids=s;w.has_attachment=true}if(t.length>0){w.file_ids=t;w.has_attachment=true}if(v){w.shareable_attachment={share_params:[v.id],share_type:c("ShareDataType").FB_GENERIC_SHAREABLE};w.has_attachment=true}c("PagesEventObserver").logData_DEPRECATED({page_id:this.props.user,event_name:c("PagesEventType").MESSAGES_DIALOG_SEND,thread_id:this.props.threadElementID},null);this.$PagesManagerMessagingComposerContainer3.send(w);c("PagesManagerMessagingComposerActions").detachAllAttachments();c("PagesManagerMessagingComposerActions").detachLeadForm();c("PagesManagerMessagingComposerActions").clearMessage();c("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$PagesManagerMessagingComposerContainer6&&this.$PagesManagerMessagingComposerContainer6.resetState();if(this.props.onSendMessage)this.props.onSendMessage();new(c("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(c("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_END).setPerfTime(Date.now()-m).log()};l.prototype.__onStickerSelected=function(m){var n=this.$PagesManagerMessagingComposerContainer2.constructUserGeneratedMessageObject("",c("MercurySourceType").TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);n.has_attachment=true;n.sticker_id=m;this.$PagesManagerMessagingComposerContainer3.send(n);c("PagesManagerMessagingComposerActions").clearMessage()};l.prototype.$PagesManagerMessagingComposerContainer12=function(m){if(this.refs.composer&&this.refs.composer.refs.fileUploader)this.refs.composer.refs.fileUploader.addFiles(m)};l.prototype.render=function(){return c("React").createElement(c("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.__onAttachmentDetach.bind(this),onDetachLeadForm:this.__onDetachLeadForm.bind(this),onEmoticonSelected:this.__onEmoticonSelected.bind(this),onFetchLeadForms:this.__fetchLeadForms.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return this.$PagesManagerMessagingComposerContainer10()}.bind(this),onInputChange:function(m){return this.__onInputValueChange(m)}.bind(this),onInputReady:this.$PagesManagerMessagingComposerContainer11,onReplySelected:this.__onReplySelected.bind(this),onSelectLeadForm:this.__onSelectLeadForm.bind(this),onSend:function(m){return this.__onSendMessageHandleException(m)}.bind(this),onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer"}))};l.propTypes={accessToken:k.string,canCreateAppointment:k.bool,canUseHotLike:k.bool,canUseLeadForms:k.bool,canUseSavedReplies:k.bool,canUseStickers:k.bool,creatorInfo:k.object,onInitialRender:k.func,onMessageOrAttachmentUpdate:k.func,shouldShowCommerceInvoiceButton:k.bool,shouldShowCommerceInvoiceButtonPUX:k.bool,shouldShowInvoiceShippingNUX:k.bool,shouldAllowPaymentOnboarding:k.bool,shouldShowConfirmPayment:k.bool,shouldShowRequestPayment:k.bool,threadElementID:k.string,threadID:k.string,userID:k.string};f.exports=c("FluxContainer").create(l,{withProps:true})}),null);
__d("XPagesContextCardSetIsHiddenController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/customer/context_card/set_is_hidden/",{})}),null);
__d("PagesManagerMessagingMessagelistStore",["PagesManagerMessagingActionType","ActorURI","AsyncRequest","FluxStore","immutable","Map","MercuryMessages","PagesManagerMessagingMessagelistDispatcher","MercuryThreadlistConstants","XPagesContextCardSetIsHiddenController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){__p&&__p();i.constructor.call(this,c("PagesManagerMessagingMessagelistDispatcher"));this.$PagesManagerMessagingMessagelistStore1="";this.$PagesManagerMessagingMessagelistStore2=false;this.$PagesManagerMessagingMessagelistStore3=false;this.$PagesManagerMessagingMessagelistStore4=false;this.$PagesManagerMessagingMessagelistStore6=[];this.$PagesManagerMessagingMessagelistStore7=c("immutable").OrderedMap();this.$PagesManagerMessagingMessagelistStore8=0;this.$PagesManagerMessagingMessagelistStore10=new(c("Map"))();this.$PagesManagerMessagingMessagelistStore11=0}j.prototype.__onDispatch=function(k){__p&&__p();switch(k.type){case c("PagesManagerMessagingActionType").LIST.LOADED:this.$PagesManagerMessagingMessagelistStore12(k);this.__emitChange();break;case c("PagesManagerMessagingActionType").LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=k.isLoading;this.__emitChange();break;case c("PagesManagerMessagingActionType").LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=k.isLoadingMore;this.__emitChange();break;case c("PagesManagerMessagingActionType").MESSAGE_LEVEL.READ_RECEIPTS:this.$PagesManagerMessagingMessagelistStore13(k);this.__emitChange();break;case c("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT:var l=k.height;if(l!==this.$PagesManagerMessagingMessagelistStore8){this.$PagesManagerMessagingMessagelistStore8=l;this.__emitChange()}break;case c("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT:this.$PagesManagerMessagingMessagelistStore11=k.appointmentBannerHeight;this.__emitChange();break;case c("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case c("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore14(k.pageID,k.isHidden);this.__emitChange();break;case c("PagesManagerMessagingActionType").HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=false;this.$PagesManagerMessagingMessagelistStore5=null;break;case c("PagesManagerMessagingActionType").HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=true;this.$PagesManagerMessagingMessagelistStore5=k.preview;this.__emitChange();break;case c("PagesManagerMessagingActionType").BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore15(k.pageID,k.userID,k.isBanned);this.__emitChange();break;default:return}};j.prototype.$PagesManagerMessagingMessagelistStore12=function(k){this.$PagesManagerMessagingMessagelistStore2=false;this.$PagesManagerMessagingMessagelistStore1=k.threadID;this.$PagesManagerMessagingMessagelistStore6=k.data.messages};j.prototype.$PagesManagerMessagingMessagelistStore13=function(k){if(this.$PagesManagerMessagingMessagelistStore1!==k.threadID)this.$PagesManagerMessagingMessagelistStore6=[];this.$PagesManagerMessagingMessagelistStore1=k.threadID;this.$PagesManagerMessagingMessagelistStore7=k.readReceipts};j.prototype.isLoading=function(){return this.$PagesManagerMessagingMessagelistStore2};j.prototype.isLoadingMore=function(){return this.$PagesManagerMessagingMessagelistStore3};j.prototype.getMessagelist=function(k,l){__p&&__p();var m;if(l!=this.$PagesManagerMessagingMessagelistStore1)return c("MercuryMessages").getForFBID(k).getThreadMessagesRangeNow(l,0,c("MercuryThreadlistConstants").WEBMESSENGER_MORE_MESSAGES_COUNT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore5){m=this.$PagesManagerMessagingMessagelistStore6.slice();if(this.$PagesManagerMessagingMessagelistStore5)m.push(this.$PagesManagerMessagingMessagelistStore5);return m}return this.$PagesManagerMessagingMessagelistStore6};j.prototype.getScrollHeight=function(){return this.$PagesManagerMessagingMessagelistStore8};j.prototype.getReadReceipts=function(k){if(k!=this.$PagesManagerMessagingMessagelistStore1)return c("immutable").OrderedMap();return this.$PagesManagerMessagingMessagelistStore7};j.prototype.isCardHidden=function(){if(this.$PagesManagerMessagingMessagelistStore9===undefined||this.$PagesManagerMessagingMessagelistStore9===null)return null;return this.$PagesManagerMessagingMessagelistStore9};j.prototype.getAppointmentBannerHeight=function(){return this.$PagesManagerMessagingMessagelistStore11};j.prototype.$PagesManagerMessagingMessagelistStore14=function(k,l){this.$PagesManagerMessagingMessagelistStore9=l;var m=c("ActorURI").create(c("XPagesContextCardSetIsHiddenController").getURIBuilder().getURI(),k);new(c("AsyncRequest"))().setURI(m).setData({is_hidden:l}).setMethod("POST").send()};j.prototype.$PagesManagerMessagingMessagelistStore16=function(k,l){return k+"_"+l};j.prototype.getIsUserBanned=function(k,l){return this.$PagesManagerMessagingMessagelistStore10.get(this.$PagesManagerMessagingMessagelistStore16(k,l))};j.prototype.$PagesManagerMessagingMessagelistStore15=function(k,l,m){this.$PagesManagerMessagingMessagelistStore10.set(this.$PagesManagerMessagingMessagelistStore16(k,l),m)};f.exports=new j(c("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerMessagingLogger",["invariant","MessagingTag","PageCommItemFolder","PagesEventObserver","PagesEventType"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="messages",j="inbox",k=":",l={logMessagesSectionViewEvent:function m(n,o){var p=o||j,q=[];if(p.indexOf(":")){q=p.split(k);p=q[q.length-1]}c("PagesEventObserver").notify(c("PagesEventType").VIEW_MESSAGES,n,{section:i,subsection:p})},logPageViewFolderEvent:function m(n,o,p){__p&&__p();var event="";switch(o.getKey()){case c("MessagingTag").INBOX:event=c("PagesEventType").MESSAGES_VIEW_INBOX;break;case c("MessagingTag").ACTION_ARCHIVED:event=c("PagesEventType").MESSAGES_VIEW_ARCHIVED;break;case c("MessagingTag").PAGE_BACKGROUND:event=c("PagesEventType").MESSAGES_VIEW_PAGE_BACKGROUND;break;case c("MessagingTag").SPAM:event=c("PagesEventType").MESSAGES_VIEW_SPAM;break;default:h(0)}c("PagesEventObserver").notify(event,n,{source:p})},logPageViewFolderEventForInbox:function m(n,o,p){__p&&__p();var event="";switch(o){case c("PageCommItemFolder").TODO:case c("PageCommItemFolder").FOLLOW_UP:case c("PageCommItemFolder").UNREAD:event=c("PagesEventType").MESSAGES_VIEW_INBOX;break;case c("PageCommItemFolder").DONE:event=c("PagesEventType").MESSAGES_VIEW_ARCHIVED;break;case c("PageCommItemFolder").SPAM:event=c("PagesEventType").MESSAGES_VIEW_SPAM;break;default:h(0)}c("PagesEventObserver").notify(event,n,{source:p})}};f.exports=l}),null);
__d("PagesManagerMessagingMessageDateBreak.react",["cx","MessengerDateBreak.react","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this,l)}k.prototype.render=function(){"use strict";return c("React").createElement(c("MessengerDateBreak.react"),{className:"_2hvw",date:this.props.date})};f.exports=k}),null);
__d("PagesManagerMessagingMessageGroup.react",["MessengerMessageGroup.react","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("MessengerMessageGroup.react"),this.props)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("PagesManagerMessagingMessageList.react",["cx","ChatTypingIndicators.react","DOM","Event","MessageList.react","MessengerCollapsedLogMessageGroup.react","MessengerLogMessage.react","MessengerSpinner.react","MessengerTypingIndicator.react","PagesEventObserver","PagesEventType","PagesManagerMessagingMessageDateBreak.react","PagesManagerMessagingMessageGroup.react","React","ReactDOM","MercuryShareAttachmentRenderLocations","ScrollableArea.react","debounce"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k="message_tab";i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m,n){"use strict";j.constructor.call(this,m,n);this.$PagesManagerMessagingMessageList1=true;this.prevScrollTop=0;this.prevScrollHeight=0}l.prototype.componentDidUpdate=function(m){"use strict";__p&&__p();var n=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,o=m.messagelist.last()&&m.messagelist.last().thread_fbid;if(m.messagelist.size===0&&this.props.messagelist.size!==0||n!==o||m.threadID!==this.props.threadID){this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom();this.$PagesManagerMessagingMessageList2()}else if(this.props.messagelist.size!==m.messagelist.size){this.$PagesManagerMessagingMessageList3(this.prevScrollHeight,this.prevScrollTop);this.$PagesManagerMessagingMessageList2()}};l.prototype.$PagesManagerMessagingMessageList3=function(m,n){"use strict";if(!this.refs.scrollableArea)return;var o=this.refs.scrollableArea.getArea(),p=o.getScrollHeight()-m+n;o.setScrollTop(p,false)};l.prototype.$PagesManagerMessagingMessageList4=function(){"use strict";__p&&__p();if(!this.refs.scrollableArea)return;var m=this.refs.scrollableArea.getArea(),n=this.prevScrollTop,o=this.prevScrollHeight;this.$PagesManagerMessagingMessageList5();if(m.isScrolledToTop()){this.$PagesManagerMessagingMessageList6();this.props.fetchEarlierMessages()}else if(m.isScrolledToBottom())this.$PagesManagerMessagingMessageList7();else{if(m.getScrollTop()===n&&m.getScrollHeight()!==o)this.$PagesManagerMessagingMessageList3(o,n);this.$PagesManagerMessagingMessageList6()}};l.prototype.$PagesManagerMessagingMessageList7=function(){"use strict";if(!this.$PagesManagerMessagingMessageList1)this.$PagesManagerMessagingMessageList1=true};l.prototype.$PagesManagerMessagingMessageList6=function(){"use strict";if(this.$PagesManagerMessagingMessageList1)this.$PagesManagerMessagingMessageList1=false};l.prototype.$PagesManagerMessagingMessageList5=function(){"use strict";var m=this.refs.scrollableArea;this.prevScrollHeight=m?m.getArea().getScrollHeight():0;this.prevScrollTop=m?m.getArea().getScrollTop():0};l.prototype.$PagesManagerMessagingMessageList8=function(m){"use strict";return function(){if(this.props.threadID!==m)return;if(this.$PagesManagerMessagingMessageList1)this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom()}.bind(this)};l.prototype.$PagesManagerMessagingMessageList2=function(){"use strict";c("DOM").scry(c("ReactDOM").findDOMNode(this),"img").forEach(function(m){if(m.complete)return;var n=this.props.threadID,o=c("Event").listen(m,"load",function(){if(this.props.threadID===n&&this.$PagesManagerMessagingMessageList1)this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom();o.remove()}.bind(this))}.bind(this))};l.prototype.$PagesManagerMessagingMessageList9=function(){"use strict";var m=Math.floor(this.props.scrollHeight/130);return c("React").createElement("div",{className:"_31m6",style:{height:this.props.scrollHeight}},c("React").createElement("div",{className:"_31m7",style:{height:130*m}},this.$PagesManagerMessagingMessageList10(m)))};l.prototype.$PagesManagerMessagingMessageList10=function(m){"use strict";var n=c("React").createElement("div",{className:"_1vrr"},c("React").createElement("div",{className:"_31m8"}),c("React").createElement("div",{className:"_31ma"}),c("React").createElement("div",{className:"_31mb"}),c("React").createElement("div",{className:"_31mc"}),c("React").createElement("div",{className:"_31me"}),c("React").createElement("div",{className:"_31mf"}),c("React").createElement("div",{className:"_31mg"}),c("React").createElement("div",{className:"_31mh"}),c("React").createElement("div",{className:"_31mi"}),c("React").createElement("div",{className:"_31mj"}),c("React").createElement("div",{className:"_31mk"}),c("React").createElement("div",{className:"_31ml"}),c("React").createElement("div",{className:"_31mm"}),c("React").createElement("div",{className:"_31mn"}),c("React").createElement("div",{className:"_31mo"}),c("React").createElement("div",{className:"_31mp"}),c("React").createElement("div",{className:"_31mq"})),o=[];for(var p=0;p<m;p++)o.push(c("React").cloneElement(n,{key:"loading"+p}));return c("React").createElement("div",{className:"_1vrs"},o)};l.prototype.$PagesManagerMessagingMessageList11=function(){"use strict";if(!this.props.isLoadingMore)return null;return c("React").createElement("div",{className:"_2k8v"},c("React").createElement(c("MessengerSpinner.react"),null))};l.prototype.$PagesManagerMessagingMessageList12=function(){"use strict";c("PagesEventObserver").notify(c("PagesEventType").MESSAGES_VIEW_THREAD,this.props.pageID,{source:k,thread_id:this.props.threadID});return c("React").createElement("div",{className:"clearfix _1ej0 _2mpc"},c("React").createElement(c("MessageList.react"),{DateBreak:c("PagesManagerMessagingMessageDateBreak.react"),deliveryTimestamp:0,isCanonical:true,isPageMessage:true,location:c("MercuryShareAttachmentRenderLocations").MESSENGER,CollapsedLogMessageGroup:c("MessengerCollapsedLogMessageGroup.react"),LogMessage:c("MessengerLogMessage.react"),MessageGroup:c("PagesManagerMessagingMessageGroup.react"),onAttachmentLoad:this.$PagesManagerMessagingMessageList8(this.props.threadID),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),c("React").createElement(c("ChatTypingIndicators.react"),{indicatorClass:c("MessengerTypingIndicator.react"),indicatorsWillShow:function m(){},indicatorsDidShow:function(){this.$PagesManagerMessagingMessageList1&&this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom()}.bind(this),rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID}))};l.prototype.render=function(){"use strict";if(this.props.initLoading)return this.$PagesManagerMessagingMessageList9();return c("React").createElement(c("ScrollableArea.react"),{className:"_11y7",fade:false,height:this.props.scrollHeight,onScroll:c("debounce")(function(){return this.$PagesManagerMessagingMessageList4()}.bind(this),500),ref:"scrollableArea",shadow:false},this.$PagesManagerMessagingMessageList11(),c("React").createElement("div",{className:"_14y3"},this.props.threadID?this.$PagesManagerMessagingMessageList12():c("React").createElement("div",null)))};f.exports=l}),null);
__d("MessageThreadViewSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNSPECIFIED:"unspecified",LEGACY:"legacy",LEGACY_MESSAGES_PREVIEW:"legacy_messages_preview",REFRESH_SPRINGBOARD:"springboard",REFRESH_MESSAGETAB:"message_tab",NEW_MESSAGETAB:"new_message_tab",REFRESH_PERMALINK:"permalink",REFRESH_HIGHLANDER_JEWEL:"highlander_jewel",REFRESH_SEARCH_TYPEAHEAD:"search_typeahead",MTOUCH_MESSAGE_TAB:"mtouch_message_tab",MBASIC_MESSAGE_TAB:"mbasic_message_tab"})}),null);
__d("PagesMessagingActionPlacement",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPRINGBOARD_INLINE_ACTION:"springboard_inline_action",THREAD_LIST_BATCH_ACTION:"thread_list_batch_action",THREAD_ROW_ACTION_ICON:"thread_row_action_icon",MESSAGE_DIALOG_ACTION_LIST:"message_dialog_action_list",MESSAGE_DIALOG_OPENING:"message_dialog_opening",MESSAGE_DIALOG_SHOWN:"message_dialog_shown",THREAD_TITLE_BAR:"thread_title_bar",HOME_PAGE_PAGELET_INLINE_ACTION:"home_page_pagelet_inline_action",UNKNOWN:"unknown"})}),null);