if (self.CavalryLogger) { CavalryLogger.start_js(["rkR\/8"]); }

__d("BlueBarFocusListener",["CSS","Deferred","Event","TimeSlice"],(function a(b,c,d,e,f,g){__p&&__p();var h="f_key",i="f_click",j=null,k=function k(){j=null};function l(r){c("CSS").removeClass(r,h);c("CSS").removeClass(r,i)}var m=c("TimeSlice").guard(function(r){if(j)j.reject();j=new(c("Deferred"))();j.then(function(s){l(r);c("CSS").addClass(r,s)}).done(k,k)},"BlueBarFocusListener focusIn",{propagationType:c("TimeSlice").PropagationType.ORPHAN});function n(){if(j)j.resolve(h)}function o(r){if(j)j.reject();c("CSS").removeClass(r,h);c("CSS").addClass(r,i)}function p(r){return function(event){r(event.getTarget())}}var q={listen:function r(s){if(!s)return;c("Event").listen(s,"focusout",p(l));c("Event").listen(s,"focusin",p(m));c("Event").listen(s,"click",p(o));c("Event").listen(s,"keyup",n)}};f.exports=q}),null);
__d("RoyalBluebarTransitions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INDETERMINATE:"Indeterminate",PULSE:"Pulse",SHIMMER:"Shimmer",NONE:"none",OFF:"off"})}),null);
__d("RoyalBluebar",["cx","Arbiter","BigPipe","CSS","Event","QuicklingFetchStreamConfig","RoyalBluebarTransitions","Run","SubscriptionsHandler","ge","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=null,j=false,k=c("QuicklingFetchStreamConfig"),l=k.experimentName,m=l!==c("RoyalBluebarTransitions").OFF&&l!==c("RoyalBluebarTransitions").NONE;function n(){i&&i()}var o={_subscriptionHandler:null,_getSubscriptionHandler:function p(){if(!this._subscriptionHandler){this._subscriptionHandler=new(c("SubscriptionsHandler"))();c("Run").onUnload(function(){this._subscriptionHandler.release();this._subscriptionHandler=null}.bind(this))}return this._subscriptionHandler},fixOnScroll:function p(q){this._getSubscriptionHandler().addSubscriptions(c("Arbiter").subscribe("bluebarFixedBehaviorController/isfixed",function(r,s){var t="_50ti",u="_33rf";if(q.firstChild instanceof Element)c("CSS").conditionClass(q.firstChild,t,s);if(q.firstChild instanceof Element)c("CSS").conditionClass(q.firstChild,u,!s);c("Arbiter").inform("reflow")}))},informOnClick:function p(q){this._getSubscriptionHandler().addSubscriptions(c("Event").listen(q,"click",function(event){if(c("Arbiter").inform("BlueBar/homeClick",event)===false)event.preventDefault()}))},stopAnimatingAfterDD:function p(){var q=c("Arbiter").subscribeOnce(c("BigPipe").Events.init,function(s,t){t.arbiter.subscribeOnce(c("BigPipe").Events.displayed,n)}),r=c("Run").onAfterLoad(n);i=function s(){i=null;c("Arbiter").unsubscribe(q);r.remove();o.stopTransitionAnimation()}},startTransitionAnimation:function p(){if(m){i&&i();var q=c("ge")(k.bluebarTransitionElement);if(q)c("CSS").addClass(q,k.bluebarTransitionClass)}},stopTransitionAnimation:function p(){__p&&__p();var q;if(m){var q=function(){__p&&__p();var r,s=k,t=c("ge")(s.bluebarTransitionElement);if(!t)return{v:void 0};if(l===c("RoyalBluebarTransitions").INDETERMINATE){if(!j)(function(){__p&&__p();j=true;c("CSS").addClass(t,"finishing");var u=void 0;i=function v(){i=null;j=false;clearTimeout(u);c("CSS").removeClass(t,"finishing");c("CSS").removeClass(t,s.bluebarTransitionClass)};u=c("setTimeoutAcrossTransitions")(i,200)})()}else c("CSS").removeClass(t,s.bluebarTransitionClass)}();if(typeof q==="object")return q.v}}};f.exports=o}),null);
__d("ChatOpenTab",["csx","Bootloader","ContextualThing","Event","MercuryIDs","MercuryParticipantTypes","Parent","requireWeak"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=null;c("requireWeak")("FantaTabsReactApp",function(n){return i=n});c("requireWeak")("FantaTabsSlimApp",function(n){return i=n});function j(n,o,p,q){c("Event").listen(n,"click",function(r){if(m.canOpenTab()){q(o,p);n.removeAttribute("ajaxify");n.removeAttribute("rel");r.preventDefault()}})}function k(n,o,p,q){c("Event").listen(n,"click",function(r){if(m.canOpenTab())q(o,p)})}function l(n){var o=c("ContextualThing").getContext(n);return o&&c("Parent").bySelector(o,"._3qw")!==null}var m={canOpenTab:function n(){return i&&!i.isHidden()},listenOpenEmptyTabDEPRECATED:function n(o,p){j(o,null,p,this._loadAndOpenEmptyFantaTab)},listenOpenThreadDEPRECATED:function n(o,p,q){j(o,p,q,function(p,r){return this.loadAndOpenFantaTab(p,r,q)}.bind(this))},listenOpenUserTabDEPRECATED:function n(o,p,q){if(!l(o))j(o,p,q,function(r){return this.loadAndOpenFantaTab(r,c("MercuryParticipantTypes").USER,q)}.bind(this))},listenOpenUserTabPersistentEventDEPRECATED:function n(o,p,q){if(!l(o))k(o,p,q,function(r){return this.loadAndOpenFantaTab(r,c("MercuryParticipantTypes").USER,q)}.bind(this))},listenOpenPageTabDEPRECATED:function n(o,p,q,r){if(!l(o))j(o,p,r,function(s){return this.loadAndOpenFantaTab(s,c("MercuryParticipantTypes").PAGE,r)}.bind(this))},listenOpenPageTabPersistentEventDEPRECATED:function n(o,p,q,r){if(!l(o))k(o,p,r,function(s){return this.loadAndOpenFantaTab(s,c("MercuryParticipantTypes").PAGE,r)}.bind(this))},loadAndOpenFantaTab:function n(o,p,q){c("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions"],function(r,s){if(p===c("MercuryParticipantTypes").USER||p===c("MercuryParticipantTypes").PAGE){var t=c("MercuryIDs").getThreadIDFromUserID(o);s.openTab(t,[q]);r.logUserClickOpen(q,o)}else{s.openTab(o,[q]);r.logClickOpen(q,o)}},"ChatOpenTab")},_loadAndOpenEmptyFantaTab:function n(){c("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions","MercuryThreads"],function(o,p,q){var r=q.get().createNewLocalThreadGenerateID();p.openTab(r,"jewel_new_message");o.logClickOpen("EmptyTab")},"ChatOpenTab")}};f.exports=m}),null);
__d("ModalMask",["DOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=0,j={show:function k(){i++;if(!h){h=c("DOM").create("div",{id:"modalMaskOverlay"});c("DOM").appendContent(document.body,h)}},hide:function k(){if(i){i--;if(!i&&h){c("DOM").remove(h);h=null}}},getNode:function k(){return h}};f.exports=j}),null);
__d("RequiredFormListener",["Event","Input"],(function a(b,c,d,e,f,g){__p&&__p();c("Event").listen(document.documentElement,"submit",function(h){var i=h.getTarget();if(i.getAttribute("novalidate"))return true;var j=i.getElementsByTagName("*");for(var k=0;k<j.length;k++)if(j[k].getAttribute("required")&&c("Input").isEmpty(j[k])){j[k].focus();return false}},c("Event").Priority.URGENT)}),null);
__d("QuicklingAugmenter",["URI"],(function a(b,c,d,e,f,g){__p&&__p();var h=[],i={addHandler:function j(k){h.push(k)},augmentURI:function j(k){var l=[],m=new(c("URI"))(k);h.forEach(function(n){var o=n(m);if(!o)return m;l.push(n);m=m.addQueryData(o)});h=l;return m}};f.exports=i}),null);
__d("Quickling",["ArtilleryOnUntilOffLogging","AjaxPipeRequest","Arbiter","BigPipe","ContextualComponent","DocumentTitle","PageHooks","PageEvents","PageNavigationStageLogger","PageTransitionsRegistrar","QuicklingAugmenter","QuicklingConfig","QuicklingFetchStreamConfig","QuicklingRefreshOverheadUtil","RoyalBluebar","RoyalBluebarTransitions","Run","URI","UserAgent_DEPRECATED","PHPQuerySerializer","TimerStorage","cancelAnimationFrame","cancelIdleCallback","clearImmediate","clearInterval","clearTimeout","ge","goOrReplace","ifRequired","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("QuicklingConfig").version,k=c("QuicklingConfig").sessionLength,l=new RegExp(c("QuicklingConfig").inactivePageRegex),m=0,n,o="",p=false,q={init:function w(){if(p)return;p=true;c("Run").onAfterLoad(function x(){c("PageTransitionsRegistrar").registerHandler(u,1)})},isActive:function w(){return p},isPageActive:function w(x){__p&&__p();if(x==="#")return false;x=new(c("URI"))(x);if(x.getDomain()&&x.getDomain()!=new(c("URI"))(window.location.href).getDomain())return false;if(x.getPath()=="/l.php"){var y=x.getQueryData().u;if(y){y=new(c("URI"))(unescape(y)).getDomain();if(y&&y!=new(c("URI"))(window.location.href).getDomain())return false}}var z=x.getPath(),A=x.getQueryData();if(!c("isEmpty")(A))z+="?"+c("PHPQuerySerializer").serialize(A);if(Object.keys(A).reduce(function(B,C){return B||c("QuicklingConfig").badRequestKeys.includes(C)},false))return false;return!l.test(z)},getLoadCount:function w(){return m}};function r(w){__p&&__p();w=w||"Facebook";c("DocumentTitle").set(w);if(c("UserAgent_DEPRECATED").ie()){o=w;if(!n)n=window.setInterval(function(){var x=o,y=c("DocumentTitle").get();if(x!=y)c("DocumentTitle").set(x)},5e3,false)}}h=babelHelpers.inherits(s,c("AjaxPipeRequest"));i=h&&h.prototype;function s(w,x){"use strict";__p&&__p();var y={version:j};i.constructor.call(this,w,x,{quickling:y});this._processFirstResponse=function(z){var A=z.getPayload();r(A.title);window.scrollTo(0,0);var B=z.getRequest();if(B&&document.body)document.body.className=A.body_class||"";c("Arbiter").inform("quickling/response");c("ArtilleryOnUntilOffLogging").onNewPageLoad()};this._isQuickling=true}s.prototype._preBootloadFirstResponse=function(w){"use strict";return true};s.prototype._fireDomContentCallback=function(){"use strict";this._request&&this._request.cavalry&&this._request.cavalry.setTimeStamp("t_domcontent");c("ifRequired")("PageTransitions",function(w){w.transitionComplete()});i._fireDomContentCallback.call(this)};s.prototype._fireOnloadCallback=function(){"use strict";var w=this._request;if(w!=null&&w.cavalry){w.cavalry.setTimeStamp("t_hooks");w.cavalry.setTimeStamp("t_layout");w.cavalry.setTimeStamp("t_onload")}i._fireOnloadCallback.call(this)};s.prototype.isPageActive=function(w){"use strict";return q.isPageActive(w)};s.prototype._versionCheck=function(w){"use strict";__p&&__p();if(w.version==j){c("QuicklingRefreshOverheadUtil").onQuicklingVersionMatch();return true}var x=["quickling","ajaxpipe","ajaxpipe_token","ajaxpipe_fetch_stream"];c("PageNavigationStageLogger").setCookieForNavigation(w.uri);c("PageNavigationStageLogger").setNote("quickling_version");c("PageNavigationStageLogger").updateCookie();c("QuicklingRefreshOverheadUtil").onQuicklingRefreshStart();c("goOrReplace")(window.location,new(c("URI"))(w.uri).removeQueryData(x),true);c("RoyalBluebar").stopTransitionAnimation();return false};s.prototype.getSanitizedParameters=function(){"use strict";return["quickling"]};s.prototype._getAsyncRequestType=function(){"use strict";if(c("QuicklingFetchStreamConfig").experimentName!==c("RoyalBluebarTransitions").OFF)return"useFetchWithIframeFallback";return"useIframeTransport"};function t(){m++;return m>=k}function u(w){__p&&__p();c("AjaxPipeRequest").setCurrentRequest(null);if(t()){c("PageNavigationStageLogger").setNote("quickling_refresh");return false}w=c("QuicklingAugmenter").augmentURI(w);if(!q.isPageActive(w)){c("PageNavigationStageLogger").setNote("quickling_inactive");return false}c("TimerStorage").clearAll(c("TimerStorage").ANIMATION_FRAME,c("cancelAnimationFrame"));c("TimerStorage").clearAll(c("TimerStorage").IDLE_CALLBACK,c("cancelIdleCallback"));c("TimerStorage").clearAll(c("TimerStorage").IMMEDIATE,c("clearImmediate"));c("TimerStorage").clearAll(c("TimerStorage").INTERVAL,c("clearInterval"));c("TimerStorage").clearAll(c("TimerStorage").TIMEOUT,c("clearTimeout"));window.ExitTime=Date.now();c("QuicklingRefreshOverheadUtil").onQuicklingStart();c("Run").__removeHook(c("PageHooks").ONLOAD_HOOK);c("Run").__removeHook(c("PageHooks").DOMREADY_HOOK);c("Arbiter").inform(c("PageEvents").AJAXPIPE_ONUNLOAD,{transition_type:"quickling"});var x="content";v(x);c("RoyalBluebar").startTransitionAnimation();var y=new s(x,w).setResetHandler(c("RoyalBluebar").stopTransitionAnimation).setFinallyHandler(c("RoyalBluebar").stopTransitionAnimation).send();y.getArbiter().subscribeOnce(c("BigPipe").Events.displayed,c("RoyalBluebar").stopTransitionAnimation);var z=window.__bodyWrapper;if(z.getCodeUsage)z.clearCodeUsage();return c("PageTransitionsRegistrar").DELAY_HISTORY}function v(w){var x=function x(){var y=c("ge")(w),z=c("ContextualComponent").forNode(y);if(z)z.cleanup();c("PageHooks").runHooks("onleavehooks")};x()}f.exports=q;b.Quickling=q}),null);
__d("reportData",["Banzai","SessionName","ifRequired"],(function a(b,c,d,e,f,g){var h={retry:true};function i(j){var k=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],l={ft:k.ft||{},gt:k.gt||{}},m="-",n="r",o=c("ifRequired")("URI",function(q){return q.getRequestURI(true,true).getUnqualifiedURI().toString()},function(){return location.pathname+location.search+location.hash}),p=[c("SessionName").getName(),Date.now(),"act",Date.now(),0,m,j,m,m,n,o,l,0,0,0,0];c("Banzai").post("eagle_eye_event",p,h)}f.exports=i}),null);
__d("ViewasChromeBar",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","Focus","ModalMask","PageTransitionsRegistrar","Parent"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="ViewasChromeBar/initialized",k=null,l=false;function m(p){c("Arbiter").subscribe(j,p)}function n(p){c("CSS").addClass(p,"_7g7");var q=c("DOM").find(p,"._7g0");c("Focus").set(c("DOM").find(q,".textInput"))}var o={initChromeBar:function p(q){if(l)return;k=q;l=true;c("Arbiter").inform(j,null,c("Arbiter").BEHAVIOR_STATE)},update:function p(q,r){m(function(){c("DOM").setContent(k,q);if(r)new(c("AsyncRequest"))("/ajax/privacy/glasgow/viewas_bar_flyout_open").send()})},registerSpecificModeOnClick:function p(q){c("Event").listen(q,"click",function(){var r=c("Parent").bySelector(q,"._7f-");if(r instanceof HTMLElement)n(r)})},registerFlyoutModalMask:function p(){c("ModalMask").show();c("PageTransitionsRegistrar").registerHandler(c("ModalMask").hide,10)}};f.exports=o}),null);