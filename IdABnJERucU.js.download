if (self.CavalryLogger) { CavalryLogger.start_js(["bD+5H"]); }

__d("wrapNullableForReact",[],(function a(b,c,d,e,f,g){"use strict";function h(i){if(i!=null)return i;else return undefined}f.exports=h}),null);
__d("MessengerGraphQLTypeaheadAdapter_game.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_game",type:"Application",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]};f.exports=h}),null);
__d("MessengerGraphQLTypeaheadAdapter_group.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_group",type:"MessageThread",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:false,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},i,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:false,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},i,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}}();f.exports=h}),null);
__d("MessengerGraphQLTypeaheadAdapter_page.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null}]};f.exports=h}),null);
__d("MessengerGraphQLTypeaheadAdapter_user.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:false,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},j,{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:false,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:false,selections:[j]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[i,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}}();f.exports=h}),null);
__d("MessengerGraphQLTypeaheadViewQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"queryString",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"canViewerSendMoneyFilter",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"localEntryIDs",type:"[ID]!",defaultValue:null},{kind:"LocalArgument",name:"maxThreadResults",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryGroups",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryPages",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryThreadName",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryParticipantIDs",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryParticipantNames",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryVCEndpoint",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryInternalBot",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryRoomsAudience",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldSkipQueryUsers",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"forGroup",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"query",variableName:"queryString",type:"String!"}],k=[{kind:"Variable",name:"id",variableName:"threadFBID",type:"ID!"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},m={kind:"Literal",name:"first",value:20,type:"Int"},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},p=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}],q={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:p},r={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},t={kind:"InlineFragment",type:"Page",selections:[o,q,r,s,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},u=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[n,l,t]}]}],v={kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},w={kind:"Literal",name:"first",value:10,type:"Int"},x=[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[n,l,{kind:"InlineFragment",type:"User",selections:[r,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},v,q,{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:false,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null},l]},o,s,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:false,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null},l]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:false,selections:[o,l]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[w],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[n,l,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}],y={kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},z=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:false,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:false,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},o,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:p},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:false,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:false,selections:[n,l,o,{kind:"InlineFragment",type:"User",selections:[s,v]}]},l]}]}]},l]}]}];return{kind:"Request",operationKind:"query",name:"MessengerGraphQLTypeaheadViewQuery",id:"1508793065904560",text:null,metadata:{},fragment:{kind:"Fragment",name:"MessengerGraphQLTypeaheadViewQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:j,concreteType:"SearchableEntitiesQuery",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_profiles",args:null}]},{kind:"Condition",passingValue:true,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:k,concreteType:"MessageThread",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_roomAudience",args:null}]}]},{kind:"Condition",passingValue:true,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_groups",args:null}]}]}]},operation:{kind:"Operation",name:"MessengerGraphQLTypeaheadViewQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:j,concreteType:"SearchableEntitiesQuery",plural:false,selections:[l,{kind:"Condition",passingValue:true,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[m,{kind:"Literal",name:"internal_bot",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:false,selections:u}]},{kind:"Condition",passingValue:true,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[m,{kind:"Literal",name:"vc_endpoint",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:false,selections:u}]},{kind:"Condition",passingValue:true,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Variable",name:"for_group",variableName:"forGroup",type:"Boolean"},{kind:"Literal",name:"include_games",value:true,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[n,l,{kind:"InlineFragment",type:"Application",selections:[o,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]},t]}]}]}]},{kind:"Condition",passingValue:false,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"Literal",name:"context",value:"web_messenger_composer",type:"SearchContext"},m,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:true,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:true,selections:x}]}]}]},{kind:"Condition",passingValue:true,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:k,concreteType:"MessageThread",plural:false,selections:[l,{kind:"Condition",passingValue:true,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[w,{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:true,selections:x}]}]}]}]},{kind:"Condition",passingValue:true,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:false,selections:[{kind:"Condition",passingValue:true,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[y,{kind:"Literal",name:"with_group",value:true,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:false,selections:z}]},{kind:"Condition",passingValue:true,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[y,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",plural:false,selections:z}]},{kind:"Condition",passingValue:true,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[y,{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:false,selections:z}]}]},{kind:"LinkedHandle",alias:"groups",name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}]}}}();f.exports=h}),null);
__d("MessengerTypeaheadResultView_groups.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},j={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},k=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:false,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:false,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},j,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:250)",args:[{kind:"Literal",name:"first",value:250,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:false,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},j,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_groups",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"maxThreadResults",type:"Int"},{kind:"RootArgument",name:"shouldQueryThreadName",type:"Boolean"},{kind:"RootArgument",name:"localEntryIDs",type:"[ID]"},{kind:"RootArgument",name:"shouldQueryParticipantIDs",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryParticipantNames",type:"Boolean"}],selections:[{kind:"Condition",passingValue:true,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[i,{kind:"Literal",name:"with_group",value:true,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:false,selections:k}]},{kind:"Condition",passingValue:true,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[i,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",plural:false,selections:k}]},{kind:"Condition",passingValue:true,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[i,{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:false,selections:k}]}]}}();f.exports=h}),null);
__d("MessengerTypeaheadResultView_profiles.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"Literal",name:"first",value:20,type:"Int"},j={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},l={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},m={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},o={kind:"InlineFragment",type:"Page",selections:[j,k,l,m,n,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},p=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[o]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_profiles",type:"SearchableEntitiesQuery",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"RootArgument",name:"shouldSkipQueryUsers",type:"Boolean"},{kind:"RootArgument",name:"forGroup",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryPages",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryVCEndpoint",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryInternalBot",type:"Boolean"}],selections:[{kind:"Condition",passingValue:true,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[i,{kind:"Literal",name:"internal_bot",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:false,selections:p}]},{kind:"Condition",passingValue:true,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[i,{kind:"Literal",name:"vc_endpoint",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:false,selections:p}]},{kind:"Condition",passingValue:true,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Variable",name:"for_group",variableName:"forGroup",type:"Boolean"},{kind:"Literal",name:"include_games",value:true,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:true,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"Application",selections:[j,k,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]},o]}]}]}]},{kind:"Condition",passingValue:false,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"Literal",name:"context",value:"web_messenger_composer",type:"SearchContext"},i,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:true,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"User",selections:[m,j,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},l,{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:false,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},k,n,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:false,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:false,selections:[k]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[j,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();f.exports=h}),null);
__d("MessengerTypeaheadResultView_roomAudience.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"Literal",name:"first",value:10,type:"Int"},j={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerTypeaheadResultView_roomAudience",type:"MessageThread",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"shouldQueryRoomsAudience",type:"Boolean"}],selections:[{kind:"Condition",passingValue:true,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[i,{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},j,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:false,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},k,{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:false,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:false,selections:[k]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[i],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[j,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();f.exports=h}),null);
__d("MessengerContactAdapters",["immutable","ImmutableObject","MercuryTypeaheadConstants"],(function a(b,c,d,e,f,g){__p&&__p();var h={fromSearchableEntry:function i(j){__p&&__p();var k=j.getType(),l={alias:null,isMessengerUser:null,isWorkUser:null,participants:null,photo:j.getPhoto(),subtitle:j.getSubtitle(),thread:null,title:j.getTitle(),type:k,uid:j.getUniqueID()},m=j.getAuxiliaryData();if(m)if(k===c("MercuryTypeaheadConstants").THREAD_TYPE){l.thread=new(c("ImmutableObject"))(m.thread);l.participants=c("immutable").Map().withMutations(function(n){m.participantsToRender.forEach(function(o){n.set(o.id,o)})})}else{l.isMessengerUser=m.isMessengerUser;l.isWorkUser=m.isWorkUser;l.alias=m.alias}return new(c("ImmutableObject"))(l)},fromMercuryParticipant:function i(j){return new(c("ImmutableObject"))({alias:j.alias,uid:j.id,photo:j.image_src,title:j.name,subtitle:"",type:j.type,isMessengerUser:j.is_messenger_user,isWorkUser:j.is_work_user,isCoworker:j.is_coworker,href:j.href,timezone:j.timezone})}};f.exports=h}),null);
__d("MessengerGraphQLTypeaheadAdapter",["MercuryIDs","MercuryParticipantTypes","MercuryTypeaheadConstants","RelayModern","SearchableEntry","gkx","MessengerGraphQLTypeaheadAdapter_user.graphql","MessengerGraphQLTypeaheadAdapter_page.graphql","MessengerGraphQLTypeaheadAdapter_group.graphql","MessengerGraphQLTypeaheadAdapter_game.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("RelayModern").graphql;function i(m){return c("MercuryIDs").isValid(m)?m:c("MercuryIDs").getParticipantIDFromUserID(m)}function j(m){var n=m.scim_company_user&&m.scim_company_user.company_title,o=m.is_viewer_coworker?null:m.work_info&&m.work_info.work_community&&m.work_info.work_community.name;if(o&&n)return n+" \u2022 "+o;else if(o)return o;else if(n)return n;return null}function k(m){var n=null;if(m.members&&m.members.edges&&m.members.edges.length>0)n=m.members.edges.map(function(o){return o.node.name}).join(", ");else if(m.is_work_user&&c("gkx")("AT4I1AK1uv1_8XMb1kbzNqTA0P1-tohzerR4R7W_VXtAcPmhbGk8Y-IwnNajcrCT21UUJtsPPphI0YWIVSZ2CJMi1DZeWJ5xWwIWGBrq7pGH7w"))n=j(m);return n}var l={convertProfileToEntry:function m(n){if(!n||!n.id||!n.name)return null;var o=c("MercuryParticipantTypes").NON_FRIEND;if(n.is_work_user&&n.is_viewer_coworker)o=c("MercuryParticipantTypes").FB4C;else if(n.is_viewer_friend||n.messenger_contact.is_on_viewer_contact_list||n.is_viewer_coworker&&n.viewer_affinity>0)o=c("MercuryParticipantTypes").FRIEND;var p=k(n);return new(c("SearchableEntry"))({uniqueID:n.id,title:n.name,type:o,subtitle:p,photo:n.profile_picture&&n.profile_picture.uri,uri:n.url,auxiliaryData:{isMessengerUser:n.is_messenger_user,isWorkUser:n.is_work_user},order:-n.viewer_affinity})},convertPageToEntry:function m(n,o){if(!n||!n.id||!n.name)return null;if(n.instant_game_info)return this.convertGameToEntry(n);return new(c("SearchableEntry"))({uniqueID:n.id,title:n.name,type:o,photo:n.profile_picture&&n.profile_picture.uri,uri:n.url,auxiliaryData:{isMessengerUser:n.is_messenger_user,isWorkUser:n.is_work_user,canViewerMessage:n.can_viewer_message,canViewerAddToGroupChat:n.can_viewer_add_to_group_chat},order:0})},convertGameToEntry:function m(n,o){if(!n||!n.id||!n.name||!n.instant_game_info)return null;return new(c("SearchableEntry"))({uniqueID:n.id,title:n.name,type:c("MercuryTypeaheadConstants").GAME_TYPE,photo:n.instant_game_info&&n.instant_game_info.icon_uri,uri:n.instant_game_info&&n.instant_game_info.game_uri,order:0})},convertGroupToEntry:function m(n,o){__p&&__p();if(!n||!n.thread_key||!n.is_group_thread)return null;var p=n.thread_key.thread_fbid;if(!p)return null;var q=n.image&&n.image.uri,r=n.other_participants.edges.map(function(v){return v.node.messaging_actor.name}).join(", "),s=n.name,t=null;if(!s)s=r;else t=r;if(!s)return null;var u={};u.thread={thread_id:p,other_user_fbid:null,image_src:q,participants:n.other_participants.edges.map(function(v){return i(v.node.messaging_actor.id)})};u.participantsToRender=n.other_participants.edges.map(function(v){return{id:i(v.node.messaging_actor.id),is_messenger_user:v.node.messaging_actor.is_messenger_user,is_coworker:v.node.messaging_actor.is_viewer_coworker}});return new(c("SearchableEntry"))({uniqueID:p,order:o,photo:q,title:s,subtitle:t,type:c("MercuryParticipantTypes").THREAD,auxiliaryData:u})},userFragment:function m(){return c("MessengerGraphQLTypeaheadAdapter_user.graphql")},pageFragment:function m(){return c("MessengerGraphQLTypeaheadAdapter_page.graphql")},groupFragment:function m(){return c("MessengerGraphQLTypeaheadAdapter_group.graphql")},gameFragment:function m(){return c("MessengerGraphQLTypeaheadAdapter_game.graphql")}};f.exports=l}),null);
__d("MessengerGraphQLTypeaheadHighlighter",["Keys","MercuryTypeaheadConstants","MessengerTypeaheadUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getNextHighlightedEntry:function i(j,k,l,m){__p&&__p();var n=[];c("MessengerTypeaheadUtils").getEntryOrder(l).forEach(function(r){return n.push.apply(n,k.filter(function(s){return c("MessengerTypeaheadUtils").areSectionsEqual(s.getType(),r)}))});if(!m){if(n.length===0)return null;if(j===c("Keys").DOWN){var o=n[0];if(o.getType()===c("MercuryTypeaheadConstants").SEARCH_TYPE&&n.length>1)return n[1];return o}if(j===c("Keys").UP)return n[n.length-1];return null}var p=m.getUniqueID(),q=n.findIndex(function(r){return r.getUniqueID()===p});if(q===-1)return null;if(j===c("Keys").DOWN){q+=1;if(q>=n.length)q=0}else if(j===c("Keys").UP){q-=1;if(q<0)q=n.length-1}return n[q]}};f.exports=h}),null);
__d("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1299865353450925"};j.getQueryID=function(){"use strict";return"157516681700220"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerNewGroupParticipantSuggestionLocalCacheManager",["AsyncRequest","Map","immutable","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery","idx","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l){this.entriesPromise=null;this.orderedFriendEntries=null;this.alreadyParticipatingIDs=null;this.shouldRefetch=false;this.cursor=null;this.threadFBID=k;this.alreadyParticipatingIDs=l;this.callbackManager=new(c("SearchSourceCallbackManager"))({parseFn:c("TokenizeUtil").parse,matchFn:c("TokenizeUtil").isQueryMatch,indexFn:null})}h.prototype.onEntriesLoaded=function(k){__p&&__p();if(this.orderedFriendEntries!==null&&!this.shouldRefetch){k(this.orderedFriendEntries);return}if(this.entriesPromise===null||this.shouldRefetch){var l=this.alreadyParticipatingIDs?this.alreadyParticipatingIDs.toArray():null,m=c("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getURI({original_participant_ids:l,count:50});this.entriesPromise=new(c("AsyncRequest"))(m).setAllowCrossPageTransition(true).exec().then(function(n){return n.getPayload().data}).then(function(n){var o,p=n.viewer.messenger_contextual_ranked_users.edges.map(function(r){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(r.node)}).filter(function(r){return r!==null});this.callbackManager.addLocalEntries(p);this.orderedFriendEntries=p;var q=(o=n)!=null?(o=o.viewer)!=null?(o=o.messenger_contextual_ranked_users)!=null?(o=o.page_info)!=null?o.has_next_page:o:o:o:o;if(q)this.cursor=n.viewer.messenger_contextual_ranked_users.page_info.end_cursor}.bind(this))}if(this.entriesPromise)this.entriesPromise.done(function(){k(this.orderedFriendEntries);this.loadMoreFriends();this.shouldRefetch=false}.bind(this),c("emptyFunction"))};h.prototype.loadMoreFriends=function(){if(this.cursor==null)return;var k=this.cursor;this.cursor=null;new(c("AsyncRequest"))(c("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getLegacyURI({cursor:k})).setAllowCrossPageTransition(true).exec().then(function(l){return l.getPayload()}).done(function(l){this.callbackManager.addLocalEntries(l.viewer.messenger_contextual_ranked_users.edges.map(function(m){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(m.node)}).filter(function(m){return m!==null}))}.bind(this))};h.prototype.search=function(k,l){this.onEntriesLoaded(function(){this.callbackManager.search(k,function(m){l(m,k)})}.bind(this))};h.prototype.participantsSame=function(k){return this.twoIDsListEquals(this.alreadyParticipatingIDs,k)};h.prototype.twoIDsListEquals=function(k,l){if(k){if(l.size!==k.size)return false;return l.isSuperset(k)}return l.size==0};h.prototype.setRefetchAndRefreshData=function(k){this.shouldRefetch=true;this.alreadyParticipatingIDs=k};h.prototype.isBootstrapped=function(k){return this.orderedFriendEntries!==null&&this.participantsSame(k)};i.get=function(){return j.get()};function i(){this.threadFBIDToCacheMap=new(c("Map"))()}i.prototype.onEntriesLoaded=function(k,l,m){var n=this.threadFBIDToCacheMap.get(k);if(!n){n=new h(k,l);this.threadFBIDToCacheMap.set(k,n)}else if(!n.participantsSame(l))n.setRefetchAndRefreshData(l);n.onEntriesLoaded(m)};i.prototype.search=function(k,l,m,n){var o=this.threadFBIDToCacheMap.get(k);if(!o){o=new h(k,l);this.threadFBIDToCacheMap.set(k,o)}else if(!o.participantsSame(l))o.setRefetchAndRefreshData(l);o.search(m,n)};i.prototype.isBootstrapped=function(k,l){if(!k)return false;var m=this.threadFBIDToCacheMap.get(k);if(m)return m.isBootstrapped(l);return false};var j=new(c("MercurySingletonProvider"))(i);f.exports=i}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1554928974562492"};j.getQueryID=function(){"use strict";return"450815375315963"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerPaymentFriendsLocalCache",["AsyncRequest","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("SearchSourceCallbackManager"))({parseFn:c("TokenizeUtil").parse,matchFn:c("TokenizeUtil").isQueryMatch,indexFn:null}),i=null,j=null,k=null;function l(){if(!k)return;var n=k;k=null;new(c("AsyncRequest"))(c("MessengerPaymentFriendsQueryWebGraphQLQuery").getLegacyURI({cursor:n})).setAllowCrossPageTransition(true).exec().then(function(o){return o.getPayload()}).done(function(o){h.addLocalEntries(o.viewer.all_friends.edges.map(function(p){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(p.node)}).filter(function(p){return p!==null}))})}var m={onEntriesLoaded:function n(o){__p&&__p();if(j){o(j);return}if(!i){var p=c("MessengerPaymentFriendsQueryWebGraphQLQuery").getURI({first:50});i=new(c("AsyncRequest"))(p).setAllowCrossPageTransition(true).exec().then(function(q){return q.getPayload()}).then(function(q){var r=q.data.viewer.all_friends.edges.map(function(s){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(s.node)}).filter(function(s){return s!==null});h.addLocalEntries(r);j=r;k=q.data.viewer.all_friends.page_info.end_cursor})}i.done(function(){o(j)},c("emptyFunction"))},search:function n(o,p){m.onEntriesLoaded(function(){h.search(o,function(q){p(q,o)})})},isBootstrapped:function n(){return j!==null}};f.exports=m}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1765914773442635"};j.getQueryID=function(){"use strict";return"194809191264948"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerRoomWithAssocObjectAudienceLocalCacheManager",["AsyncRequest","Map","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","MessengerRoomWithAssocObjectAudienceWebGraphQLQuery","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k){this.entriesPromise=null;this.audienceEntries=null;this.threadFBID=k;this.callbackManager=new(c("SearchSourceCallbackManager"))({parseFn:c("TokenizeUtil").parse,matchFn:c("TokenizeUtil").isQueryMatch,indexFn:null})}h.prototype.onEntriesLoaded=function(k){__p&&__p();if(this.audienceEntries!==null){k(this.audienceEntries,true);return}if(this.entriesPromise===null){var l=c("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery").getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new(c("AsyncRequest"))(l).setAllowCrossPageTransition(true).exec().then(function(m){return m.getPayload()}).then(function(m){var n=m.data.message_thread.messaging_audience_list.edges.map(function(o){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(o.node)}).filter(function(o){return o!==null});this.callbackManager.addLocalEntries(n);this.audienceEntries=n}.bind(this))}if(this.entriesPromise)this.entriesPromise.done(function(){k(this.audienceEntries,true)}.bind(this),c("emptyFunction"))};h.prototype.search=function(k,l){this.onEntriesLoaded(function(){this.callbackManager.search(k,function(m){l(m,k)})}.bind(this))};h.prototype.isBootstrapped=function(){return this.audienceEntries!==null};i.get=function(){return j.get()};function i(){this.threadFBIDToCacheMap=new(c("Map"))()}i.prototype.onEntriesLoaded=function(k,l){var m=this.threadFBIDToCacheMap.get(k);if(!m){m=new h(k);this.threadFBIDToCacheMap.set(k,m)}m.onEntriesLoaded(l)};i.prototype.search=function(k,l,m){var n=this.threadFBIDToCacheMap.get(k);if(!n){n=new h(k);this.threadFBIDToCacheMap.set(k,n)}n.search(l,m)};i.prototype.isBootstrapped=function(k){if(!k)return false;var l=this.threadFBIDToCacheMap.get(k);if(l)return l.isBootstrapped();return false};var j=new(c("MercurySingletonProvider"))(i);f.exports=i}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1578935848808222"};j.getQueryID=function(){"use strict";return"1623997461012452"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1687108378017403"};j.getQueryID=function(){"use strict";return"178688882896247"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","MessengerConfig","MessengerFriendsWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsWebGraphQLQuery","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("SearchSourceCallbackManager"))({parseFn:c("TokenizeUtil").parse,matchFn:c("TokenizeUtil").isQueryMatch,indexFn:null}),i=null,j=null,k=null,l=null;function m(){if(c("MessengerConfig").BootstrapTypeaheadFromBuddylist||!k)return;var o=k;k=null;new(c("AsyncRequest"))(c("MessengerFriendsWebGraphQLQuery").getLegacyURI({cursor:o})).setAllowCrossPageTransition(true).exec().then(function(p){return p.getPayload()}).done(function(p){h.addLocalEntries(p.viewer.all_friends.edges.map(function(q){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(q.node)}).filter(function(q){return q!==null}))})}var n={onEntriesLoaded:function o(p){__p&&__p();var q;if(i!==null&&j!==null){p(i,j,false);return}if(l===null)(function(){__p&&__p();var r=c("MessengerConfig").BootstrapTypeaheadFromBuddylist,s=c("TopMessengerFriendsAndGroupsWebGraphQLQuery").getLegacyURI({use_buddylist:r,first:100});l=new(c("AsyncRequest"))(s).setAllowCrossPageTransition(true).exec().then(function(t){return t.getPayload()}).then(function(t){__p&&__p();var u=(r?t.viewer.chat_buddylist:t.viewer.all_friends.edges).map(function(w){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(r?w.represented_profile:w.node)}).filter(function(w){return w!==null}),v=t.viewer.message_threads.edges.map(function(w,x){return c("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(w.node,x)}).filter(function(w){return w!==null});h.addLocalEntries(u);h.addLocalEntries(v);i=u;j=v;if(t.viewer.all_friends&&t.viewer.all_friends.page_info&&t.viewer.all_friends.page_info.has_next_page)k=t.viewer.all_friends.page_info.end_cursor})})();l.done(function(){p(i,j,true);m()},c("emptyFunction"))},search:function o(p,q){n.onEntriesLoaded(function(){h.search(p,function(r){q(r,p)})})},isBootstrapped:function o(){return i!==null&&j!==null}};f.exports=n}),null);
__d("MessengerMenu.react",["cx","Keys","MenuSeparator.react","ReactXUIMenu","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;function k(m){m.isReactLegacyFactory={};m.type=m}i=babelHelpers.inherits(l,c("ReactXUIMenu"));j=i&&i.prototype;function l(m){var n=m.className,o=babelHelpers.objectWithoutProperties(m,["className"]);j.constructor.call(this,babelHelpers["extends"]({className:c("joinClasses")(n,"_2i-c _150g")},o))}l.prototype.handleKeydown=function(m,n){if(m===c("Keys").DOWN||m===c("Keys").UP||m===c("Keys").SPACE)return j.handleKeydown.call(this,m,n);return true};k(l);l.Item=c("ReactXUIMenu").Item;l.Separator=c("MenuSeparator.react");f.exports=l}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/settings/employee/beta_mode/",{enabled:{type:"Bool",defaultValue:false}})}),null);
__d("MessengerBugNub.react",["cx","fbt","ix","AsyncRequest","Image.react","Link.react","MessengerEnvironment","MessengerMenu.react","MessengerPopoverMenu.react","React","Tooltip","URI","WorkModeConfig","XSettingsEmployeeBetaController","gkx","goURI"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=j("86836"),n=j("86835"),o=j("86837"),p=c("React").PropTypes,q=c("MessengerMenu.react").Item,r=c("MessengerMenu.react").Separator;k=babelHelpers.inherits(s,c("React").PureComponent);l=k&&k.prototype;s.prototype.render=function(){return c("React").createElement("div",{className:"_4_xe"+(c("gkx")("AT5ad75lfUu_LEQloT_GHl5l4DgqBru4g1KtvnZgqgchaE21iYmpzSvKrpk6THSFyobb17PT_X_4ySOjfDebuqUc")?" _2jqn":"")},this.$MessengerBugNub1(),c("React").createElement(c("Link.react"),babelHelpers["extends"]({href:"#",ajaxify:"/ajax/bugs/employee_report",className:"_1fr8",rel:"dialog"},c("Tooltip").propsFor(i._("Report a bug"))),c("React").createElement("div",{className:"_1gng"},c("React").createElement(c("Image.react"),{src:m}))))};s.prototype.$MessengerBugNub1=function(){var t=this.props.isBetaEnabled?n:o,u=i._("Internal preferences");return c("React").createElement(c("MessengerPopoverMenu.react"),babelHelpers["extends"]({className:"_1fr8",menu:this.$MessengerBugNub2()},c("Tooltip").propsFor(u)),c("React").createElement(c("Link.react"),{"aria-haspopup":"true","aria-label":u,className:"_1gng",href:"#",role:"button"},c("React").createElement(c("Image.react"),{src:t})))};s.prototype.$MessengerBugNub2=function(){__p&&__p();var t,u=this,v=null;if(this.props.unixName)(function(){var w=u.props.unixName+".sb";v=c("React").createElement(q,{label:"Sandbox",onclick:function(){return this.$MessengerBugNub3(w)}.bind(u)})})();return c("React").createElement(c("MessengerMenu.react"),null,c("React").createElement(q,{label:"Public",onclick:function(){return this.$MessengerBugNub4(false)}.bind(this)}),c("React").createElement(q,{label:"Beta",onclick:function(){return this.$MessengerBugNub4(true)}.bind(this)}),c("React").createElement(r,null),c("React").createElement(q,{label:"C1 (trunkstable)",onclick:function(){return this.$MessengerBugNub3()}.bind(this)}),c("React").createElement(q,{label:"Intern",onclick:function(){return this.$MessengerBugNub3("intern")}.bind(this)}),c("React").createElement(q,{label:"Production",onclick:function(){return this.$MessengerBugNub3("prod")}.bind(this)}),v)};s.prototype.$MessengerBugNub4=function(t){var u=c("XSettingsEmployeeBetaController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(u).setData({enabled:t}).setMethod("POST").setAllowCrossPageTransition(true).send()};s.prototype.$MessengerBugNub3=function(t){var u=c("MessengerEnvironment").facebookdotcom?".facebook.com":".messenger.com",v=c("WorkModeConfig").company_subdomain,w=v?v:"www",x=w+(t?"."+t:"")+u;c("goURI")(c("URI").getRequestURI().getQualifiedURI().setDomain(x))};function s(){k.apply(this,arguments)}s.propTypes={isBetaEnabled:p.bool,unixName:p.string};f.exports=s}),null);
__d("MessengerGroupSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1729903047081547"};j.getQueryID=function(){"use strict";return"1520207274730395"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerPageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1692140974139092"};j.getQueryID=function(){"use strict";return"533569056993528"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerProfileSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1515081115212951"};j.getQueryID=function(){"use strict";return"140182203342795"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1573344152755972"};j.getQueryID=function(){"use strict";return"1951489998502913"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("MessengerSearchFunnelLogger",["FunnelLogger","MessengerSearchFunnelLoggerConstants","MercuryIDs"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(q,r,s){c("FunnelLogger").startFunnel(q);c("FunnelLogger").addFunnelTag(q,r);c("FunnelLogger").addFunnelTag(q,s);c("FunnelLogger").appendActionIfNew(q,"search_start");h=[]}function j(q){c("FunnelLogger").appendActionIfNew(q,"search_end");c("FunnelLogger").endFunnel(q)}function k(q,r){c("FunnelLogger").appendActionWithPayload(q,"initiate_content_search",{query_string:r,impression_list:h});c("FunnelLogger").endFunnel(q)}function l(q,r,s,t){if(s==null||h==null||h.length===0){c("FunnelLogger").appendActionWithPayload(q,"search_result_error",{error:"threadID or latest impression list are null",thread_id:s,impression_list:h});c("FunnelLogger").endFunnel(q);return}s=c("MercuryIDs").getThreadFBIDFromThreadID(s);c("FunnelLogger").appendActionWithPayload(q,"log_result_selection",{thread_id:s,type:t,rank:h.indexOf(s),search_query:r?r:""})}function m(q,r,s){c("FunnelLogger").appendActionWithPayloadIfNew(q,"loading_state_impression_list",{search_query:r,impression_list:s});h=s}function n(q,r){c("FunnelLogger").appendActionWithPayload(q,c("MessengerSearchFunnelLoggerConstants").SEND_SERVER_REQUEST,{search_query:r})}function o(q,r,s,t){c("FunnelLogger").appendActionWithPayload(q,r,{search_query:s,impression_list:t});h=t}function p(q){c("FunnelLogger").appendAction(q,"clear_search_query");this.endFunnel(q)}f.exports={startFunnel:i,logResultSelection:l,logStartQuery:n,endFunnel:j,logContentSearchInitiation:k,logLoadingStateQuery:m,logUpdateQuery:o,logClearQuery:p}}),null);
__d("MessengerTypeaheadResultRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="MessengerTypeaheadResultRoute";j.paramDefinition={queryString:{required:true,type:"String"},canViewerSendMoneyFilter:{required:false,type:"Boolean"},localEntryIDs:{required:true,type:"Array"},shouldQueryPages:{required:true,type:"Boolean"},shouldQueryThreadName:{required:true,type:"Boolean"},shouldQueryParticipantIDs:{required:true,type:"Boolean"},shouldQueryParticipantNames:{required:true,type:"Boolean"},shouldQueryVCEndpoint:{required:true,type:"Boolean"},shouldQueryInternalBot:{required:true,type:"Boolean"},shouldQueryRoomsAudience:{required:true,type:"Boolean"},threadFBID:{required:false,type:"String"}};j.queries={profiles:function k(l,m){var n=m.canViewerSendMoneyFilter,o=m.shouldQueryPages,p=m.shouldQueryVCEndpoint,q=m.shouldQueryInternalBot,r=m.shouldQueryRoomsAudience;return function(s){return{calls:[{kind:"Call",metadata:{type:"String!"},name:"query",value:{kind:"CallVariable",callVariableName:"queryString"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},c("react-relay/classic/query/RelayQL").__frag(s)]),fieldName:"entities_named",kind:"Query",metadata:{identifyingArgName:"query",identifyingArgType:"String!"},name:"MessengerTypeaheadResultRoute",type:"SearchableEntitiesQuery"}}(l.getFragment("profiles",{canViewerSendMoneyFilter:n,shouldQueryPages:o,shouldQueryVCEndpoint:p,shouldQueryInternalBot:q,shouldQueryRoomsAudience:r}))},groups:function k(l,m){var n=m.queryString,o=m.localEntryIDs,p=m.shouldQueryThreadName,q=m.shouldQueryParticipantIDs,r=m.shouldQueryParticipantNames;return function(s){return{children:[].concat.apply([],[c("react-relay/classic/query/RelayQL").__frag(s)]),fieldName:"viewer",kind:"Query",metadata:{},name:"MessengerTypeaheadResultRoute",type:"Viewer"}}(l.getFragment("groups",{queryString:n,localEntryIDs:o,shouldQueryThreadName:p,shouldQueryParticipantIDs:q,shouldQueryParticipantNames:r}))},roomAudience:function k(l,m){var n=m.queryString,o=m.shouldQueryRoomsAudience;return function(p){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"threadFBID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},c("react-relay/classic/query/RelayQL").__frag(p)]),fieldName:"message_thread",kind:"Query",metadata:{identifyingArgName:"id",identifyingArgType:"ID!"},name:"MessengerTypeaheadResultRoute",type:"MessageThread"}}(l.getFragment("roomAudience",{queryString:n,shouldQueryRoomsAudience:o}))}};f.exports=j}),null);
__d("ImageBlockReact.bs",["ReasonReact.bs","ImageBlock.react","bs_js_null_undefined"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l,m){return c("ReasonReact.bs").wrapJsForReason(c("ImageBlock.react"),{className:c("bs_js_null_undefined").from_opt(i),contentClassName:c("bs_js_null_undefined").from_opt(j),imageClassName:c("bs_js_null_undefined").from_opt(k),spacing:c("bs_js_null_undefined").from_opt(l)},m)}g.make=h}),null);
__d("MessengerContactImageReact.bs",["React","Utils.bs","ImageReact.bs","CurrentUser","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined","MessengerContactImage.react","MessengerProfileImageWrapperReact.bs"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ReasonReact.bs").statelessComponent("MessengerContactImageReact");function i(n,o,p,q,r,s,t,u){var v=h.slice();v[9]=function(){var w=+c("CurrentUser").isWorkUser(),x=w!==0&&t&&t[0]===0?1:0;return c("React").createElement("div",{className:c("Utils.bs").$pipe$unknown(n,"")},c("ReasonReact.bs").element(0,0,c("MessengerProfileImageWrapperReact.bs").make([1],o,p,q,0,0,0,[r],[x],0,x,[c("ReasonReact.bs").element(0,0,c("ImageReact.bs").make(0,[""],s,[r],0,[r],0,[]))])))};return v}var j=c("ReasonReact.bs").wrapReasonForJs(h,function(n){return i(c("bs_js_primitive").null_undefined_to_opt(n.className),c("bs_js_primitive").null_undefined_to_opt(n.customBadge),c("Utils.bs").nullUndefinedBooleanToOptionBool(n.isMessengerUser),c("Utils.bs").nullUndefinedBooleanToOptionBool(n.isPartiesUser),n.size,c("bs_js_primitive").null_undefined_to_opt(n.src),c("Utils.bs").nullUndefinedBooleanToOptionBool(n.isCoworker),[])});function k(n,o,p,q,r,s,t,u){return c("ReasonReact.bs").wrapJsForReason(c("MessengerContactImage.react"),{className:c("bs_js_null_undefined").from_opt(n),customBadge:c("bs_js_null_undefined").from_opt(o),isMessengerUser:c("Utils.bs").optionBoolToNullUndefinedBoolean(p),isPartiesUser:c("Utils.bs").optionBoolToNullUndefinedBoolean(q),size:r,src:c("bs_js_null_undefined").from_opt(s),isCoworker:c("Utils.bs").optionBoolToNullUndefinedBoolean(t)},u)}var l=[k],m=c("Utils.bs").$pipe$unknown;g.$pipe$unknown=m;g.component=h;g.make=i;g.jsComponent=j;g.StraightJSComponent=l}),null);
__d("MessengerLocalTimeReact.bs",["cx","fbt","React","bs_js_boolean","ReasonReact.bs","joinClasses","MercuryThreadTimestampReact.bs"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("ReasonReact.bs").statelessComponent("RMessengerLocalTimeReact");function k(n,o,p){__p&&__p();var q=j.slice();q[9]=function(){if(o){var r=o[0]-new Date().getTimezoneOffset()*-60;if(r===0)return null;else{var s=new Date(Date.now()+r*1e3),t=s.getHours(),u=+(t<6||t>22),v=c("joinClasses")("_10rk",n);return c("React").createElement("span",{className:v},c("React").createElement("span",{className:c("bs_js_boolean").to_js_boolean(u)?"_2f3x":""},"(",c("ReasonReact.bs").element(0,0,c("MercuryThreadTimestampReact.bs").make([s.getTime()],0,0,0,[]))," ",i._("local time"),")"))}}else return null};return q}var l=22,m=6;g.component=j;g.nightStartHour=l;g.nightEndHour=m;g.make=k}),null);
__d("MessengerTextWithEntitiesReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEntities.react"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l){return c("ReasonReact.bs").wrapJsForReason(c("MessengerTextWithEntities.react"),{renderEmoji:c("Utils.bs").optionBoolToNullUndefinedBoolean(i),renderEmoticons:c("Utils.bs").optionBoolToNullUndefinedBoolean(j),text:c("bs_js_null_undefined").from_opt(k)},l)}g.make=h}),null);
__d("MessengerContactListRowReact.bs",["cx","ix","fbt","bs_array","bs_block","bs_curry","React","Utils.bs","LinkReact.bs","ImageReact.bs","bs_js_boolean","MercuryIDs","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","PresenceStatus","ImageBlockReact.bs","AvailableListConstants","MercuryParticipantTypes","MessengerContactActions.bs","MessengerLocalTimeReact.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerContactImageReact.bs","MessengerTextWithEntitiesReact.bs"],(function aa(ba,a,ca,da,ea,b,fa,c,d){"use strict";__p&&__p();function e(q,r){if(q)return+q[0].contains(r);else return 0}function f(q,r,s){__p&&__p();var t=s.thread,u=s.participants,v=+(s.type===a("MercuryParticipantTypes").THREAD),w=s.photo,x=0,y,z;if(r)if(u==null)x=1;else if(v!==0){y=r[0];z=u;x=2}else x=1;else if(t==null)x=1;else if(u==null)x=1;else if(v!==0){y=t;z=u;x=2}else x=1;switch(x){case 1:if(w==null)return a("React").createElement("div",{className:"_5l39"});else return a("ReasonReact.bs").element(0,0,a("MessengerContactImageReact.bs").make(["_5l39 _5rmm"],0,a("Utils.bs").nullUndefinedBooleanToOptionBool(s.isMessengerUser),0,32,[w],a("Utils.bs").nullUndefinedBooleanToOptionBool(s.isCoworker),[]));case 2:return a("ReasonReact.bs").element(0,0,a("MessengerThreadImageReact.bs").make(["_5l39"],0,0,[32],z,y,q,[]))}}function g(q){var r=q.subtitle,s=0;if(r==null)s=1;else if(r==="")s=1;else return a("React").createElement("div",undefined,a("React").createElement("div",{className:"_3q34"},a("ReasonReact.bs").element(0,0,a("MessengerTextWithEntitiesReact.bs").make([1],[1],[q.title],[]))),a("React").createElement("div",{className:"_3q35"},r));if(s===1)return a("React").createElement("div",{className:"_364g"},q.title,a("ReasonReact.bs").element(0,0,a("MessengerLocalTimeReact.bs").make("_5ywd",a("bs_js_primitive").null_undefined_to_opt(q.timezone),[])))}function h(q,r){__p&&__p();var s=r.type;if(q)if(q[0]!==0)if(s==null)return 0;else if(s===a("MercuryParticipantTypes").FRIEND||s===a("MercuryParticipantTypes").USER){var t=a("MercuryIDs").getUserIDFromParticipantID(r.uid);if(t==null)return 0;else return+(a("PresenceStatus").get(t)===a("AvailableListConstants").ACTIVE)}else return 0;else return 0;else return 0}var i=a("React").createElement("span",{className:"_5rh4"},d._("Added")),j=a("React").createElement("span",{className:"_5rh4"},d._("Invited")),k=a("ReasonReact.bs").element(0,0,a("ImageReact.bs").make(["_1kqm"],0,[c("86852")],0,0,0,0,[]));function l(q,r){r[1][2][0]=q==null?0:[q];return 0}function m(q){__p&&__p();var r=q[2],s=r[1],t=r[2],u=q[1][2][0];if(s)if(s[0]!==0)if(t)if(u){var v=u[0];a("bs_curry")._1(t[0],v);var w=r[3];if(w)a("bs_curry")._1(w[0],v)}return 0}function n(q){__p&&__p();var r=q[1],s=r[2][1],t=q[0][2][2],u=r[1][2][0];if(s)if(s[0]!==0)if(t)if(u){var v=u[0];a("bs_curry")._1(t[0],v);var w=r[2][3];if(w)return a("bs_curry")._1(w[0],v);else return 0}else return 0;else return 0;else return 0;else return 0}function o(){__p&&__p();var q=a("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerContactListRowReact"),r=function r(t,u,v,w,x,y,z,A,B,C,D,E,F,ga,ha,G,H,ia,ja,I,J,K,ka){__p&&__p();var la=G?G[0]:"",L=function L(Q){if(y)return 0;else{Q.stopPropagation();Q.preventDefault();return 0}},M=function M(Q,R){if(Q===a("MessengerContactActions.bs").actions.SELECT)return a("bs_curry")._2(w,u,R);else if(x)return a("bs_curry")._2(x[0],Q,u);else return 0},N=function N(){var Q=a("Utils.bs").isSomeTrue(C);if(Q!==0&&v)return a("bs_curry")._1(v[0],u);else return 0},O=function O(Q){Q.stopPropagation();return M(a("MessengerContactActions.bs").actions.SELECT,Q)},P=function P(Q){__p&&__p();var R=Q[3],S=Q[1],T;if(H){var U=H[0].get(S[0].uid);T=U==null?[null,1]:[U,1]}else T=[null,0];if(e(ha,S[0].uid))return i;else if(e(D,S[0].uid))return j;else if(e(ia,S[0].uid))return k;else if(T[1])return T[0];else if(h(ja,S[0]))return a("React").createElement("div",{className:"_jg2"});else{var V=z?a("Utils.bs").arrayCompact(z[0]):undefined,W=S[0].thread,X,Y=0,Z;if(I){Z=I[0];Y=1}else if(W==null)X=0;else{Z=W;Y=1}if(Y===1){var ma=+a("MessengerAdminGroupUtils").isAdmin(V,S[0].uid);X=+a("MessengerAdminGroupUtils").isOwner(a("bs_js_boolean").to_js_boolean(ma),Z)}var $=X!==0?a("React").createElement("span",{className:"_5qsj"},d._("Admin")):null;if(y)return a("React").createElement("div",undefined,$,a("React").createElement(y[0],{className:"_rwo",adminIds:V,contact:S[0],extrasEnabled:a("bs_js_boolean").to_js_boolean(B),isOpen:a("bs_js_boolean").to_js_boolean(S[1]),onAction:M,onToggle:function na(oa){return a("bs_curry")._1(R,[oa])},viewer:K}));else return $}};return[q[0],q[1],q[2],function(Q){var R=Q[1],S=+(u===Q[2][0]);return[S!==0?R[0]:a("bs_curry")._1(t,u),R[1],R[2]]},m,n,q[6],q[7],q[8],function(Q){var R=Q[1],S=a("joinClasses")(la,"_5l37"+(a("Utils.bs").optionBoolToBoolean(E)?" _1k1p":"")+(a("bs_js_boolean").to_js_boolean(R[1])?" _rwn":"")),T=y?-1:0,U={"aria-hidden":a("Utils.bs").optionBoolToNullUndefinedBoolean(E)},V=J?Object.assign(U,a("TooltipData").propsFor(J[0],"left")):{},W=a("ReasonReact.bs").element(0,0,a("LinkReact.bs").make(0,["_5f0v"],0,0,0,0,0,0,[O],[L],[N],0,0,[T],0,0,a("ReasonReact.bs").element(0,0,a("ImageBlockReact.bs").make(0,["_5l38"],0,["medium"],[f(K,I,R[0]),g(R[0]),P(Q)])))),X=a("Utils.bs").isSomeTrue(A);if(X!==0)return a("React").createElement("li",{ref:a("bs_curry")._1(Q[0],l),className:S},W);else return a("React").cloneElement(a("React").createElement("li",{ref:a("bs_curry")._1(Q[0],l),className:S,role:"option"}),V,W)},function(){return[a("bs_curry")._1(t,u),0,[0]]},[u,E,ga,F],function(Q,R){return a("bs_block").__(0,[[R[0],Q[0],R[2]]])},q[13],q[14]]},s=a("ReasonReact.bs").wrapReasonForJs(q,function(t){var u=t.adminIds;return r(t.contactAdapter,t.rawContact,a("bs_js_primitive").null_undefined_to_opt(t.onHighlight),t.onSelect,a("bs_js_primitive").null_undefined_to_opt(t.onAction),a("bs_js_primitive").null_undefined_to_opt(t.actionsClass),u==null?0:[a("bs_array").map(function(v){if(v==null)return 0;else return[v]},u)],a("Utils.bs").nullUndefinedBooleanToOptionBool(t.disableRole),+t.extraActionsEnabled,a("Utils.bs").nullUndefinedBooleanToOptionBool(t.hasHoverState),a("bs_js_primitive").null_undefined_to_opt(t.invitedEntryIDs),a("Utils.bs").nullUndefinedBooleanToOptionBool(t.isHighlighted),a("bs_js_primitive").null_undefined_to_opt(t.onRenderHighlight),a("bs_js_primitive").null_undefined_to_opt(t.onScrollIntoView),a("bs_js_primitive").null_undefined_to_opt(t.originalEntryIDs),a("bs_js_primitive").null_undefined_to_opt(t.rowClassName),a("bs_js_primitive").null_undefined_to_opt(t.rowElements),a("bs_js_primitive").null_undefined_to_opt(t.selectedEntryIDs),a("Utils.bs").nullUndefinedBooleanToOptionBool(t.showPresence),a("bs_js_primitive").null_undefined_to_opt(t.thread),a("bs_js_primitive").null_undefined_to_opt(t.tooltipContent),t.viewer,[])});return[s,r]}var p=32;b.imageSize=p;b.idsContain=e;b.renderContactImage=f;b.renderContactText=g;b.getPresenceStatus=h;b.isOriginal=i;b.isInvited=j;b.isSelected=k;b.setThisRef=l;b.didMount=m;b.didUpdate=n;b.createMake=o}),null);
__d("MessengerContactList.react",["cx","fbt","MessengerContactListRowReact.bs","ImageBlock.react","immutable","ImmutableObject","MessengerSpinner.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("MessengerContactListRowReact.bs").createMake(),m=l[0],n=l[1],o=c("React").PropTypes;j=babelHelpers.inherits(p,c("React").PureComponent);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$MessengerContactList1=function(v,w){return c("React").createElement("div",{key:w,className:"_29hk"},this.$MessengerContactList4(w),c("React").createElement("ul",{id:this.props.controlleeID,role:this.props.disableRole?undefined:"listbox",className:"_29hl"},v.map(function(x,y){var z=y===0?c("joinClasses")(this.props.rowClassName,"_3h3c"):this.props.rowClassName;return c("React").createElement(m,{actionsClass:this.props.actionsClass,adminIds:this.props.adminIds,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,invitedEntryIDs:this.props.invitedEntryIDs,isHighlighted:this.props.highlightedEntry&&this.props.highlightedEntry.getUniqueID()===x.getUniqueID(),key:x.id||x.getUniqueID(),onAction:this.props.onAction,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,rawContact:x,rowClassName:z,rowElements:this.props.rowElements,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,thread:this.props.thread,tooltipContent:x.getAuxiliaryData&&x.getAuxiliaryData().tooltipContent,viewer:this.props.viewer})}.bind(this))))}.bind(this),r}p.prototype.render=function(){return c("React").createElement("div",{className:this.props.className},this.props.listSections.map(this.$MessengerContactList1).toArray(),this.$MessengerContactList2(),this.$MessengerContactList3())};p.prototype.$MessengerContactList4=function(q){if(!q)return null;return c("React").createElement("div",{className:"_225b"},q)};p.prototype.$MessengerContactList2=function(){if(!this.props.isLoading)return null;return c("React").createElement(c("ImageBlock.react"),{className:"_225c",spacing:"medium"},c("React").createElement(c("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),c("React").createElement("div",{className:"_4g0h"},i._("Searching...")))};p.prototype.$MessengerContactList3=function(){if(this.props.isLoading||this.props.listSections.size>0||!this.props.queryString||this.props.queryString.length===0)return null;return c("React").createElement("div",{className:"_3xcx"},i._("No results found"))};p.propTypes={actionsClass:o.func,adminIds:o.arrayOf(o.string),controlleeID:o.string,contactAdapter:o.func.isRequired,disableRole:o.bool,extraActionsEnabled:o.bool,hasHoverState:o.bool,highlightedEntry:o.object,invitedEntryIDs:o.instanceOf(c("immutable").Set),isLoading:o.bool,listSections:o.instanceOf(c("immutable").OrderedMap).isRequired,onAction:o.func,onHighlight:o.func,onRenderHighlight:o.func,onScrollIntoView:o.func,onSelect:o.func.isRequired,originalEntryIDs:o.instanceOf(c("immutable").Set),queryString:o.string,rowClassName:o.string,rowElements:o.instanceOf(c("immutable").Map),selectedEntryIDs:o.instanceOf(c("immutable").Set),showPresence:o.bool,thread:o.instanceOf(c("ImmutableObject")),viewer:o.string.isRequired};f.exports=p}),null);
__d("MessengerTypeaheadResultView.react",["cx","immutable","Keys","MercuryConfig","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerSearchFunnelLogger","MessengerTypeaheadUtils","MessengerGraphQLTypeaheadAdapter","MercuryParticipantTypes","MercuryTypeaheadConstants","React","RelayModern","SearchableEntry","idx","gkx","joinClasses","wrapNullableForReact","MessengerTypeaheadResultView_profiles.graphql","MessengerTypeaheadResultView_groups.graphql","MessengerTypeaheadResultView_roomAudience.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RelayModern").createFragmentContainer,l=c("RelayModern").graphql,m=50,n=c("MercuryConfig").SearchMorePeople?c("MercuryConfig").SearchMorePeople:c("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,o=c("gkx")("AT5THIpM4AckuNbWpijh61vC-OipSixPqueb6Cl8xvxjybMRxdw8oN5RZdz305TVhpkiPlzS7Sc53JEnbqyboPGn"),p=c("React").PropTypes;i=babelHelpers.inherits(q,c("React").Component);j=i&&i.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=j.constructor).call.apply(r,[this].concat(u)),this.$MessengerTypeaheadResultView1=null,this.onKeyDown=function(w,x){if(w===c("Keys").RETURN){this.props.onSelectHighlighted(x);return}if(!this.$MessengerTypeaheadResultView1)return;var y=c("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(w,this.$MessengerTypeaheadResultView1,this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(y)}.bind(this),this.$MessengerTypeaheadResultView3=function(w){this.props.onNextHighlighted(w)}.bind(this),s}q.prototype.componentWillMount=function(){this.$MessengerTypeaheadResultView1=this.$MessengerTypeaheadResultView2(this.props)};q.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown)};q.prototype.componentWillUpdate=function(r){this.$MessengerTypeaheadResultView1=this.$MessengerTypeaheadResultView2(r)};q.prototype.componentWillUnmount=function(){this.props.onUnmount()};q.prototype.render=function(){var r=this.$MessengerTypeaheadResultView1;if(!r)return null;var s=void 0;if(this.props.searchRenderType&&this.props.searchRenderType==="hold_until_user_groups")s=[c("MercuryTypeaheadConstants").SEARCH_TYPE,c("MercuryTypeaheadConstants").FRIEND_TYPE,c("MercuryTypeaheadConstants").FB4C_TYPE,c("MercuryTypeaheadConstants").THREAD_TYPE,c("MercuryTypeaheadConstants").NON_FRIEND_TYPE,c("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,c("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,c("MercuryTypeaheadConstants").PAGE_TYPE,c("MercuryTypeaheadConstants").GAME_TYPE];var t=c("MessengerTypeaheadUtils").buildListSections(r,this.props.queryString,s);return c("React").createElement(c("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:c("joinClasses")(this.props.className,"_4p-s"),contactAdapter:c("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:c("wrapNullableForReact")(this.props.highlightedEntry),isLoading:false,listSections:t,onHighlight:this.$MessengerTypeaheadResultView3,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer})};q.prototype.$MessengerTypeaheadResultView2=function(r){var s=r.localEntries,t={};s.forEach(function(w){t[w.getUniqueID()]=true});var u=c("MessengerTypeaheadUtils").sortEntries(this.$MessengerTypeaheadResultView4(r,t),r.queryString),v=s.concat(u).filter(function(w){return!r.selectedEntryIDs.contains(w.getUniqueID())}).slice(0,m);c("MessengerSearchFunnelLogger").logUpdateQuery("WWW_MESSENGER_SEARCH_SESSION_FUNNEL","fetched_state_impression_list",r.queryString,v.map(function(w){return w.getUniqueID()}));return v};q.prototype.$MessengerTypeaheadResultView4=function(r,s){__p&&__p();var t=[];if(o)t=r.serverResults.filter(function(D){return D&&!s[D.getUniqueID()]});if(r.profiles){var u,v=(u=r)!=null?(u=u.profiles)!=null?(u=u.user_results)!=null?u.edges:u:u:u;if(v){t=v.map(function(L){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(L.node)});var w=[],x=[],y=[];for(var z=t,A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}var D=C;if(!D||s[D.getUniqueID()])continue;if(D.getType()===c("MercuryParticipantTypes").FRIEND&&w.length<c("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX)w.push(D);else if(D.getType()===c("MercuryParticipantTypes").FB4C&&x.length<c("MercuryTypeaheadConstants").COMPOSER_FB4C_MAX)x.push(D);else if(D.getType()===c("MercuryParticipantTypes").NON_FRIEND&&y.length<n)y.push(D)}t=w.concat(x).concat(y)}}else if(r.roomAudience){var E,F=(E=r)!=null?(E=E.roomAudience)!=null?(E=E.user_results)!=null?E.edges:E:E:E;if(F)t=t.concat(F.map(function(L){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(L.node)}))}if(r.profiles&&r.profiles.page_results)t=t.concat(r.profiles.page_results.edges.map(function(L){return c("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(L.node,this.$MessengerTypeaheadResultView5(L.node))}.bind(this)).filter(function(D){return D&&!s[D.getUniqueID()]}).slice(0,c("MercuryTypeaheadConstants").COMPOSER_PAGES_MAX));var G=[],H=[];if(r.groups&&r.groups.threads_matching_name)H=H.concat(r.groups.threads_matching_name.edges);if(r.groups&&r.groups.threads_matching_participant_ids)H=H.concat(r.groups.threads_matching_participant_ids.edges);if(r.groups&&r.groups.threads_matching_participant_names)H=H.concat(r.groups.threads_matching_participant_names.edges);for(var I=0;I<H.length;I++){var J=H[I],K=c("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(J.node,I);if(!K||s[K.getUniqueID()])continue;G.push(K);s[K.getUniqueID()]=true}t=t.concat(G);if(r.profiles&&r.profiles.vc_results)t=t.concat(r.profiles.vc_results.edges.map(function(L){return c("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(L.node,c("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE)}));if(r.profiles&&r.profiles.internal_bot_results)t=t.concat(r.profiles.internal_bot_results.edges.map(function(L){return c("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(L.node,c("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE)}));return t};q.prototype.$MessengerTypeaheadResultView5=function(r){if(!r||!r.category_type)return c("MercuryParticipantTypes").PAGE;if(r.category_type===c("MercuryTypeaheadConstants").WORKPLACE_BOT_CATEGORY_TYPE)return c("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE;return c("MercuryTypeaheadConstants").PAGE_TYPE};q.propTypes={controlleeID:p.string.isRequired,canViewerSendMoneyFilter:p.bool,className:p.string.isRequired,localEntries:p.arrayOf(p.instanceOf(c("SearchableEntry"))).isRequired,localEntryIDs:p.arrayOf(p.string.isRequired).isRequired,hasHoverState:p.bool.isRequired,highlightedEntry:p.object,onMount:p.func.isRequired,onNextHighlighted:p.func.isRequired,onScrollIntoView:p.func.isRequired,onSelect:p.func.isRequired,onSelectHighlighted:p.func.isRequired,onUnmount:p.func.isRequired,originalEntryIDs:p.instanceOf(c("immutable").Set).isRequired,queryString:p.string.isRequired,searchRenderType:p.string.isRequired,selectedEntryIDs:p.instanceOf(c("immutable").Set).isRequired,serverResults:p.arrayOf(p.instanceOf(c("SearchableEntry"))).isRequired,shouldQueryInternalBot:p.bool.isRequired,shouldQueryPages:p.bool.isRequired,shouldQueryVCEndpoint:p.bool.isRequired,viewer:p.string.isRequired,forGroup:p.bool};q.defaultProps={controlleeID:"",className:""};f.exports=o?q:k(q,{profiles:function r(){return c("MessengerTypeaheadResultView_profiles.graphql")},groups:function r(){return c("MessengerTypeaheadResultView_groups.graphql")},roomAudience:function r(){return c("MessengerTypeaheadResultView_roomAudience.graphql")}})}),null);
__d("MessengerTypeaheadTopFriendsView.react",["cx","immutable","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","joinClasses","wrapNullableForReact"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onKeyDown=function(r,s){if(r===c("Keys").RETURN){this.props.onSelectHighlighted(s);return}var t=c("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(r,this.props.entries.toArray(),this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(t)}.bind(this),this.$MessengerTypeaheadTopFriendsView1=function(r){this.props.onNextHighlighted(r)}.bind(this),n}l.prototype.componentWillMount=function(){if(this.props.hasHoverState)if(this.props.entries.size>0)this.props.onNextHighlighted(this.props.entries.first())};l.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown)};l.prototype.componentWillUnmount=function(){this.props.onUnmount()};l.prototype.render=function(){return c("React").createElement(c("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:c("joinClasses")(this.props.className,"_4p-s"),contactAdapter:c("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:c("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:c("MessengerTypeaheadUtils").buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$MessengerTypeaheadTopFriendsView1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer})};l.propTypes={controlleeID:k.string.isRequired,className:k.string.isRequired,entries:k.instanceOf(c("immutable").List).isRequired,hasHoverState:k.bool.isRequired,highlightedEntry:k.object,onNextHighlighted:k.func.isRequired,onMount:k.func.isRequired,onScrollIntoView:k.func.isRequired,onSelect:k.func.isRequired,onSelectHighlighted:k.func.isRequired,onUnmount:k.func.isRequired,originalEntryIDs:k.instanceOf(c("immutable").Set).isRequired,queryString:k.string.isRequired,selectedEntryIDs:k.instanceOf(c("immutable").Set).isRequired,viewer:k.string.isRequired};l.defaultProps={controlleeID:"",className:""};f.exports=l}),null);
__d("MessengerGraphQLTypeaheadView.react",["cx","fbt","Promise","CurrentUser","ImageBlock.react","immutable","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerConfig","MessengerGroupSearchResultsQueryWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsLocalCache","MessengerPageSearchResultsQueryWebGraphQLQuery","MessengerNewGroupParticipantSuggestionLocalCacheManager","MessengerProfileSearchResultsQueryWebGraphQLQuery","MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery","MessengerRoomPrivacyMode","MessengerRoomWithAssocObjectAudienceLocalCacheManager","MessengerSearchFunnelLogger","MessengerSpinner.react","MessengerTypeaheadLocalCache","MessengerTypeaheadResultRoute","MessengerTypeaheadResultView.react","MessengerTypeaheadTopFriendsView.react","MessengerTypeaheadUtils","React","RelayFBEnvironment","WebGraphQL","RelayModern","createCancelableFunction","debounce","PromiseUtil","compactArray","idx","gkx","MessengerGraphQLTypeaheadViewQuery.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=c("RelayModern").graphql,n=c("RelayModern").QueryRenderer,o=c("React").PropTypes,p="WWW_MESSENGER_SEARCH_SESSION_FUNNEL",q=5,r=100,s=c("MercuryConfig").SearchMorePeople?c("MercuryConfig").SearchMorePeople:c("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,t=c("gkx")("AT5THIpM4AckuNbWpijh61vC-OipSixPqueb6Cl8xvxjybMRxdw8oN5RZdz305TVhpkiPlzS7Sc53JEnbqyboPGn"),u=3;k=babelHelpers.inherits(v,c("React").Component);l=k&&k.prototype;function v(){__p&&__p();var w,x;for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=l.constructor).call.apply(w,[this].concat(z)),this.state={route:null,localEntries:c("immutable").List(),queryCompleteStatus:{usersGroups:!t,pages:!t},serverResults:[],highlightedEntry:null},this.$MessengerGraphQLTypeaheadView1=null,this.$MessengerGraphQLTypeaheadView2=null,this.$MessengerGraphQLTypeaheadView3=null,this.$MessengerGraphQLTypeaheadView4=0,this.$MessengerGraphQLTypeaheadView5=0,this.$MessengerGraphQLTypeaheadView6=null,this.$MessengerGraphQLTypeaheadView7=true,this.$MessengerGraphQLTypeaheadView8=c("MessengerRoomWithAssocObjectAudienceLocalCacheManager").get(),this.$MessengerGraphQLTypeaheadView9=c("MessengerNewGroupParticipantSuggestionLocalCacheManager").get(),this.$MessengerGraphQLTypeaheadView12=function(B,C,D,E){if(this.$MessengerGraphQLTypeaheadView7){c("MessengerSearchFunnelLogger").logStartQuery(p,B);this.setState({serverResults:[]})}this.$MessengerGraphQLTypeaheadView24(B,C,D);this.$MessengerGraphQLTypeaheadView25(B);this.$MessengerGraphQLTypeaheadView26(B,C,E)}.bind(this),this.$MessengerGraphQLTypeaheadView16=function(B){this.$MessengerGraphQLTypeaheadView6=B}.bind(this),this.$MessengerGraphQLTypeaheadView19=function(){this.$MessengerGraphQLTypeaheadView6=null}.bind(this),this.$MessengerGraphQLTypeaheadView17=function(B){this.setState({highlightedEntry:B})}.bind(this),this.$MessengerGraphQLTypeaheadView18=function(B){if(this.state.highlightedEntry)this.props.onSelect(this.state.highlightedEntry,B)}.bind(this),x}v.prototype.componentDidMount=function(){this.$MessengerGraphQLTypeaheadView10();this.$MessengerGraphQLTypeaheadView2=c("debounce")(function(){if(!t&&this.$MessengerGraphQLTypeaheadView7){var w=this.$MessengerGraphQLTypeaheadView11(),x=new(c("MessengerTypeaheadResultRoute"))(w);c("MessengerSearchFunnelLogger").logStartQuery(p,w.queryString);this.setState({route:x})}}.bind(this),150,this,true);if(t)this.$MessengerGraphQLTypeaheadView3=c("debounce")(this.$MessengerGraphQLTypeaheadView12,150,this,true)};v.prototype.componentWillReceiveProps=function(w){__p&&__p();this.setState({highlightedEntry:null});if(!w.queryString)this.$MessengerGraphQLTypeaheadView10();else if(w.queryString!==this.props.queryString){this.setState({queryCompleteStatus:{userGroupQueryFinished:false,pagesQueryFinished:false},serverResults:[]});this.$MessengerGraphQLTypeaheadView2&&this.$MessengerGraphQLTypeaheadView2();var x=w.roomAssociatedObject&&w.roomAssociatedObject.privacy_mode;if(this.$MessengerGraphQLTypeaheadView3)this.$MessengerGraphQLTypeaheadView3(w.queryString,c("MercuryConfig").MaxThreadResults,w.excludeGroups,x===c("MessengerRoomPrivacyMode").WHITELISTED_MODE?w.threadFBID:null);if(x===c("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$MessengerGraphQLTypeaheadView13(w);return}if(this.props.canViewerSendMoneyFilter){this.$MessengerGraphQLTypeaheadView14(w);return}if(this.props.includeExistingParticipantIDs){this.$MessengerGraphQLTypeaheadView15(w);return}c("MessengerTypeaheadLocalCache").search(w.queryString,function(y,z){__p&&__p();if(this.$MessengerGraphQLTypeaheadView7)if(z===w.queryString){var A=c("MessengerTypeaheadUtils").sortEntries(y,z).slice(0,this.props.maxEntries),B=this.props.enableMessageSearch?c("MessengerTypeaheadUtils").getMessageSearchEntry(z):null;if(B)A.unshift(B);var C=c("immutable").List(A).filter(function(D){if(this.props.excludeGroups&&D.getType()===c("MercuryParticipantTypes").THREAD)return false;if(this.props.excludePages&&D.getType()===c("MercuryParticipantTypes").PAGE)return false;return true}.bind(this));this.setState({localEntries:C})}}.bind(this))}};v.prototype.shouldComponentUpdate=function(w,x){return w.queryString!==this.props.queryString||w.isFocused!==this.props.isFocused||w.excludeGroups!==this.props.excludeGroups||w.excludePages!==this.props.excludePages||x.localEntries!==this.state.localEntries||x.queryCompleteStatus!==this.state.queryCompleteStatus||x.route!==this.state.route||x.highlightedEntry!==this.state.highlightedEntry};v.prototype.componentWillUnmount=function(){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1.cancel();if(this.$MessengerGraphQLTypeaheadView3)this.$MessengerGraphQLTypeaheadView3.reset();this.$MessengerGraphQLTypeaheadView7=false};v.prototype.render=function(){__p&&__p();if(!this.props.isFocused&&!this.props.queryString||!c("MessengerTypeaheadLocalCache").isBootstrapped()&&!this.$MessengerGraphQLTypeaheadView8.isBootstrapped(this.props.threadFBID)&&!c("MessengerPaymentFriendsLocalCache").isBootstrapped()&&!this.$MessengerGraphQLTypeaheadView9.isBootstrapped(this.props.threadFBID,this.props.originalEntryIDs))return null;if(!this.props.queryString||!t&&!this.state.route){c("MessengerSearchFunnelLogger").logUpdateQuery(p,"null_state_impression","",this.state.localEntries.toArray().map(function(x){return x.getUniqueID()}));return c("React").createElement(c("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$MessengerGraphQLTypeaheadView16,onNextHighlighted:this.$MessengerGraphQLTypeaheadView17,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView18,onUnmount:this.$MessengerGraphQLTypeaheadView19,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer})}if(t){var w=this.state.queryCompleteStatus.usersGroups&&(this.props.excludePages||this.state.queryCompleteStatus.pages);switch(c("MessengerConfig").renderType){case"hold":return c("React").createElement("div",null,w?this.$MessengerGraphQLTypeaheadView20():this.$MessengerGraphQLTypeaheadView21());case"hold_until_user_groups":return c("React").createElement("div",null,this.state.queryCompleteStatus.usersGroups?this.$MessengerGraphQLTypeaheadView20():this.$MessengerGraphQLTypeaheadView21(),this.state.queryCompleteStatus.usersGroups&&!w?this.$MessengerGraphQLTypeaheadView22():null)}}return c("React").createElement(n,{environment:c("RelayFBEnvironment"),query:j||(j=function j(){return c("MessengerGraphQLTypeaheadViewQuery.graphql")}),render:function(x){var y=x.error,z=x.props;if(y)throw y;else if(z)return this.$MessengerGraphQLTypeaheadView20(z);return this.$MessengerGraphQLTypeaheadView21()}.bind(this),variables:this.$MessengerGraphQLTypeaheadView11()})};v.prototype.$MessengerGraphQLTypeaheadView21=function(){var w=this.state.localEntries.slice(0,q);return c("React").createElement(c("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.$MessengerGraphQLTypeaheadView23(w),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$MessengerGraphQLTypeaheadView17,onMount:this.$MessengerGraphQLTypeaheadView16,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView18,onUnmount:this.$MessengerGraphQLTypeaheadView19,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer})};v.prototype.$MessengerGraphQLTypeaheadView22=function(){return c("React").createElement(c("ImageBlock.react"),{className:"_225c",spacing:"medium"},c("React").createElement(c("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),c("React").createElement("div",{className:"_4g0h"},i._("Searching...")))};v.prototype.$MessengerGraphQLTypeaheadView20=function(w){var x=this.$MessengerGraphQLTypeaheadView11(),y=this.state.localEntries.slice(0,q);return c("React").createElement(c("MessengerTypeaheadResultView.react"),babelHelpers["extends"]({},w,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,localEntries:y.toArray(),onMount:this.$MessengerGraphQLTypeaheadView16,onNextHighlighted:this.$MessengerGraphQLTypeaheadView17,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView18,onUnmount:this.$MessengerGraphQLTypeaheadView19,originalEntryIDs:this.props.originalEntryIDs,searchRenderType:c("MessengerConfig").renderType,selectedEntryIDs:this.props.selectedEntryIDs,serverResults:this.state.serverResults,viewer:this.props.viewer},x))};v.prototype.$MessengerGraphQLTypeaheadView24=function(w,x,y){__p&&__p();var z=this.state.localEntries.toArray().filter(function(C){return C.getType()!==c("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(C){return C.getUniqueID()}),A=[];A.push(new(c("MessengerProfileSearchResultsQueryWebGraphQLQuery"))({search_query:w,result_limit:x,can_viewer_send_money:this.props.canViewerSendMoneyFilter}));if(!y)A.push(new(c("MessengerGroupSearchResultsQueryWebGraphQLQuery"))({search_query:w,result_limit:x,exclude_ids:z}));this.$MessengerGraphQLTypeaheadView4=0;this.$MessengerGraphQLTypeaheadView5=0;var B=c("PromiseUtil").exponentialBackoff(function(){return c("Promise").all(c("WebGraphQL").execAll(A))});c("PromiseUtil").repeatWhileErrorUntil(B,function(C){__p&&__p();var D;if(w!==this.props.queryString)return;var E=[],F=[];if(!y){var G,H=(G=C[1])!=null?(G=G.entities_named)!=null?(G=G.search_results)!=null?G.nodes:G:G:G;if(H)E=H.map(function(T,U){return c("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(T,U)})}var I=C[0],J=(D=I)!=null?(D=D.entities_named)!=null?(D=D.search_results)!=null?D.nodes:D:D:D;if(J){var K=J.map(function(T){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(T)}),L=[],M=[],N=[];for(var O=K,P=Array.isArray(O),Q=0,O=P?O:O[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var R;if(P){if(Q>=O.length)break;R=O[Q++]}else{Q=O.next();if(Q.done)break;R=Q.value}var S=R;if(!S)continue;if(S.getType()===c("MercuryParticipantTypes").FRIEND&&L.length<c("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX)L.push(S);else if(S.getType()===c("MercuryParticipantTypes").FB4C&&M.length<c("MercuryTypeaheadConstants").COMPOSER_FB4C_MAX)M.push(S);else if(S.getType()===c("MercuryParticipantTypes").NON_FRIEND&&N.length<s)N.push(S)}F=L.concat(M).concat(N)}if(this.$MessengerGraphQLTypeaheadView7)this.setState(function(T){return{serverResults:c("compactArray")(T.serverResults.concat(F).concat(E)),queryCompleteStatus:Object.assign({},T.queryCompleteStatus,{usersGroups:true})}})}.bind(this),function(C){if(w===this.props.queryString){if(this.$MessengerGraphQLTypeaheadView7&&this.$MessengerGraphQLTypeaheadView4<u){this.$MessengerGraphQLTypeaheadView4+=1;return true}this.setState(function(D){return{queryCompleteStatus:Object.assign({},D.queryCompleteStatus,{usersGroups:true})}})}return false}.bind(this))()};v.prototype.$MessengerGraphQLTypeaheadView25=function(w){__p&&__p();var x=[];if(!this.props.excludePages)x.push(new(c("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:w,result_limit:5,include_commerce:true,include_games:true,internal_bot:false,vc_endpoint:false}));if(this.props.shouldQueryInternalBot&&c("CurrentUser").isEmployee()&&c("CurrentUser").isWorkUser())x.push(new(c("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:w,result_limit:5,include_commerce:false,include_games:false,internal_bot:true,vc_endpoint:false}));if(this.props.shouldQueryVCEndpoint&&(c("CurrentUser").isEmployee()||c("CurrentUser").isWorkUser()))x.push(new(c("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:w,result_limit:20,include_commerce:false,include_games:false,internal_bot:false,vc_endpoint:true}));if(x.length>0){var y=c("PromiseUtil").exponentialBackoff(function(){return c("Promise").all(c("WebGraphQL").execAll(x))});c("PromiseUtil").repeatWhileErrorUntil(y,function(z){__p&&__p();var A,B;if(w!==this.props.queryString)return;var C=!this.props.excludePages,D=C?(A=z[0])!=null?(A=A.entities_named)!=null?(A=A.search_results)!=null?A.nodes:A:A:A:[],E=C?z[1]:z[0],F=E?(B=E)!=null?(B=B.entities_named)!=null?(B=B.search_results)!=null?B.nodes:B:B:B:[],G=[];if(this.props.shouldQueryVCEndpoint)if(C){var H,I;G=this.props.shouldQueryInternalBot?(H=z[2])!=null?(H=H.entities_named)!=null?(H=H.search_results)!=null?H.nodes:H:H:H:(I=z[1])!=null?(I=I.entities_named)!=null?(I=I.search_results)!=null?I.nodes:I:I:I}else{var J,K;G=this.props.shouldQueryInternalBot?(J=z[1])!=null?(J=J.entities_named)!=null?(J=J.search_results)!=null?J.nodes:J:J:J:(K=z[0])!=null?(K=K.entities_named)!=null?(K=K.search_results)!=null?K.nodes:K:K:K}D=D?D.map(function(O){return c("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(O,c("MercuryTypeaheadConstants").PAGE_TYPE)}):[];F=F?F.map(function(O){return c("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(O,c("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE)}):[];G=G?G.map(function(O){return c("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(O,c("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE)}):[];var L=D.slice(0,c("MercuryTypeaheadConstants").COMPOSER_PAGES_MAX),M=F,N=G;if(this.$MessengerGraphQLTypeaheadView7){this.setState(function(O){return{serverResults:O.serverResults.concat(c("compactArray")(L.concat(N).concat(M))),queryCompleteStatus:Object.assign({},O.queryCompleteStatus,{pages:true})}});return}}.bind(this),function(z){if(w===this.props.queryString){if(this.$MessengerGraphQLTypeaheadView7&&this.$MessengerGraphQLTypeaheadView5<u){this.$MessengerGraphQLTypeaheadView5+=1;return true}this.setState(function(A){return{queryCompleteStatus:Object.assign({},A.queryCompleteStatus,{excludePages:true})}})}return false}.bind(this))()}};v.prototype.$MessengerGraphQLTypeaheadView26=function(w,x,y){__p&&__p();var z=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(z===c("MessengerRoomPrivacyMode").WHITELISTED_MODE&&y){c("WebGraphQL").exec(new(c("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"))({search_query:w,result_limit:x,thread_fbid:y})).done(function(A){var B,C,D=this,E=(B=A)!=null?(B=B.message_thread)!=null?(B=B.messaging_audience_list)!=null?B.nodes:B:B:B;if(E)(function(){var F=E.map(function(G){return c("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(G)});D.setState(function(G){return{serverResults:G.serverResults.concat(c("compactArray")(F))}})})()}.bind(this));return}};v.prototype.$MessengerGraphQLTypeaheadView23=function(w){var x=w.filter(function(y){return!this.props.selectedEntryIDs.contains(y.getUniqueID())}.bind(this));c("MessengerSearchFunnelLogger").logLoadingStateQuery(p,this.props.queryString,x.toArray().map(function(y){return y.getUniqueID()}));return x};v.prototype.onKeyDown=function(w,x){this.$MessengerGraphQLTypeaheadView6&&this.$MessengerGraphQLTypeaheadView6(w,x)};v.prototype.$MessengerGraphQLTypeaheadView13=function(w){this.$MessengerGraphQLTypeaheadView8.search(w.threadFBID,w.queryString,function(x,y){if(this.$MessengerGraphQLTypeaheadView7)if(y===w.queryString){var z=c("MessengerTypeaheadUtils").sortEntries(x,y).slice(0,this.props.maxEntries);this.setState({localEntries:c("immutable").List(z)})}}.bind(this))};v.prototype.$MessengerGraphQLTypeaheadView27=function(){this.setState({localEntries:c("immutable").List()});this.$MessengerGraphQLTypeaheadView1=c("createCancelableFunction")(function(w){var x=w.slice(0,30);this.setState({localEntries:c("immutable").List(x)})}.bind(this));this.$MessengerGraphQLTypeaheadView8.onEntriesLoaded(this.props.threadFBID,function(w){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(w);this.$MessengerGraphQLTypeaheadView1=null}.bind(this))};v.prototype.$MessengerGraphQLTypeaheadView15=function(w){this.$MessengerGraphQLTypeaheadView9.search(w.threadFBID,w.originalEntryIDs,w.queryString,function(x,y){if(this.$MessengerGraphQLTypeaheadView7)if(y===w.queryString){var z=c("MessengerTypeaheadUtils").sortEntries(x,y).slice(0,this.props.maxEntries);this.setState({localEntries:c("immutable").List(z)})}}.bind(this))};v.prototype.$MessengerGraphQLTypeaheadView28=function(){this.setState({localEntries:c("immutable").List()});this.$MessengerGraphQLTypeaheadView1=c("createCancelableFunction")(function(w){this.setState({localEntries:c("immutable").List(w.slice(0,50))})}.bind(this));this.$MessengerGraphQLTypeaheadView9.onEntriesLoaded(this.props.threadFBID,this.props.originalEntryIDs,function(w){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(w);this.$MessengerGraphQLTypeaheadView1=null}.bind(this))};v.prototype.$MessengerGraphQLTypeaheadView14=function(w){c("MessengerPaymentFriendsLocalCache").search(w.queryString,function(x,y){if(this.$MessengerGraphQLTypeaheadView7)if(y===w.queryString){var z=c("MessengerTypeaheadUtils").sortEntries(x,y).slice(0,this.props.maxEntries);this.setState({localEntries:c("immutable").List(z)})}}.bind(this))};v.prototype.$MessengerGraphQLTypeaheadView29=function(){this.setState({localEntries:c("immutable").List()});this.$MessengerGraphQLTypeaheadView1=c("createCancelableFunction")(function(w){this.setState({localEntries:c("immutable").List(w)})}.bind(this));c("MessengerPaymentFriendsLocalCache").onEntriesLoaded(function(w){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(w);this.$MessengerGraphQLTypeaheadView1=null}.bind(this))};v.prototype.$MessengerGraphQLTypeaheadView10=function(){__p&&__p();var w=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(w===c("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$MessengerGraphQLTypeaheadView27();return}if(this.props.canViewerSendMoneyFilter){this.$MessengerGraphQLTypeaheadView29();return}if(this.props.includeExistingParticipantIDs){this.$MessengerGraphQLTypeaheadView28();return}this.setState({localEntries:c("immutable").List()});this.$MessengerGraphQLTypeaheadView1=c("createCancelableFunction")(function(x,y,z){var A=x.slice(0,50);if(!this.props.excludeGroups)A=A.concat(y);if(!z||!this.props.queryString){var B=this.props.enableMessageSearch?c("MessengerTypeaheadUtils").getMessageSearchEntry(this.props.queryString):null;if(B)A.unshift(B);this.setState({localEntries:c("immutable").List(A)})}}.bind(this));c("MessengerTypeaheadLocalCache").onEntriesLoaded(function(x,y,z){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(x,y,z);this.$MessengerGraphQLTypeaheadView1=null}.bind(this))};v.prototype.$MessengerGraphQLTypeaheadView11=function(){var w=this.props.canViewerSendMoneyFilter,x=this.state.localEntries.toArray(),y=x.filter(function(L){return L.getType()!==c("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(L){return L.getUniqueID()}),z=c("MercuryConfig").MaxThreadResults,A=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode,B=A===c("MessengerRoomPrivacyMode").WHITELISTED_MODE,C=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!B,D=!this.props.excludeGroups&&y.length>0&&!B,E=!this.props.excludeGroups&&(!D||c("CurrentUser").isEmployee())&&!B,F=!c("gkx")("AT5THIpM4AckuNbWpijh61vC-OipSixPqueb6Cl8xvxjybMRxdw8oN5RZdz305TVhpkiPlzS7Sc53JEnbqyboPGn"),G=!this.props.excludePages&&!B,H=this.props.shouldQueryVCEndpoint&&(c("CurrentUser").isEmployee()||c("CurrentUser").isWorkUser())&&!B,I=this.props.shouldQueryInternalBot&&c("CurrentUser").isEmployee()&&c("CurrentUser").isWorkUser()&&!B,J=B,K=this.props.threadFBID;return{queryString:this.props.queryString,canViewerSendMoneyFilter:w,localEntryIDs:y,maxThreadResults:z,shouldQueryGroups:F,shouldQueryPages:G,shouldQueryThreadName:C,shouldQueryParticipantIDs:D,shouldQueryParticipantNames:E,shouldQueryVCEndpoint:H,shouldQueryInternalBot:I,shouldQueryRoomsAudience:B,shouldSkipQueryUsers:J,threadFBID:K}};v.propTypes={includeExistingParticipantIDs:o.bool,canViewerSendMoneyFilter:o.bool,enableMessageSearch:o.bool.isRequired,excludeGroups:o.bool.isRequired,excludePages:o.bool.isRequired,isFocused:o.bool.isRequired,hasHoverState:o.bool.isRequired,maxEntries:o.number.isRequired,onScrollIntoView:o.func.isRequired,onSelect:o.func.isRequired,originalEntryIDs:o.instanceOf(c("immutable").Set).isRequired,queryString:o.string.isRequired,roomAssociatedObject:o.object,selectedEntryIDs:o.instanceOf(c("immutable").Set).isRequired,shouldQueryInternalBot:o.bool.isRequired,shouldQueryVCEndpoint:o.bool.isRequired,threadFBID:o.string,typeaheadViewClassName:o.string.isRequired,viewer:o.string.isRequired};v.defaultProps={maxEntries:r,typeaheadViewClassName:""};f.exports=v}),null);
__d("MessengerScrollableArea.react",["cx","JSReliabilityFixesGatingConfig","React","ReactDOM","ScrollableArea.react","Style","UserAgent","clearImmediate","joinClasses","setImmediate","throttle"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=20;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),n.call(this),p}m.prototype.componentDidMount=function(){this.$MessengerScrollableArea2=c("setImmediate")(this.$MessengerScrollableArea4);this.$MessengerScrollableArea1=true;this.$MessengerScrollableArea3=c("throttle")(this.$MessengerScrollableArea5,50)};m.prototype.componentWillUnmount=function(){c("clearImmediate")(this.$MessengerScrollableArea2);this.$MessengerScrollableArea1=false};m.prototype.render=function(){return c("React").createElement(c("ScrollableArea.react"),{className:c("joinClasses")("_5f0v",this.props.className),height:this.props.height,onScroll:this.props.needsFastScrollHandler?this.$MessengerScrollableArea5:this.$MessengerScrollableArea3,ref:"scrollable",shadow:false,tabIndex:this.props.tabIndex,width:this.props.width},this.props.children)};m.prototype.scrollToPosition=function(o){var p=arguments.length<=1||arguments[1]===undefined?false:arguments[1],q=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],r=this.getArea();if(!r)return;r.setScrollTop(o,p,q)};m.prototype.isScrolledToBottomWithHeight=function(o){var p=this.getArea();if(!p)return false;return p.getScrollTop()+p.getClientHeight()+o>=p.getScrollHeight()-l};m.propTypes={needsFastScrollHandler:k.bool,onScroll:k.func,width:k.number};var n=function n(){__p&&__p();this.$MessengerScrollableArea1=false;this.$MessengerScrollableArea2=null;this.$MessengerScrollableArea5=function(){if(this.$MessengerScrollableArea1){var o;this.props.onScroll&&(o=this.props).onScroll.apply(o,arguments)}}.bind(this);this.$MessengerScrollableArea4=function(){__p&&__p();if(!c("UserAgent").isBrowser("IE"))return;if(c("JSReliabilityFixesGatingConfig").should_get_fix)if(!this.refs||!this.refs.scrollable)return;var o=this.refs.scrollable.refs.wrap,p=this.refs.scrollable.refs.body;if(!p||!o)return;p=c("ReactDOM").findDOMNode(p);o=c("ReactDOM").findDOMNode(o);var q=o.offsetWidth-o.clientWidth;if(q>0)c("Style").set(p,"margin-right",-q+"px")}.bind(this);this.getArea=function(){return this.refs.scrollable.getArea()}.bind(this);this.scrollToBottom=function(){var o=this.getArea();if(o)this.scrollToPosition(o.getScrollHeight())}.bind(this);this.scrollToTop=function(o){var p=this.getArea();if(p)p.scrollToTop(!!o)}.bind(this);this.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0)}.bind(this);this.isScrolledToTop=function(){var o=this.getArea();if(!o)return true;return o.getScrollTop()<=l}.bind(this);this.getScrollTop=function(){var o=this.getArea();if(!o)return 0;return o.getScrollTop()}.bind(this)};f.exports=m}),null);
__d("MessengerGraphQLSearchTypeahead.react",["cx","ix","Bootloader","BootloadOnRender.react","ContextualLayer.react","Event","Image.react","immutable","InstantGameContextType","JSResource","Keys","LazyComponent.react","MercuryIDs","MercuryThreadIDMap","MercuryThreads","MercuryTypeaheadConstants","MercuryVanityIDMap.bs","MessagingSourceEnum","MessengerActions","MessengerGraphQLTypeaheadView.react","MessengerScrollableArea.react","MessengerSearchFunnelLogger","MessengerSpinner.react","MessengerTypeaheadUtils","MNPlatformTagsDataManager","QuicksilverSources","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","clearImmediate","emptyFunction","joinClasses","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("MercuryThreadIDMap").get(),k=c("MercuryThreads").get(),l=c("React").PropTypes,m=i("86933"),n=30,o=100,p=c("React").createClass({displayName:"MessengerGraphQLSearchTypeahead",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],_input:null,_timer:null,_view:null,propTypes:{includeExistingParticipantIDs:l.bool,canViewerSendMoneyFilter:l.bool,className:l.string.isRequired,context:l.object,enableMessageSearch:l.bool.isRequired,excludeGroups:l.bool.isRequired,excludePages:l.bool.isRequired,hasHoverState:l.bool.isRequired,hideClearButton:l.bool.isRequired,hideResults:l.bool,isFacebookChat:l.bool.isRequired,isFocused:l.bool.isRequired,isTokenizer:l.bool.isRequired,onBackspace:l.func.isRequired,onBlur:l.func.isRequired,onChange:l.func.isRequired,onClear:l.func.isRequired,onClick:l.func.isRequired,onFocus:l.func.isRequired,onScrollIntoView:l.func.isRequired,onSelect:l.func.isRequired,originalEntryIDs:l.instanceOf(c("immutable").Set).isRequired,placeholder:l.string.isRequired,queryString:l.string.isRequired,roomAssociatedObject:l.object,scrollableViewClassName:l.string.isRequired,selectedEntryIDs:l.instanceOf(c("immutable").Set).isRequired,shouldQueryInternalBot:l.bool.isRequired,shouldQueryVCEndpoint:l.bool.isRequired,tabIndex:l.number,threadFBID:l.string,typeaheadViewClassName:l.string.isRequired,useLayer:l.bool.isRequired,viewer:l.string.isRequired,width:l.number},getInitialState:function q(){return{gameID:null}},getDefaultProps:function q(){return{includeExistingParticipantIDs:false,canViewerSendMoneyFilter:false,isFacebookChat:false,isTokenizer:false,onBackspace:c("emptyFunction"),onChange:c("emptyFunction"),onClear:c("emptyFunction"),onClick:c("emptyFunction"),onScrollIntoView:c("emptyFunction"),originalEntryIDs:c("immutable").Set(),placeholder:"",scrollableViewClassName:"",selectedEntryIDs:c("immutable").Set(),typeaheadViewClassName:"",useLayer:false}},componentDidMount:function q(){this._timer=c("setImmediate")(this._syncInputWidth)},componentDidUpdate:function q(){c("clearImmediate")(this._timer);this._timer=c("setImmediate")(this._syncInputWidth)},componentWillUnmount:function q(){c("clearImmediate")(this._timer)},renderLayers:function q(){if(!this.props.useLayer)return{};var r=null,s=null;if(this.props.context)r=this.props.context;else s=function(){return this._input}.bind(this);return{typeaheadView:c("React").createElement(c("ContextualLayer.react"),{context:r,contextRef:s,position:"below",shown:this.props.queryString&&this.props.isFocused,shouldSetARIAProperties:false},this._renderView())}},render:function q(){var r=this.props.useLayer?null:this._renderView();return c("React").createElement("div",{className:(!this.props.isTokenizer?"_3rh8":"")+(this.props.isTokenizer?" _3mkz":"")},c("React").createElement("span",{className:c("joinClasses")(this.props.className,"_58ah"+(this.props.hideResults?" _1a03":"")),onChange:this.props.onChange,onSelect:c("emptyFunction"),tabIndex:null},c("React").createElement("label",{className:"_58ak"},c("React").createElement("input",{autoComplete:"off",className:"_58al",disabled:this.props.hideResults,onBlur:this._handleBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:function(s){return this._handleKeyDown(s)}.bind(this),placeholder:this.props.placeholder,ref:function(s){return this._input=s}.bind(this),spellCheck:false,tabIndex:this.props.tabIndex,type:"text",value:this.props.queryString})),r),c("React").createElement(c("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _2xme",src:m}),c("React").createElement("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true"},this.props.queryString||this.props.placeholder),this._renderGame())},focusInput:function q(){this._input&&this._input.focus()},_onClear:function q(){this._logClearContentSearch();this.props.onClear()},_syncInputWidth:function q(){if(!this.props.isTokenizer)return;var r=c("ReactDOM").findDOMNode(this.refs.textSizeProxy),s=r?r.offsetWidth:0;if(s===0)return;if(this._input)this._input.style.width=s+"px"},_renderGame:function q(){if(!this.state.gameID)return null;return c("React").createElement(c("BootloadOnRender.react"),{loader:c("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGraphQLSearchTypeahead.react"),placeholder:c("React").createElement(c("MessengerSpinner.react"),null),component:c("React").createElement(c("LazyComponent.react"),{initialContextType:c("InstantGameContextType").SOLO,initialContextSourceID:null,initialGameID:this.state.gameID,onHide:this._handleHideGame,initialSource:c("QuicksilverSources").MESSENGER_GAME_SEARCH,sourceID:null})})},_renderView:function q(){if(!this.props.queryString&&!this.props.isFocused)return null;var r=this.props.isTokenizer?n:o,s=c("React").createElement(c("MessengerGraphQLTypeaheadView.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,isFocused:this.props.isFocused,hasHoverState:this.props.hasHoverState,maxEntries:r,onScrollIntoView:this._handleScrollIntoView,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(t){return this._view=t}.bind(this),roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer});if(this.props.isTokenizer)return c("React").createElement(c("MessengerScrollableArea.react"),{className:this.props.scrollableViewClassName,ref:"scrollable",width:this.props.width},s);else return s},_handleScrollIntoView:function q(r){if(!r)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(r);return}if(this.refs.scrollable)c("MessengerTypeaheadUtils").scrollEntryIntoView(r,this.refs.scrollable)},_handleSelect:function q(r,event){__p&&__p();event&&event.preventDefault();var s=r.getUniqueID(),t=r.getType(),u=r.getAuxiliaryData().alias;if(u)c("MercuryVanityIDMap.bs").set(u,c("MercuryIDs").getParticipantIDFromUserID(s));if(t===c("MercuryTypeaheadConstants").SEARCH_TYPE){c("MessengerSearchFunnelLogger").logContentSearchInitiation("WWW_MESSENGER_SEARCH_SESSION_FUNNEL",this.props.queryString);this._logSearchAllThreads(this.props.queryString);c("MessengerActions").changeQueryAll(this.props.queryString)}else if(t===c("MercuryTypeaheadConstants").GAME_TYPE)this.setState({gameID:s});else if(t===c("MercuryTypeaheadConstants").THREAD_TYPE)j.getClientIDFromServerID(s,function(v){return this.props.onSelect(v,t,r)}.bind(this));else{k.getThreadMeta(c("MercuryIDs").getThreadIDFromUserID(s),function(v){return this.props.onSelect(v.thread_id,t,r)}.bind(this));c("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(c("MessagingSourceEnum").MESSENGER_WEB_SEARCH,s)}},_handleHideGame:function q(){this.setState({gameID:null})},_handleKeyDown:function q(r){var s=r.keyCode;if(s===c("Keys").DOWN||s===c("Keys").UP||s===c("Keys").RETURN)this._view&&this._view.onKeyDown&&this._view.onKeyDown(s,r);else if(s===c("Keys").BACKSPACE)this.props.onBackspace(r);else if(s===c("Keys").ESC)this._input&&this._input.blur();else if(s===c("Keys").RETURN)r.preventDefault()},_handleBlur:function q(){var r=null,s=c("Event").listen(window,"blur",function(){s.remove();c("clearImmediate")(r)});r=c("setImmediate")(function(){s.remove();this.props.onBlur()}.bind(this))},_logClearContentSearch:function q(){c("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(r,s){r&&r.endFunnel(s.FUNNEL_LOGGER_TAGS.END_WITH_X_BUTTON)},"MessengerGraphQLSearchTypeahead.react")},_logSearchAllThreads:function q(r){c("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(s,t){s.startFunnel(r,t.FUNNEL_LOGGER_TAGS.SEARCH_ALL_THREADS)},"MessengerGraphQLSearchTypeahead.react")}});f.exports=p}),null);
__d("MessengerTokenizerToken.react",["cx","Keys","React","SearchableEntry","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=100;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerTokenizerToken2=function(event){if(event.keyCode===c("Keys").BACKSPACE){event.preventDefault();this.props.onRemove&&this.props.onRemove(this.props.entry)}}.bind(this),o}m.prototype.render=function(){return c("React").createElement("span",{className:c("joinClasses")(this.props.className,"_14-8"),label:null,onClick:this.$MessengerTokenizerToken1,onKeyDown:this.$MessengerTokenizerToken2,role:"option",tabIndex:this.props.index+l},c("React").createElement("span",{"aria-label":this.props.label,title:this.props.label,className:"_14-9"},this.props.label))};m.prototype.$MessengerTokenizerToken1=function(event){event.stopPropagation()};m.propTypes={className:k.string,entry:k.instanceOf(c("SearchableEntry")),index:k.number,label:k.string.isRequired,onRemove:k.func};f.exports=m}),null);
__d("MessengerGraphQLTokenizer.react",["cx","invariant","immutable","MessengerGraphQLSearchTypeahead.react","MessengerTokenizerToken.react","React","joinClasses","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerGraphQLTokenizer1=true,this.state={focused:this.props.autoFocus,queryString:""},this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput()}.bind(this),this.$MessengerGraphQLTokenizer4=function(){if(!this.$MessengerGraphQLTokenizer1)return;this.setState({focused:false})}.bind(this),this.$MessengerGraphQLTokenizer8=function(){if(!this.$MessengerGraphQLTokenizer1)return;this.setState({focused:true})}.bind(this),this.$MessengerGraphQLTokenizer5=function(event){if(this.state.queryString||this.props.entries.size===0)return;this.$MessengerGraphQLTokenizer10(this.props.entries.last());event.preventDefault();c("setImmediate")(this.focusInput)}.bind(this),this.$MessengerGraphQLTokenizer6=function(event){event.target instanceof HTMLInputElement||i(0);if(!this.$MessengerGraphQLTokenizer1)return;this.setState({queryString:event.target.value})}.bind(this),this.$MessengerGraphQLTokenizer7=function(){if(!this.$MessengerGraphQLTokenizer1)return;this.setState({queryString:""});this.props.onClear&&this.props.onClear()}.bind(this),this.$MessengerGraphQLTokenizer9=function(s,t,u){__p&&__p();if(!this.$MessengerGraphQLTokenizer1)return;var v=this.props.entries,w=u.getUniqueID();if(this.props.originalEntryIDs.contains(w))return;else if(v.some(function(x){return x.getUniqueID()===w})){this.$MessengerGraphQLTokenizer10(u);return}this.props.onAddEntryAttempt(u);this.setState({queryString:""})}.bind(this),this.$MessengerGraphQLTokenizer10=function(s){this.props.onRemoveEntryAttempt(s)}.bind(this),this.$MessengerGraphQLTokenizer3=function(s){this.focusInput()}.bind(this),o}m.prototype.componentDidMount=function(){this.$MessengerGraphQLTokenizer1=true;if(this.props.autoFocus)c("setImmediate")(this.focusInput)};m.prototype.componentWillUnmount=function(){this.$MessengerGraphQLTokenizer1=false};m.prototype.render=function(){var n=this.props.entries.map(function(q,r){return this.$MessengerGraphQLTokenizer2(q,r)}.bind(this)),o=n.size>0?"":this.props.placeholder,p=this.props.forceHideClearButton||this.state.queryString===""&&this.props.entries.isEmpty();return c("React").createElement("div",null,c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_14-7")},c("React").createElement("div",{className:c("joinClasses")("_58-2","clearfix"),onClick:this.$MessengerGraphQLTokenizer3},n,c("React").createElement(c("MessengerGraphQLSearchTypeahead.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,hasHoverState:this.props.hasHoverState,hideClearButton:p,isFacebookChat:false,isFocused:this.state.focused,isTokenizer:true,onBlur:this.$MessengerGraphQLTokenizer4,onBackspace:this.$MessengerGraphQLTokenizer5,onChange:this.$MessengerGraphQLTokenizer6,onClear:this.$MessengerGraphQLTokenizer7,onFocus:this.$MessengerGraphQLTokenizer8,onSelect:this.$MessengerGraphQLTokenizer9,originalEntryIDs:this.props.originalEntryIDs,placeholder:o,queryString:this.state.queryString,ref:"typeahead",roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:c("immutable").Seq(this.props.entries).map(function(q){return q.getUniqueID()}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width}))),this.state.queryString===""&&!this.state.focused?this.props.defaultEntries:null)};m.prototype.$MessengerGraphQLTokenizer2=function(n,o){return c("React").createElement(c("MessengerTokenizerToken.react"),{className:"_2ei6",key:n.getUniqueID(),label:n.getTitle(),entry:n,index:o,onRemove:this.$MessengerGraphQLTokenizer10})};m.propTypes={autoFocus:l.bool.isRequired,canViewerSendMoneyFilter:l.bool,includeExistingParticipantIDs:l.bool,className:l.string.isRequired,context:l.object,defaultEntries:l.element,enableMessageSearch:l.bool.isRequired,entries:l.instanceOf(c("immutable").List).isRequired,excludeGroups:l.bool.isRequired,excludePages:l.bool.isRequired,forceHideClearButton:l.bool,hasHoverState:l.bool.isRequired,onAddEntryAttempt:l.func.isRequired,onClear:l.func,onRemoveEntryAttempt:l.func.isRequired,originalEntryIDs:l.instanceOf(c("immutable").Set).isRequired,placeholder:l.node.isRequired,roomAssociatedObject:l.object,scrollableViewClassName:l.string.isRequired,shouldQueryInternalBot:l.bool.isRequired,shouldQueryVCEndpoint:l.bool.isRequired,tabIndex:l.number,threadFBID:l.string,useLayer:l.bool.isRequired,viewer:l.string.isRequired,width:l.number.isRequired};f.exports=m}),null);
__d("MessengerTabIndices",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({NEW_MESSAGE_TOKENIZER:9998,COMPOSER_INPUT:9999});f.exports=h}),null);
__d("MessengerComposeViewHeader.react",["cx","fbt","immutable","MessengerGraphQLTokenizer.react","MessengerTabIndices","React","clearImmediate","joinClasses","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=320;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={tokenizerContext:null,excludeGroups:false,excludePages:false,forGroup:false},this.$MessengerComposeViewHeader1=null,this.$MessengerComposeViewHeader2=function(){this.$MessengerComposeViewHeader1=c("setImmediate")(function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput()}.bind(this))}.bind(this),p}n.prototype.componentDidMount=function(){this.$MessengerComposeViewHeader2();this.setState({tokenizerContext:this.refs.tokenizerContext})};n.prototype.componentDidUpdate=function(o){if(this.props.recipients!==o.recipients)this.props.onResize()};n.prototype.componentWillReceiveProps=function(o){if(o.recipients!==this.props.recipients)if(o.recipients.size===0)this.setState({excludeGroups:false,excludePages:false,forGroup:false});else if(o.isWorkUser)this.setState({excludeGroups:true,excludePages:false,forGroup:true});else this.setState({excludeGroups:true,excludePages:true,forGroup:true})};n.prototype.componentWillUnmount=function(){this.$MessengerComposeViewHeader1&&c("clearImmediate")(this.$MessengerComposeViewHeader1)};n.prototype.render=function(){var o={enableMessageSearch:false,hasHoverState:true,originalEntryIDs:c("immutable").Set(),scrollableViewClassName:"_2y8_",shouldQueryInternalBot:true,shouldQueryVCEndpoint:false,width:m};return c("React").createElement("div",{className:c("joinClasses")("_2y8y _5l-3",this.props.className),onClick:this.$MessengerComposeViewHeader2,role:"presentation"},c("React").createElement("div",{className:"_2y8z"},i._("To:")),c("React").createElement("div",{className:"_66s6"},c("React").createElement(c("MessengerGraphQLTokenizer.react"),babelHelpers["extends"]({autoFocus:true,className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,excludeGroups:this.state.excludeGroups,excludePages:this.state.excludePages,forGroup:this.state.forGroup,forceHideClearButton:this.props.forceHideClearButton,onAddEntryAttempt:this.props.onAddRecipient,onClear:this.props.onClear,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:i._("Type the name of a person or group"),ref:"tokenizer",tabIndex:c("MessengerTabIndices").NEW_MESSAGE_TOKENIZER,useLayer:true,viewer:this.props.viewer},o)),c("React").createElement("div",{ref:"tokenizerContext"})))};n.propTypes={forceHideClearButton:l.bool.isRequired,onAddRecipient:l.func.isRequired,onClear:l.func,onRemoveRecipient:l.func.isRequired,onResize:l.func.isRequired,recipients:l.instanceOf(c("immutable").List).isRequired,viewer:l.string.isRequired,isWorkUser:l.bool.isRequired};n.defaultProps={isWorkUser:false};f.exports=n}),null);
__d("MessengerSignals.bs",["EventEmitter"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("EventEmitter"))(),i="resize";function j(){h.emit(i);return 0}function k(l){return h.addListener(i,l)}g.emitter=h;g.resizeEvent=i;g.resize=j;g.onResize=k}),null);
__d("MessengerFlexArea.react",["cx","CSS","Event","MessengerSignals.bs","React","ReactDOM","ResponsiveBlock.react","Style","SubscriptionsHandler","Vector","getElementRect","getScrollPosition","gkx","joinClasses","throttle"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"MessengerFlexArea",propTypes:{beforeResize:i.func,onResize:i.func},_subscriptions:null,_onResizeTimeout:null,getInitialState:function k(){return{height:0}},componentDidMount:function k(){var l=new(c("SubscriptionsHandler"))();l.addSubscriptions(c("Event").listen(window,"resize",c("throttle")(this.recalculateHeight,51)),c("MessengerSignals.bs").onResize(function(){this.recalculateHeight()}.bind(this)));this._subscriptions=l;this.recalculateHeight()},componentWillUnmount:function k(){this._subscriptions&&this._subscriptions.release();clearTimeout(this._onResizeTimeout)},render:function k(){return c("React").createElement(c("ResponsiveBlock.react"),{className:c("joinClasses")(this.props.className,"_9hq"+(c("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk")?" _1aza":"")),onResize:this._handleResponsiveBlockResize,style:{height:this.state.height+"px"}},this.props.children)},recalculateHeight:function k(){__p&&__p();if(!this.isMounted())return;var l=c("ReactDOM").findDOMNode(this),m=l.parentNode,n=this.state.height,o=c("Vector").getViewportDimensions().y,p=false;if(m&&c("Style").get(m,"display")==="none"){c("Style").set(m,"display","initial");p=true}var q=false;if(m instanceof Element&&c("CSS").hasClass(m,"hidden_elem")){c("CSS").removeClass(m,"hidden_elem");q=true}o-=c("Vector").getElementPosition(m||l).y;var r=c("getScrollPosition")(window);o+=r.y;if(m){Array.from(m.childNodes).forEach(function(s){if(s.nodeType===Node.COMMENT_NODE||c("Style").get(s,"position")==="absolute")return;o-=c("getElementRect")(s).height});o+=c("getElementRect")(l).height}if(p)c("Style").set(m,"display","");if(q&&m instanceof Element)c("CSS").addClass(m,"hidden_elem");if(isNaN(o)||o<0)o=0;if(o!==n){this.props.beforeResize&&this.props.beforeResize();this.setState({height:o},this.props.onResize)}},_handleResponsiveBlockResize:c("throttle")(function(k,l){if(!this.isMounted())return;if(l===this.state.height){this.props.beforeResize&&this.props.beforeResize();clearTimeout(this._onResizeTimeout);if(this.props.onResize)this._onResizeTimeout=setTimeout(this.props.onResize,0)}},51)});f.exports=j}),null);
__d("MessengerFlexScrollableArea.react",["csx","DOM","Event","MessengerFlexArea.react","MessengerScrollableArea.react","MutationObserver","Parent","React","ReactDOM","gkx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=".img:not(.loaded)",m="loaded",n="._2poz";i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={shouldTrackBottom:this.props.shouldStickToBottom},this.$MessengerFlexScrollableArea5=function(u){if(!c("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk"))return;u.forEach(function(v){if(v.addedNodes.length>0){v.addedNodes.forEach(function(w){this.$MessengerFlexScrollableArea3(w)}.bind(this));this.trackBottomIfRequired()}}.bind(this))}.bind(this),this.$MessengerFlexScrollableArea8=function(){this.props.onScroll&&this.props.onScroll();if(!this.props.shouldStickToBottom)return;this.$MessengerFlexScrollableArea9()}.bind(this),this.$MessengerFlexScrollableArea7=function(){this.trackBottomIfRequired()}.bind(this),q}o.prototype.componentDidMount=function(){this.props.onMount&&this.props.onMount();if(this.props.shouldStickToBottom){this.$MessengerFlexScrollableArea3(c("ReactDOM").findDOMNode(this.refs.scrollable));this.$MessengerFlexScrollableArea4()}};o.prototype.$MessengerFlexScrollableArea4=function(){if(!c("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk"))return;this.$MessengerFlexScrollableArea1=new(c("MutationObserver"))(this.$MessengerFlexScrollableArea5);var p=c("ReactDOM").findDOMNode(this.refs.scrollable);this.$MessengerFlexScrollableArea1.observe(p,{childList:true,subtree:true})};o.prototype.$MessengerFlexScrollableArea3=function(p){__p&&__p();if(!c("gkx")("AT7X8zD-9DNn0OeQ0S5-rozrySawyX8ZP8Z_NFsQBL8WAUNZhO-HKIM8cWBdfNilWyfk5H-Q_oFDDxJhsL4ycAkk"))return;this.$MessengerFlexScrollableArea6(p).forEach(function(q){c("DOM").scry(q,l).forEach(function(r){if(r.complete){r.classList.add(m);return}var s=c("Event").listen(r,"load",function(){r.classList.add(m);this.trackBottomIfRequired();s.remove()}.bind(this))}.bind(this))}.bind(this))};o.prototype.$MessengerFlexScrollableArea6=function(p){var q=c("DOM").scry(p,n);if(q.length===0){var r=c("Parent").bySelector(p,n);if(r)q=q.concat(r)}return q};o.prototype.componentWillUnmount=function(){this.$MessengerFlexScrollableArea1&&this.$MessengerFlexScrollableArea1.disconnect()};o.prototype.render=function(){return c("React").createElement(c("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$MessengerFlexScrollableArea7,ref:"flexArea"},this.props.flexChildren,c("React").createElement(c("MessengerScrollableArea.react"),{height:"100%",needsFastScrollHandler:this.state.shouldTrackBottom,onScroll:this.$MessengerFlexScrollableArea8,ref:"scrollable",tabIndex:this.props.tabIndex},this.props.children),this.props.footerChildren)};o.prototype.$MessengerFlexScrollableArea9=function(){if(this.isScrolledToBottom()){this.setState({shouldTrackBottom:true});this.$MessengerFlexScrollableArea10()}else{this.setState({shouldTrackBottom:false});this.$MessengerFlexScrollableArea11()}};o.prototype.$MessengerFlexScrollableArea10=function(){if(!this.props.useScrollProtection)return;this.$MessengerFlexScrollableArea11();this.$MessengerFlexScrollableArea2=setInterval(function(){this.trackBottomIfRequired()}.bind(this),500)};o.prototype.$MessengerFlexScrollableArea11=function(){if(this.$MessengerFlexScrollableArea2)clearInterval(this.$MessengerFlexScrollableArea2)};o.prototype.getArea=function(){return this.refs.scrollable&&this.refs.scrollable.getArea()};o.prototype.handleResize=function(){this.refs.flexArea&&this.refs.flexArea.recalculateHeight()};o.prototype.trackBottomIfRequired=function(){if(this.state.shouldTrackBottom)this.scrollToBottom()};o.prototype.scrollToBottom=function(){this.refs.scrollable&&this.refs.scrollable.scrollToBottom()};o.prototype.scrollToTop=function(p){this.refs.scrollable&&this.refs.scrollable.scrollToTop(p)};o.prototype.scrollToPosition=function(p,q,r){this.refs.scrollable&&this.refs.scrollable.scrollToPosition(p,q,r)};o.prototype.isScrolledToBottom=function(){var p=this.refs.scrollable;return p?p.isScrolledToBottom():true};o.prototype.isScrolledToBottomWithHeight=function(p){return this.refs.scrollable.isScrolledToBottomWithHeight(p)};o.prototype.isScrolledToTop=function(){return this.refs.scrollable&&this.refs.scrollable.isScrolledToTop()};o.prototype.getScrollTop=function(){return this.refs.scrollable&&this.refs.scrollable.getScrollTop()||0};o.propTypes={flexChildren:k.node,footerChildren:k.node,onMount:k.func,onScroll:k.func,shouldStickToBottom:k.bool,tabIndex:k.number,useScrollProtection:k.bool};f.exports=o}),null);
__d("MessengerRTCGroupCallContactListItem.react",["cx","fbt","ix","FBRTCParticipantCallState","Image.react","Link.react","MessengerContactImageReact.bs","React","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=c("MessengerContactImageReact.bs").jsComponent,m=(k={},k[c("FBRTCParticipantCallState").DISCONNECTED]=i._("Disconnected"),k[c("FBRTCParticipantCallState").NO_ANSWER]=i._("No Answer"),k[c("FBRTCParticipantCallState").REJECTED]=i._("Rejected"),k[c("FBRTCParticipantCallState").UNREACHABLE]=i._("Unreachable"),k[c("FBRTCParticipantCallState").CONNECTION_DROPPED]=i._("Connection Dropped"),k[c("FBRTCParticipantCallState").CONTACTING]=i._("Contacting..."),k[c("FBRTCParticipantCallState").RINGING]=i._("Ringing..."),k[c("FBRTCParticipantCallState").CONNECTING]=i._("Connecting..."),k[c("FBRTCParticipantCallState").CONNECTED]=i._("Connected"),k[c("FBRTCParticipantCallState").PARTICIPANT_LIMIT_REACHED]=i._("Participant Limit Reached"),k[c("FBRTCParticipantCallState").IN_ANOTHER_CALL]=i._("In Another Call"),k),n=32,o=function o(s){var t=s.isSelected,u=s.onClick,v=s.user,w=s.participantState;return c("React").createElement(c("Link.react"),{"aria-checked":t,className:"_4nvn",onClick:r(w)?c("emptyFunction"):u,role:"checkbox"},c("React").createElement(l,{className:"_4nvr",isMessengerUser:v.isMessengerUser,isPartiesUser:v.isPartiesUser,size:n,src:v.profilePictureUrl}),c("React").createElement("div",{className:"_4nvs"},c("React").createElement("div",{className:"_4nvt"},c("React").createElement("div",{className:"_4nv_"},v.userName),c("React").createElement(p,{user:v,participantState:w})),c("React").createElement(q,{isSelected:t,participantState:w})))},p=function p(s){var t=s.user,u=s.participantState;if(u){var v=m[u.state]||i._("Unknown");return c("React").createElement("div",{className:"_4nw0"},v)}if(t.vanity)return c("React").createElement("div",{className:"_4nw0"},"@",t.vanity);return null},q=function q(s){var t=s.isSelected,u=s.participantState;if(r(u))return c("React").createElement("div",{className:"_1j79"},i._("In Call"));else if(t)return c("React").createElement("div",{className:"_1j79"},c("React").createElement(c("Image.react"),{src:j("86852")}));return null};function r(s){if(!s)return false;switch(s.state){case c("FBRTCParticipantCallState").CONTACTING:case c("FBRTCParticipantCallState").RINGING:case c("FBRTCParticipantCallState").CONNECTING:case c("FBRTCParticipantCallState").CONNECTED:return true;default:return false}}f.exports=o}),null);
__d("MessengerRTCGroupCallContactList.react",["cx","immutable","MessengerRTCGroupCallContactListItem.react","MessengerScrollableArea.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){var k=j.isParticipantSelected,l=j.onClick,m=j.remoteUsers,n=j.participantStates,o=n===undefined?c("immutable").Map():n,p=m.map(function(q){return c("React").createElement(c("MessengerRTCGroupCallContactListItem.react"),{isSelected:k.get(q.FBID),key:q.FBID,onClick:function(r){function l(){return r.apply(this,arguments)}l.toString=function(){return r.toString()};return l}(function(){return l(q.FBID)}),user:q,participantState:o.get(q.FBID)})});return c("React").createElement(c("MessengerScrollableArea.react"),{className:"_12zw"},p)};f.exports=i}),null);
__d("MessengerRTCGroupCallRingParticipantsRow.react",["cx","fbt","React","intlList"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=function j(k){var l=k.names;return c("React").createElement("div",{className:"_1wsd"},c("React").createElement("div",{className:"_1wse"},i._("Ring:")),c("React").createElement("div",{className:"_1wsg"},c("intlList")(l,c("intlList").CONJUNCTIONS.NONE)))};f.exports=j}),null);
__d("RTCCallTitle.react",["immutable","MercuryIDs","MercuryParticipantListRenderer","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(i){var j=i.viewer,k=i.participants,l=i.className,m=c("MercuryIDs").getParticipantIDFromUserID(j),n=Object.keys(k.toJS());if(n.length>1)n=n.filter(function(q){return q!=m});var o=n.map(function(q){return k.get(q)}),p=new(c("MercuryParticipantListRenderer"))().setUseShortName(false).setUseAndSeparator(false).renderParticipantList(o);return c("React").createElement("span",{className:l},p)};f.exports=h}),null);
__d("MessengerRTCGroupCallThreadRow.react",["cx","fbt","MercuryParticipantsImage.react","MercuryThreadTitle.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("MessengerProfileImageWrapperReact.bs").jsComponent,k=c("MessengerThreadImageReact.bs").jsComponent,l=function l(p){var q=p.displayAddMemberWarning,r=p.participants,s=p.thread,t=p.viewerID;return c("React").createElement("div",{className:"_5y31"},c("React").createElement(k,{className:"_5y32",participants:r,thread:s,viewer:t}),c("React").createElement("div",{className:"_5y34"},c("React").createElement(c("MercuryThreadTitle.react"),{className:"_5y37",thread:s,viewer:t}),c("React").createElement(n,{displayAddMemberWarning:q})))},m=function m(p){var q=p.displayAddMemberWarning,r=p.participants,s=p.thread,t=p.viewerID;return c("React").createElement("div",{className:"_5y31"},c("React").createElement(j,{className:"_5y32",showBadge:false},c("React").createElement(c("MercuryParticipantsImage.react"),{participants:Object.keys(r.toJS()),size:50})),c("React").createElement("div",{className:"_5y34"},c("React").createElement(c("RTCCallTitle.react"),{className:"_5y37",participants:r,viewer:t}),c("React").createElement(n,{displayAddMemberWarning:q})))},n=function n(p){var q=p.displayAddMemberWarning;return q?c("React").createElement("div",{className:"_1apf"},i._("People you add to this group video will see previous messages in this conversation.")):null},o=function o(p){var q=p.thread,r=babelHelpers.objectWithoutProperties(p,["thread"]);return q?c("React").createElement(l,babelHelpers["extends"]({thread:q},r)):c("React").createElement(m,babelHelpers["extends"]({thread:q},r))};f.exports=o}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialog.react",["cx","fbt","invariant","FBRTCCore","immutable","ImmutableObject","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeader.react","MessengerDialogTitle.react","MessengerRTCFunnelLogger","MessengerRTCGroupCallContactList.react","MessengerRTCGroupCallRingParticipantsRow.react","MessengerRTCGroupCallThreadRow.react","React","RTCUser","URI"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=460,o=5;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){__p&&__p();l.constructor.call(this,q);this.state={isParticipantSelected:this.props.participants.mapEntries(function(s){var t=s[0],u=s[1];return[u.fbid?u.fbid:t,this.props.participants.size<=o]}.bind(this))};this.$MessengerRTCGroupCallParticipantsPickerDialog3=function(){var s=this.$MessengerRTCGroupCallParticipantsPickerDialog4().map(function(t){return t.fbid});c("MessengerRTCFunnelLogger").appendAction("participant_picker_click_call");if(this.props.handleCall)this.props.handleCall(s);else c("FBRTCCore").startGroupCall({conferenceName:this.props.conferenceName,hasVideo:this.props.hasVideo,trigger:this.props.trigger,usersToRing:s});this.props.onUnmount()}.bind(this);var r=this.props.participants.valueSeq().toArray().map(function(s){var t=s.big_image_src||s.image_src;s.fbid||j(0);return new(c("RTCUser"))({FBID:s.fbid,profileUrl:new(c("URI"))(s.href),profilePictureUrl:t,isMessengerUser:!!s.is_messenger_user,isPartiesUser:!!s.is_parties_user,userName:s.name,userShortName:s.short_name,vanity:s.vanity||""})});this.$MessengerRTCGroupCallParticipantsPickerDialog1=r.sort(function(s,t){return s.userName.localeCompare(t.userName)})}p.prototype.render=function(){var q=this.props,r=q.participants,s=q.thread,t=q.viewerID;return c("React").createElement(c("MessengerDialog.react"),{onToggle:function(){c("MessengerRTCFunnelLogger").endFunnel("participant_picker_dismissed");this.props.onUnmount&&this.props.onUnmount()}.bind(this),type:"default",width:n},c("React").createElement("div",{className:"_2m1r"},c("React").createElement(c("MessengerDialogHeader.react"),null,c("React").createElement(c("MessengerDialogCancelButton.react"),{onClick:this.$MessengerRTCGroupCallParticipantsPickerDialog2}),c("React").createElement(c("MessengerDialogTitle.react"),null,i._("Ring Group Members")),c("React").createElement(c("MessengerDialogButton.react"),{label:i._("Call"),onClick:this.$MessengerRTCGroupCallParticipantsPickerDialog3,disabled:this.$MessengerRTCGroupCallParticipantsPickerDialog4().length===0,type:"primary"})),c("React").createElement(c("MessengerRTCGroupCallThreadRow.react"),{participants:r,thread:s,viewerID:t}),c("React").createElement(c("MessengerRTCGroupCallRingParticipantsRow.react"),{names:this.$MessengerRTCGroupCallParticipantsPickerDialog4().map(function(u){var v=u.name;return v}).sort(function(u,v){return u.localeCompare(v)})}),c("React").createElement(c("MessengerRTCGroupCallContactList.react"),{remoteUsers:this.$MessengerRTCGroupCallParticipantsPickerDialog1,isParticipantSelected:this.state.isParticipantSelected,onClick:function(u){this.setState({isParticipantSelected:this.state.isParticipantSelected.set(u,!this.state.isParticipantSelected.get(u))})}.bind(this)})))};p.prototype.$MessengerRTCGroupCallParticipantsPickerDialog2=function(){c("MessengerRTCFunnelLogger").appendAction("participant_picker_click_cancel")};p.prototype.$MessengerRTCGroupCallParticipantsPickerDialog4=function(){return this.props.participants.filter(function(q,r){return this.state.isParticipantSelected.get(q.fbid?q.fbid:r)}.bind(this)).toArray()};p.propTypes={participants:m.instanceOf(c("immutable").Map).isRequired,thread:m.instanceOf(c("ImmutableObject")),viewerID:m.string.isRequired,trigger:m.string.isRequired,conferenceName:m.string.isRequired,hasVideo:m.bool.isRequired,handleCall:m.func,onUnmount:m.func.isRequired};f.exports=p}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialogController",["DOM","MessengerRTCGroupCallParticipantsPickerDialog.react","React","ReactDOM"],(function a(b,c,d,e,f,g){"use strict";var h={_container:c("DOM").create("div"),render:function i(j){var k=j.participants,l=j.thread,m=j.viewerID,n=j.trigger,o=j.conferenceName,p=j.hasVideo,q=j.handleCall;c("ReactDOM").render(c("React").createElement(c("MessengerRTCGroupCallParticipantsPickerDialog.react"),{participants:k,thread:l,viewerID:m,trigger:n,conferenceName:o,hasVideo:p,handleCall:q,onUnmount:function(){return this._onUnmount()}.bind(this)}),this._container)},_onUnmount:function i(){c("ReactDOM").unmountComponentAtNode(this._container)}};f.exports=h}),null);
__d("MessengerDialogBodyReact.bs",["cx","ReasonReact.bs","joinClasses","bs_js_primitive"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("ReasonReact.bs").statelessComponent("MessengerDialogBodyReact");function j(l,m){var n=l?l[0]:"",o=i.slice();o[9]=function(){return c("ReasonReact.bs").createDomElement("div",{className:c("joinClasses")("_4eb-",n)},m)};return o}var k=c("ReasonReact.bs").wrapReasonForJs(i,function(l){return j(c("bs_js_primitive").null_undefined_to_opt(l.className),l.children)});g.component=i;g.make=j;g.jsComponent=k}),null);
__d("MessengerDialogs.bs",["bs_list","bs_curry"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=[0],i=[0];function j(){var o=i[0],p=h[0];if(o){var q=o[0];if(c("bs_list").length(p)>0)return c("bs_curry")._1(q,[p]);else return c("bs_curry")._1(q,0)}else return 0}function k(o){i[0]=[o];return j(0)}function l(o){h[0]=[o,h[0]];return j(0)}function m(){var o=h[0];h[0]=o?o[1]:0;return j(0)}function n(){h[0]=0;return j(0)}g.visibleDialogs=h;g.setDialogComponentState=i;g.updateComponent=j;g.addHandler=k;g.showDialog=l;g.removeDialog=m;g.removeAllDialogs=n}),null);
__d("PhotoUtils",["Event","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h={getImagesFromData:function i(j){var k=[];for(var l in j)if(l.indexOf("image")===0)k.push(j[l]);return k},getFBIDFromData:function i(j){return j&&j.id},getOriginalImageFromData:function i(j){return j.original||j.download_image},getDownloadURLFromData:function i(j){var k=this.getOriginalImageFromData(j);if(!k)return null;var l=new(c("URI"))(k.uri);l.addQueryData({dl:1});return l},getPermalinkFromData:function i(j){return j.permalink},canViewerMakeCoverPhoto:function i(j){return!!j.can_viewer_make_cover_photo},getCoverPhotoURLFromData:function i(j){return new(c("URI"))("/profile.php").addQueryData({preview_cover:h.getFBIDFromData(j)})},preload:function i(j,k,l){var m=j.getDimensions();for(var n=0;n<k.length;++n){var o=m.getBestFitImageFromPhoto(k[n],m.getMaxStageDimensions()),p=new Image();l&&c("Event").listen(p,"load",l.bind(null,k[n]));j.getLogger().log(o.uri);p.src=o.uri}}};f.exports=h}),null);
__d("SpotlightViewer",["cx","React","Spotlight.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";if(!this.props.open)return null;var l="_n3";if(this.props.className)l+=" "+this.props.className;return c("React").createElement(c("Spotlight.react"),{onBeforeHide:this.props.onBeforeHide,onHide:this.props.onHide,rootClassName:this.props.rootClassName,shown:this.props.open,key:"photoLayer"},c("React").createElement("div",{className:l,onClick:this.props.onClick,role:"presentation"},this.props.children))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("SpotlightViewerImage",["cx","Image.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this,l);this.$SpotlightViewerImage3=function(){this.setState({loading:false})}.bind(this);this.state={loading:true}}k.prototype.componentWillReceiveProps=function(l){"use strict";if(l.src!==this.props.src)this.setState({loading:true})};k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_4-od"},this.$SpotlightViewerImage1(),this.$SpotlightViewerImage2())};k.prototype.$SpotlightViewerImage1=function(){"use strict";if(!this.state.loading)return null;return c("React").createElement(c("XUISpinner.react"),{className:"_enh",size:"large"})};k.prototype.$SpotlightViewerImage2=function(){"use strict";return c("React").createElement("div",{className:this.state.loading?"_eni":""},c("React").createElement(c("Image.react"),{onLoad:this.$SpotlightViewerImage3,src:this.props.src,style:{width:this.props.dimensions.x||"",height:this.props.dimensions.y||""}}))};f.exports=k}),null);
__d("SpotlightViewport",["csx","cx","Locale","Parent","React","ReactDOM","Vector","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"SpotlightViewport",propTypes:{stageDimensions:j.object.isRequired,useWidth:j.bool},PAGE_TO_PREV_PERCENTAGE:.2,sections:{NONE:null,FORWARD:1,BACKWARD:2},timer:null,getInitialState:function l(){return{currentActiveSection:this.sections.NONE,active:true}},componentDidMount:function l(){this._onMouseEnter()},componentWillUnmount:function l(){if(this.props.fadeInNOut)clearTimeout(this.timer)},_onMouseMove:function l(event){__p&&__p();var m=c("ReactDOM").findDOMNode(this),n=c("Vector").getEventPosition(event.nativeEvent),o=c("Vector").getElementPosition(m),p=this.props.useWidth?this.props.stageDimensions.x:c("Vector").getElementDimensions(m).x;if(this.props.fadeInNOut)if(this._isMouseOverActionBars(n))clearTimeout(this.timer);else this._onMouseEnter();var q,r=n.x-o.x,s=r/p;if(c("Locale").isRTL())q=s>1-this.PAGE_TO_PREV_PERCENTAGE;else q=s<this.PAGE_TO_PREV_PERCENTAGE;if(q)this.setState({currentActiveSection:this.sections.BACKWARD});else this.setState({currentActiveSection:this.sections.FORWARD})},_onClick:function l(event){var m=this.state.currentActiveSection==this.sections.FORWARD,n=event.target;if(!c("Parent").bySelector(n,"._51an"))this.props.onClick&&this.props.onClick(m,event)},_isMouseOverActionBars:function l(m){return m.y<70||m.y>this.props.stageDimensions.y-70},_onMouseEnter:function l(){this.setState({active:true});if(this.props.fadeInNOut){clearTimeout(this.timer);this.timer=setTimeout(this._onMouseLeave,1e3)}},_onMouseLeave:function l(){this.setState({active:false})},makeActive:function l(){this._onMouseEnter()},render:function l(){__p&&__p();var m="_4-of"+(!this.state.active&&!this.props.active?" _50-l":"")+(this.state.currentActiveSection===this.sections.BACKWARD?" _516a":"")+(this.state.currentActiveSection===this.sections.FORWARD?" _516b":"")+(this.props.showLoadingIndicator?" _51jp":"");if(this.props.className)m=c("joinClasses")(m,this.props.className);var n={};if(this.props.stageDimensions){n={height:this.props.stageDimensions.y};if(this.props.useWidth)n.width=this.props.stageDimensions.x}return c("React").createElement("div",{className:m,onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,role:"presentation",style:n},this.props.children,c("React").createElement("div",{className:"_4-og"},c("React").createElement("span",{className:"_4-oh"}),this.props.media,c("React").createElement("div",{className:"_4-oi"})))}});f.exports=k}),null);
__d("AbstractDialogFitHeight",["csx","cx","CSS","DOM","Event","Style","SubscriptionsHandler","Vector","throttle"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=450,k=100,l=67,m=67;function n(o){"use strict";this.$AbstractDialogFitHeight1=o}n.prototype.enable=function(){"use strict";__p&&__p();this.$AbstractDialogFitHeight2=new(c("SubscriptionsHandler"))();this.$AbstractDialogFitHeight2.addSubscriptions(this.$AbstractDialogFitHeight1.subscribe("beforeshow",this.$AbstractDialogFitHeight3.bind(this)),c("Event").listen(window,"resize",c("throttle")(this.$AbstractDialogFitHeight3.bind(this))));this.$AbstractDialogFitHeight4=c("DOM").find(this.$AbstractDialogFitHeight1.getRoot(),"._4-i2");c("CSS").addClass(this.$AbstractDialogFitHeight4,"_5pfh");c("CSS").addClass(this.$AbstractDialogFitHeight1.getRoot(),"_3thl");this.$AbstractDialogFitHeight5=k;if(c("DOM").scry(this.$AbstractDialogFitHeight1.getRoot(),"._4-i0").length)this.$AbstractDialogFitHeight5+=l;if(c("DOM").scry(this.$AbstractDialogFitHeight1.getRoot(),"._5a8u").length)this.$AbstractDialogFitHeight5+=m};n.prototype.disable=function(){"use strict";this.$AbstractDialogFitHeight2.release();this.$AbstractDialogFitHeight2=null;c("CSS").removeClass(this.$AbstractDialogFitHeight4,"_5pfh");c("CSS").removeClass(this.$AbstractDialogFitHeight1.getRoot(),"_3thl")};n.prototype.$AbstractDialogFitHeight3=function(){"use strict";var o=c("Vector").getViewportDimensions().y,p=o-this.$AbstractDialogFitHeight5;c("Style").set(this.$AbstractDialogFitHeight4,this.getHeightProperty(),Math.max(j,p)+"px");this.$AbstractDialogFitHeight1.updatePosition()};f.exports=n}),null);
__d("DialogFitHeight",["AbstractDialogFitHeight"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractDialogFitHeight"));i=h&&h.prototype;j.prototype.getHeightProperty=function(){"use strict";return"height"};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("StickersStateStore",["FluxReduceStore","immutable","StickersActions","StickersConfig","StickersDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return c("immutable").Map({recentStickers:[],recentStickersLoaded:false,showFlyout:false,storePackID:null,threadID:null,trayLoaded:false,trayPackID:null})};j.prototype.reduce=function(k,l){__p&&__p();var m=l,n=c("StickersActions").Types;switch(m.type){case n.ADD_RECENT_STICKER:var o=[m.sticker];k.get("recentStickers").forEach(function(p){if(p.id===m.sticker.id)return;o.push(p)});return k.set("recentStickers",o.splice(0,c("StickersConfig").max_mru_stickers));case n.HIDE_FLYOUT:return k.set("showFlyout",false);case n.LOAD_RECENT_STICKERS:return k.set("recentStickersLoaded",true).set("recentStickers",m.stickers);case n.SELECT_STORE_PACK:return k.set("storePackID",m.packID);case n.SELECT_TRAY_PACK:return k.set("trayPackID",m.packID).set("trayLoaded",true);case n.SHOW_FLYOUT:return k.set("showFlyout",true).set("threadID",m.threadID);case n.TRAY_LOADED:return k.set("trayLoaded",true);default:return k}};function j(){h.apply(this,arguments)}f.exports=new j(c("StickersDispatcher"))}),null);
__d("StickersStoreController",["cx","Bootloader","DialogFitHeight","DOM","LayerAutoFocus","LayerFadeOnHide","LayerHideOnEscape","PureStoreBasedStateMixin","React","ReactDOM","StickersActions","StickersDispatcher","StickersStateStore","XUIDialog.react","XUIDialogBody.react","XUISpinner.react","isSocialPlugin","requestAnimationFrame"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=688,k=320,l=null,m=c("React").createClass({displayName:"StoreLayer",mixins:[c("PureStoreBasedStateMixin")(c("StickersStateStore"))],propTypes:{isComposer:i.bool,onToggle:i.func.isRequired,shown:i.bool.isRequired},getDefaultProps:function r(){return{isComposer:false}},statics:{calculateState:function r(){return{packID:c("StickersStateStore").getState().get("storePackID")}}},getInitialState:function r(){return{renderStore:function s(){return c("React").createElement("div",{className:"_5r5e"},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))}}},componentWillMount:function r(){c("StickersDispatcher").explicitlyRegisterStores([c("StickersStateStore")])},shouldComponentUpdate:function r(s){return!!s.shown},componentDidMount:function r(){c("Bootloader").loadModules(["StickersStore.react","react-relay/classic/container/RelayRootContainer","StickersStorePackListRoute","StickersStorePackDetailRoute"],function(s,t,u,v){this.setState({renderStore:function(){var w=this.state.packID?new v({packID:this.state.packID}):new u();return c("React").createElement(t,{Component:s,route:w,renderFetched:function(x){return c("React").createElement(s,babelHelpers["extends"]({},x,{isComposer:this.props.isComposer,packID:this.state.packID,shown:this.props.shown}))}.bind(this)})}.bind(this)})}.bind(this),"StickersStoreController")},_onToggle:function r(s){c("requestAnimationFrame")(function(){return this.props.onToggle(s)}.bind(this))},render:function r(){var s=c("isSocialPlugin")()&&document.body.offsetWidth<j?k:j;return c("React").createElement(c("XUIDialog.react"),{behaviors:{DialogFitHeight:c("DialogFitHeight"),LayerAutoFocus:c("LayerAutoFocus"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerHideOnEscape:c("LayerHideOnEscape")},onToggle:this._onToggle,shown:this.props.shown,width:s},c("React").createElement(c("XUIDialogBody.react"),{className:"_5rq- autofocus"},this.state.renderStore()))}}),n=function n(r){if(!l){l=c("DOM").create("div");c("DOM").appendContent(document.body,l)}c("ReactDOM").render(c("React").createElement(m,{isComposer:r,onToggle:p,shown:true}),l)},o=function o(){if(!l)return;c("ReactDOM").render(c("React").createElement(m,{shown:false,onToggle:p}),l)},p=function p(r){r?n():o()},q={showStore:function r(s,t){c("StickersActions").selectStorePack(s);n(!!t)}};f.exports=q}),null);
__d("PhotoProjection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EQUIRECTANGULAR:"equirectangular",CUBESTRIP:"cubestrip",CYLINDRICAL:"cylindrical",TILED_CUBEMAP:"tiled_cubemap",PERSPECTIVE:"perspective"})}),null);
__d("PhotoRendererProjection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PERSPECTIVE:"perspective",STEREOGRAPHIC:"stereographic",CYLINDRICAL:"cylindrical",EQUIRECTANGULAR:"equirectangular"})}),null);