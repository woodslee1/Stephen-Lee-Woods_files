if (self.CavalryLogger) { CavalryLogger.start_js(["DdYno"]); }

__d("InstreamVideoAdBreak",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$InstreamVideoAdBreak1=i.instreamPlacement;this.$InstreamVideoAdBreak2=i.index;this.$InstreamVideoAdBreak3=i.timeOffsetInMs;this.$InstreamVideoAdBreak4=i.adBreakDurationInMs;this.$InstreamVideoAdBreak5=i.isAdBreakAutoInserted}h.prototype.getInstreamPlacement=function(){return this.$InstreamVideoAdBreak1};h.prototype.getIndex=function(){return this.$InstreamVideoAdBreak2};h.prototype.getTimeOffsetInMs=function(){return this.$InstreamVideoAdBreak3};h.prototype.getAdBreakDurationInMs=function(){return this.$InstreamVideoAdBreak4};h.prototype.getIsAdBreakAutoInserted=function(){return this.$InstreamVideoAdBreak5};f.exports=h}),null);
__d("FacepileRounded.react",["cx","fbt","ix","Image.react","React","Tooltip.react","HovercardLink","Link.react","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props,p=o.className,q=o.profiles,r=o.message,s=o.numProfilesToDisplay,t=null;if(r)t=c("React").createElement("div",{className:"_4mnt"},r);var u=s?q.slice(0,s).map(function(v,w){return this.$FacepileRounded1(v,w)}.bind(this)):q.map(function(v,w){return this.$FacepileRounded1(v,w)}.bind(this));return c("React").createElement("div",{className:c("joinClasses")("_4mnv",p)},c("React").createElement("div",{className:"_4mnw"},u,this.$FacepileRounded2()),t)};n.prototype.$FacepileRounded2=function(){__p&&__p();var o=this.props,p=o.direction,q=o.imageSize,r=o.profiles,s=o.remainingProfilesCount,t=o.numProfilesToDisplay,u=o.showRemainingProfilesCount;if(!t)return null;var v=s?s:r.length-t,w=r.slice(t).map(function(C){return C.name}).filter(Boolean),x=w.join("\n"),y=v-w.length;if(y>0){var z=i._({"*":"and {count} others.","_1":"and {count} other."},[i.param("count",y),i.plural(y)]);x+="\n"+z.toString()}var A={borderRadius:q,height:q,marginLeft:-(q*.3125)+"px",minWidth:q,position:p==="descending"?"relative":null,zIndex:p==="descending"?0:null},B=this.$FacepileRounded3(q);return v>0?c("React").createElement(c("Tooltip.react"),{className:"_4mns",key:"remainingFaceCount",tooltip:x},u||!B?c("React").createElement("span",{className:"_4mnq _34n6",style:A},c("React").createElement("span",{className:"_40vg"},"+"+v)):c("React").createElement("div",{className:"_4mnq",style:A},c("React").createElement(c("Image.react"),{className:"_1h_6",src:B}))):null};n.prototype.$FacepileRounded1=function(o,p){__p&&__p();var q=this.props,r=q.direction,s=q.imageSize,t=q.profiles,u=q.showNames,v=q.showHovercards,w=q.isClickable,x=o.glyph_size,y=o.image_src,z=o.entity_id,A={},B={};if(x&&x<s)B.margin=(s-x)/2+"px";A.height=A.width=s+"px";if(p>0)A.marginLeft=-(s*.3125)+"px";if(r==="descending"){A.position="relative";A.zIndex=t.length-p}var C="_4mnq";if(o.className)C=c("joinClasses")(C,o.className);var D=c("React").createElement("div",{className:C,key:p,style:A},c("React").createElement(c("Image.react"),{className:"_1h_6",height:x||s,style:B,src:y,width:x||s}));if(u&&!v&&o.name)D=c("React").createElement(c("Tooltip.react"),{className:"_4mns",key:p+o.image_src,tooltip:o.name},D);if(z&&(w||v)){var E={};if(v){var F=c("HovercardLink").constructEndpoint({id:z}).toString();E["data-hovercard"]=F}if(w)E.href="/"+z;D=c("React").createElement(c("Link.react"),babelHelpers["extends"]({},E,{key:p}),D)}return D};n.prototype.$FacepileRounded3=function(o){switch(o){case 16:return j("409177");case 20:return j("409178");case 28:return j("409179");case 32:return j("409180");case 48:return j("409181")}return null};function n(){k.apply(this,arguments)}n.defaultProps={direction:"ascending",imageSize:32,showNames:false,isClickable:false,showHovercards:false,showRemainingProfilesCount:true};n.propTypes={className:m.string,direction:m.string,imageSize:m.number,message:m.oneOfType([m.array,m.string,m.object]),numProfilesToDisplay:m.number,remainingProfilesCount:m.number,profiles:m.arrayOf(m.shape({className:m.string,entity_id:m.string,glyph_size:m.number,image_src:m.any.isRequired,name:m.string})).isRequired,showNames:m.bool,showHovercards:m.bool,isClickable:m.bool,showRemainingProfilesCount:m.bool};f.exports=n}),null);
__d("ScaledImage.react",["cx","Image.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";__p&&__p();var m=this.props,n=m.className,o=m.height,p=m.imageSize,q=m.width,r=babelHelpers.objectWithoutProperties(m,["className","height","imageSize","width"]),s={height:o,width:q},t=p.width/p.height,u=q/o,v=void 0;if(t>u){var w=o/p.height,x=p.width*w;v={height:o,left:-Math.floor((x-q)/2),width:x}}else{var y=q/p.width,z=p.height*y;v={height:z,top:-Math.floor((z-o)/2),width:q}}return c("React").createElement("div",{className:c("joinClasses")(n,"uiScaledImageContainer"),style:s},c("React").createElement(c("Image.react"),babelHelpers["extends"]({style:v},r)))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={height:k.number.isRequired,imageSize:k.shape({height:k.number.isRequired,width:k.number.isRequired}).isRequired,width:k.number.isRequired};f.exports=l}),null);
__d("SUIAnalyticsGriffinTheme",["cssVar","React","SUIAtlasIcon.react","SUIModalCardUniform.business","SUITheme","SUIThreeStateCheckboxInputUniform.business","SUITypeStyle","SUIBusinessThemeComponents"],(function a(b,c,d,e,f,g,h){"use strict";var i="Helvetica, Arial, sans-serif",j={black:"#000000",blackOpacity40:"rgba(0, 0, 0, .4)",blueGray50:"#4b4f56",white:"#ffffff",blue:"#3A84C5",blueCalendarLight:"#99C6ED",blueTint10:"#ecf0f7",blueTint50:"#93D4F0",blueTint85:"#DEF2FA",blueDark:"#365899",blueToken:"#688BA9",yellow:"#FFA933",yellowTint85:"#FFF2E0",gray:"#4E5665",gray15:"#D8D8D8",grayDark:"#666E7C",grayWash:"#F6F6F6",grayBorder:"#D7D7D7",neutral02:"#F9F9F9",neutral03:"#F6F6F6",neutral06:"#EEEEEE",neutral15:"#D0DAE0",neutral30:"#A0B0BB",neutral72:"#466072",red:"#F55D5D",redTint85:"#FDE6E6",activeText:"#3A84C5",activeWash:"#EEEEEE",defaultText:"#79828E",disabledText:"#A0A4AD",error:"#fa3e3e",mediumText:"#4b4f56",warning:"#F5A623",bigLightGreen:"#31B34E",bigDarkGreen:"#057F28",bigLightGray:"#DADCDE",bigDarkGray:"#5B5C5E"},k={defaultSemiBold:new(c("SUITypeStyle"))({color:j.defaultText,fontFamily:i,fontWeight:"600",fontSize:"12px"}),defaultLightBig:new(c("SUITypeStyle"))({color:j.blueGray50,fontFamily:i,fontWeight:"300",fontSize:"24px"}),defaultLightSmall:new(c("SUITypeStyle"))({color:j.blueGray50,fontFamily:i,fontWeight:"400",fontSize:"12px"}),defaultNormal:new(c("SUITypeStyle"))({color:j.defaultText,fontFamily:i,fontWeight:"400",fontSize:"12px"}),defaultNormal12:new(c("SUITypeStyle"))({color:j.defaultText,fontFamily:i,fontSize:"12px"}),defaultNormal16:new(c("SUITypeStyle"))({color:j.defaultText,fontFamily:i,fontWeight:"400",fontSize:"16px"}),typeSemiBold16:new(c("SUITypeStyle"))({color:j.defaultText,fontFamily:i,fontWeight:"600",fontSize:"16px"}),typeBlack:new(c("SUITypeStyle"))({fontSize:"12px",color:j.black,fontFamily:i,fontWeight:"400"}),typeNormalBigLight:new(c("SUITypeStyle"))({color:j.defaultText,fontFamily:i,fontWeight:"200",fontSize:"24px"}),typeBlackBig:new(c("SUITypeStyle"))({fontSize:"24px",color:j.black,fontFamily:i,fontWeight:"400"}),typeBlackBold:new(c("SUITypeStyle"))({fontSize:"12px",color:j.black,fontFamily:i,fontWeight:"600"}),typeDisabledTitle:new(c("SUITypeStyle"))({fontSize:"12px",color:"#bec2c9",fontFamily:i,fontWeight:"600"})},l=function l(p){return c("React").createElement(c("SUIAtlasIcon.react"),babelHelpers["extends"]({},p,{colorDefault:j.gray15,colorDisabled:j.gray,colorHover:j.gray15,name:"delete"}))},m=function m(p){return c("React").createElement(c("SUIAtlasIcon.react"),babelHelpers["extends"]({},p,{colorDefault:j.white,colorDisabled:j.gray,colorHover:j.white,name:"delete"}))},n={SUIButton:{height:{normal:32,"short":24,tall:48},padding:{normal:{button:"16px",icon:"6px",onlyIcon:"19px"},"short":{button:"16px",icon:"6px",onlyIcon:"19px"},tall:{button:"16px",icon:"6px",onlyIcon:"19px"}},typeStyle:k.defaultSemiBold,use:{"default":{active:{background:j.grayBorder,borderColor:j.grayBorder,color:j.defaultText},disabled:{background:j.grayWash,borderColor:j.grayBorder,color:j.disabledText},hover:{background:j.grayWash,borderColor:j.grayBorder,color:j.defaultText},normal:{background:j.grayWash,borderColor:j.grayBorder,color:j.defaultText}},special:{active:{background:j.bigDarkGreen,borderColor:j.bigDarkGreen,color:j.white},disabled:{background:j.bigLightGray,borderColor:j.bigLightGray,color:j.bigDarkGray},hover:{background:j.bigLightGreen,borderColor:j.bigLightGreen,color:j.white},normal:{background:j.bigLightGreen,borderColor:j.bigLightGreen,color:j.white}},confirm:{active:{background:j.blueDark,borderColor:j.blue,color:j.white},disabled:{background:j.grayWash,borderColor:j.grayBorder,color:j.disabledText},hover:{background:j.blue,borderColor:j.blue,color:j.white},normal:{background:j.blue,borderColor:j.blue,color:j.white}}}},SUIButtonIcon:{colorConfirm:j.activeText,colorDefault:j.defaultText,colorDisabled:j.disabledText,colorSpecial:j.defaultText,defaultSize:18,iconComponent:c("SUIAtlasIcon.react")},SUIThreeStateCheckboxInput:c("SUIThreeStateCheckboxInputUniform.business"),SUICloseButton:{dark:{large:l,small:l},light:{large:m,small:m},iconSize:{large:24,small:14}},SUICalendarPager:{dayColor:j.blue,daySelectedColor:j.white,dayDisabledColor:j.disabledText,dayNameColor:j.defaultText,gridBorderColor:j.gray15,pagerBackgroundColor:j.white,pagerBorderColor:j.white,rangeBackgroundColor:j.blueTint10,selectedBackgroundColor:j.blue,typeStyle:k.defaultNormal12},SUIDateInput:{inputIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.gray15,name:"calendarMonth",size:24}),layerBackgroundColor:j.white,layerBorderColor:j.grayBorder},SUIDateTimeRangePicker:{backgroundColor:j.white,borderColor:j.grayBorder,typeStyle:k.defaultNormal},SUITooltip:{backgroundColor:j.black,color:j.white,typeStyle:babelHelpers["extends"]({},k.defaultNormal,{WebkitFontSmoothing:"auto"})},SUIHelpMessage:{icon:c("React").createElement(c("SUIAtlasIcon.react"),{name:"information",style:{color:j.black}})},SUIError:{error:{borderColor:j.error,icon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.error,name:"warning",size:24})},warning:{borderColor:j.warning,icon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.warning,name:"warning",size:24})}},SUIInlineTypeahead:{dividerBorderColor:j.gray15,searchIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.gray15,name:"search"})},SUILoadingBar:{backgroundColor:j.blue,movingColor:j.blueTint50},SUIModalCard:babelHelpers["extends"]({},c("SUIModalCardUniform.business"),{boxShadow:"0px 1px 0px 0px rgba(0, 0, 0, 0.10)",backgroundColor:j.white,typeStyles:{content:k.defaultLightSmall,footer:k.defaultNormal,header:k.defaultLightBig}}),SUIModalBackgroundDEPRECATED:c("SUIBusinessThemeComponents").SUIModalBackgroundDEPRECATED,SUISelector:{backgroundColor:j.white,borderColor:j.grayBorder,boxShadow:"none"},SUISelectorButton:c("SUIBusinessThemeComponents").SUISelectorButton,SUISelectorOption:c("SUIBusinessThemeComponents").SUISelectorOption,SUISelectorSeparator:{color:j.grayBorder,margin:{bottom:"12px",left:"12px",right:"12px",top:"12px"}},SUISearchableSelector:{disabledSubtitleTypeStyle:k.typeDisabledTitle,disabledTitleTypeStyle:k.typeDisabledTitle,dropdownBackgroundColor:j.white,dropdownBorderColor:j.grayBorder,headerBackgroundColor:j.white,headerTypeStyle:k.defaultSemiBold,subtitleColor:j.gray15,subtitleTypeStyle:k.defaultNormal,titleTypeStyle:k.defaultSemiBold},SUIHighlightedText:{backgroundColor:j.white},SUISearchInput:{cancelIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.gray,colorHover:j.gray15,name:"delete"}),searchIcon:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.gray15,colorFocused:j.gray,name:"search",size:24})},SUISplitButton:{chevronPadding:"4px",use:{confirm:{chevron:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.white,colorDisabled:j.white,name:"chevronDown",style:{padding:"0 5px"}}),dividerColor:j.white},"default":{chevron:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.defaultText,colorDisabled:j.disabledText,name:"chevronDown",style:{padding:"0 5px"}}),dividerColor:j.grayBorder},special:{chevron:c("React").createElement(c("SUIAtlasIcon.react"),{colorDefault:j.white,colorDisabled:j.white,name:"chevronDown",style:{padding:"0 5px"}}),dividerColor:j.white}}},SUILink:{normalColor:j.activeText,hoverColor:j.blueDark},SUITable:{cellPadding:12,colors:{cell:j.neutral72,cellBorder:"#DADDE1",cellErrorBackground:j.redTint85,cellHoverBackground:"#EBEDF0",cellModifiedBackground:j.neutral15,cellSelectedBackground:j.blueTint85,cellSelectedHoverBackground:"#EBEDF0",cellWarningBackground:j.yellowTint85,error:j.red,heading:j.blueGray50,headingBackground:"#F5F7F8",headingRule:"#e5e5e5",headingSortable:j.blueGray50,headingSortableSelected:"#066CD2",highlight:j.blue,loading:j.neutral30,loadingBackground:j.neutral03,noItemsMessage:j.neutral72,rowBackground:"#F5F6F7",rowStripe:j.white,text:j.neutral72,warning:j.yellow},textStyles:{cell:k.defaultNormal12,heading:k.defaultNormal12,table:k.defaultNormal12}},SUITextArea:{disabled:{background:j.grayWash,borderColor:j.grayBorder},enabled:{background:j.white,borderColor:j.grayBorder},focusedBorderColor:"#4080ff",placeholderColor:j.gray15,placeholderColorFocused:j.gray,typeStyle:k.defaultNormal},SUITextInput:{characterCountTypeStyle:new(c("SUITypeStyle"))({color:j.gray15,fontFamily:i,fontSize:"11px",fontWeight:"normal"}),disabled:{background:j.grayWash,borderColor:j.grayBorder},enabled:{background:j.white,borderColor:j.grayBorder},errorIconMargin:"3px",focusedBorderColor:"#4080ff",height:32,maxLengthHighlightColor:"rgba(250, 62, 62, 0.3)",placeholderColor:j.gray15,placeholderColorFocused:j.gray,typeStyle:k.defaultNormal},SUIText:{header1:{fontFamily:i,fontSize:24,lineHeight:32},header2:{fontFamily:i,fontSize:20,lineHeight:24},header3:{fontFamily:i,fontSize:16,lineHeight:24},header4:{fontFamily:i,fontSize:14,lineHeight:20},body1:{fontFamily:i,fontSize:14,lineHeight:18},body1_DEPRECATED:{fontFamily:i,fontSize:16,lineHeight:18},body2:{fontFamily:i,fontSize:13,lineHeight:17},body2_DEPRECATED:{fontFamily:i,fontSize:14,lineHeight:16},body3:{fontFamily:i,fontSize:12,lineHeight:16},body3_DEPRECATED:{fontFamily:i,fontSize:13,lineHeight:15},meta1:{fontFamily:i,fontSize:10,lineHeight:12},display:{fontFamily:i,fontSize:40,lineHeight:48},heading:{fontFamily:i,fontSize:24,lineHeight:32},subheading:{fontFamily:i,fontSize:20,lineHeight:24},headline:{fontFamily:i,fontSize:16,lineHeight:24},regular:{fontFamily:i,fontSize:14,lineHeight:20},regularUI:{fontFamily:i,fontSize:14,lineHeight:16},xsmall:{fontFamily:i,fontSize:8,lineHeight:10},shade:{dark:"#1d2129",light:"#90949c",link:"#365899",medium:"#4b4f56",white:j.white},small:{fontFamily:i,fontSize:10,lineHeight:12},medium:{fontFamily:i,fontSize:12,lineHeight:14},large:{fontFamily:i,fontSize:14,lineHeight:16},color:{disabled:"#929598",disabledDark:"#4c4c4c",interactive:"#066CD2",negative:"#CE002F",positive:"#057F28",primary:"#1C1D1D",primaryDark:"#cccccc",secondary:"#5B5C5E",secondaryDark:"#7f7f7f",white:"#FFFFFF"},xlarge:{fontFamily:i,fontSize:16,lineHeight:18},xxlarge:{fontFamily:i,fontSize:18,lineHeight:20}},SUIToggle:{height:24,off:{hover:{backgroundColor:j.gray,color:j.white},normal:{backgroundColor:j.gray,color:j.white}},on:{hover:{backgroundColor:j.blue,color:j.white},normal:{backgroundColor:j.blue,color:j.white}},switchColor:j.white,typeStyle:k.defaultSemiBold},SUIToggleButtonGroup:{normal:{backgroundColor:j.grayWash,borderColor:j.grayBorder,color:j.defaultText},selected:{backgroundColor:j.activeWash,borderColor:j.grayBorder,color:j.activeText}},SUIToken:{backgroundColor:j.blueToken,color:j.white,typeStyle:k.defaultSemiBold},SUITokenizer:{disabled:{backgroundColor:j.white,borderColor:j.grayBorder},enabled:{backgroundColor:j.white,borderColor:j.grayBorder},typeaheadInput:{typeStyle:k.defaultNormal}},SUITokenizerItem:c("SUIBusinessThemeComponents").SUITokenizerItem,SUITokenizerItemList:c("SUIBusinessThemeComponents").SUITokenizerItemList,SUITypeahead:{input:{backgroundColor:"#ffffff",borderColor:"#ced0d4",errorBorderColor:"#fa3e3e",typeStyle:k.defaultNormal,height:32},dropdown:{backgroundColor:"#ffffff",borderColor:"#e9ebee",boxShadow:"0px 1px 0px 0px rgba(0, 0, 0, 0.10)",itemPadding:{bottom:"8px",left:"12px",right:"12px",top:"8px"}},highlight:{backgroundColor:"#e9ebee"}},SUIHorizontalLayout:{margin:8},SUICustomPopover_DEPRECATED:{backgroundColor:j.white,borderColor:"#4f5664",borderHighlightColor:"#4f5664",color:j.white}},o=new(c("SUITheme"))({id:"analytics_griffin",components:n});f.exports=o}),null);
__d("CommercialBreakSkywalkerSubscriptionManager",["Map","RTISubscriptionManager"],(function a(b,c,d,e,f,g){__p&&__p();var h=new(c("Map"))(),i=new(c("Map"))(),j={subscribe:function k(l,m){__p&&__p();var n;if(!h.has(l))(function(){__p&&__p();var o=[];h.set(l,o);var p=c("RTISubscriptionManager").subscribe(l,function(q){__p&&__p();for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;v(q)}});i.set(l,p)})();var o=h.get(l);if(o)o.push(m);return i.get(l)}};f.exports=j}),null);
__d("CommercialBreakState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INIT:"INIT",PREPARE:"PREPARE",AD_REQUEST_SENT:"AD_REQUEST_SENT",CB_SCHEDULED:"CB_SCHEDULED",ENTERING_TRANSITION:"ENTERING_TRANSITION",PLAY_AD_COUNTDOWN:"PLAY_AD_COUNTDOWN",LEAVING_TRANSITION:"LEAVING_TRANSITION",VOD_BREAK_WITH_NO_VIDEO_AD:"VOD_BREAK_WITH_NO_VIDEO_AD"})}),null);
__d("CommercialBreakStartingIndicator.react",["cx","fbt","CircularProgressBar.react","CommercialBreakMobileEvent","CommercialBreakState","CSS","DateConsts","React","Style","SubscriptionsHandler","VideoPlayerLoggerEvent","VideoPlayerUIComponentDrawer"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=300,m=300,n=31;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(p){"use strict";__p&&__p();k.constructor.call(this,p);this.$CommercialBreakStartingIndicator1=null;this.$CommercialBreakStartingIndicator2=null;this.$CommercialBreakStartingIndicator4=null;this.$CommercialBreakStartingIndicator12=null;this.$CommercialBreakStartingIndicator13=null;this.$CommercialBreakStartingIndicator15=false;this.state={percentComplete:-1};this.$CommercialBreakStartingIndicator11=false;this.$CommercialBreakStartingIndicator15=false;this.$CommercialBreakStartingIndicator3=new(c("SubscriptionsHandler"))();this.$CommercialBreakStartingIndicator6=this.props.controller.addListener("optionsChange",function(){return this.$CommercialBreakStartingIndicator16()}.bind(this));this.$CommercialBreakStartingIndicator16();this.$CommercialBreakStartingIndicator14=this.props.controller.registerDrawer(c("VideoPlayerUIComponentDrawer").priorities.AdBreakStartingIndicator,n)}o.prototype.$CommercialBreakStartingIndicator16=function(){"use strict";__p&&__p();if(!this.$CommercialBreakStartingIndicator1){var p=this.props.controller.getOption("VideoWithInstreamVideo","controller");this.$CommercialBreakStartingIndicator1=p&&p.getConfig()}if(!this.$CommercialBreakStartingIndicator5){var q=this.props.controller.getOption("VideoWithCommercialBreak","controller");this.$CommercialBreakStartingIndicator5=q&&q.addListener("commercialBreak/stateChange",function(r){return this.$CommercialBreakStartingIndicator17(r.state)}.bind(this))}if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator5)this.$CommercialBreakStartingIndicator6.remove()};o.prototype.$CommercialBreakStartingIndicator18=function(){"use strict";__p&&__p();clearInterval(this.$CommercialBreakStartingIndicator4);c("CSS").addClass(this.props.container,"_20dq");if(this.$CommercialBreakStartingIndicator10)c("CSS").removeClass(this.$CommercialBreakStartingIndicator10,"_3ee4");if(this.$CommercialBreakStartingIndicator9)c("CSS").removeClass(this.$CommercialBreakStartingIndicator9,"_3ee4");if(this.$CommercialBreakStartingIndicator7)c("CSS").removeClass(this.$CommercialBreakStartingIndicator7,"_3ee6");if(this.$CommercialBreakStartingIndicator7)c("CSS").removeClass(this.$CommercialBreakStartingIndicator7,"_3ee4");c("CSS").removeClass(this.props.container,"_1xn2");this.setState({percentComplete:-1});this.$CommercialBreakStartingIndicator11=false};o.prototype.$CommercialBreakStartingIndicator19=function(p){"use strict";var q=this.props.controller.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC,r=-1;if(q>p)clearInterval(this.$CommercialBreakStartingIndicator4);else if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.startingIndicatorMs&&q>p-this.$CommercialBreakStartingIndicator1.startingIndicatorMs)r=100-100*(p-q)/this.$CommercialBreakStartingIndicator1.startingIndicatorMs;this.setState({percentComplete:r})};o.prototype.$CommercialBreakStartingIndicator20=function(p){"use strict";__p&&__p();var q=this.props.controller.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC;if(q>p){if(!this.$CommercialBreakStartingIndicator15)this.$CommercialBreakStartingIndicator21();return}clearInterval(this.$CommercialBreakStartingIndicator4);if(!this.$CommercialBreakStartingIndicator1||!this.$CommercialBreakStartingIndicator1.startingIndicatorMs)return;this.$CommercialBreakStartingIndicator4=setInterval(function(){this.$CommercialBreakStartingIndicator19(p)}.bind(this),this.$CommercialBreakStartingIndicator1.startingIndicatorMs/100);this.$CommercialBreakStartingIndicator15=true};o.prototype.componentDidMount=function(){"use strict";this.$CommercialBreakStartingIndicator3.addSubscriptions(this.props.controller.addListener("commercialBreak/vodBreakStarting",function(p){this.$CommercialBreakStartingIndicator20(p)}.bind(this)),this.props.controller.addListener("seekRequested",this.$CommercialBreakStartingIndicator18.bind(this)));this.props.controller.registerOption("WatchAndScroll","hideOverlay",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this));this.props.controller.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this));this.props.controller.registerOption("VideoWithInstreamVideo","disableClickToPause",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this))};o.prototype.componentWillUnmount=function(){"use strict";this.$CommercialBreakStartingIndicator3.release();if(this.$CommercialBreakStartingIndicator5)this.$CommercialBreakStartingIndicator5.remove();this.props.controller.unregisterOption("WatchAndScroll","hideOverlay");this.props.controller.unregisterOption("VideoContextMenu","disablePauseMenuItem");this.props.controller.unregisterOption("VideoWithInstreamVideo","disableClickToPause")};o.prototype.componentWillReceiveProps=function(p){"use strict";if(p.adsStopped)this.$CommercialBreakStartingIndicator21()};o.prototype.componentDidUpdate=function(){"use strict";if(this.$CommercialBreakStartingIndicator9&&this.$CommercialBreakStartingIndicator8)c("Style").set(this.$CommercialBreakStartingIndicator9,"width",this.$CommercialBreakStartingIndicator8.clientWidth+34+"px");if(!this.$CommercialBreakStartingIndicator11&&this.state.percentComplete>=0){c("CSS").addClass(this.props.container,"_1xn2");this.$CommercialBreakStartingIndicator11=true;this.$CommercialBreakStartingIndicator14.reserve()}};o.prototype.$CommercialBreakStartingIndicator17=function(p){"use strict";switch(p){case c("CommercialBreakState").ENTERING_TRANSITION:this.$CommercialBreakStartingIndicator22();break;case c("CommercialBreakState").INIT:case c("CommercialBreakState").PLAY_AD_COUNTDOWN:this.$CommercialBreakStartingIndicator21();break}};o.prototype.$CommercialBreakStartingIndicator22=function(){"use strict";__p&&__p();clearInterval(this.$CommercialBreakStartingIndicator4);var p=this.$CommercialBreakStartingIndicator1;if(!p||!p.beginningNonLiveTransitionTimeMs)return;var q=p.beginningNonLiveTransitionTimeMs-l;if(q<l)return;this.$CommercialBreakStartingIndicator12=setTimeout(function(){clearTimeout(this.$CommercialBreakStartingIndicator12);if(this.$CommercialBreakStartingIndicator9)c("CSS").addClass(this.$CommercialBreakStartingIndicator9,"_3ee4")}.bind(this),m);this.$CommercialBreakStartingIndicator13=setTimeout(function(){clearTimeout(this.$CommercialBreakStartingIndicator13);if(this.$CommercialBreakStartingIndicator7)c("CSS").addClass(this.$CommercialBreakStartingIndicator7,"_3ee4")}.bind(this),q);if(this.$CommercialBreakStartingIndicator10)c("CSS").addClass(this.$CommercialBreakStartingIndicator10,"_3ee4");if(this.$CommercialBreakStartingIndicator7)c("CSS").addClass(this.$CommercialBreakStartingIndicator7,"_3ee6")};o.prototype.$CommercialBreakStartingIndicator21=function(){"use strict";if(this.$CommercialBreakStartingIndicator2){this.$CommercialBreakStartingIndicator2.release();this.$CommercialBreakStartingIndicator2=null}this.$CommercialBreakStartingIndicator18();this.$CommercialBreakStartingIndicator14.release();this.$CommercialBreakStartingIndicator15=false};o.prototype.$CommercialBreakStartingIndicator23=function(){"use strict";__p&&__p();if(!this.$CommercialBreakStartingIndicator2){this.$CommercialBreakStartingIndicator2=this.props.controller.getOption("VideoControls","acquireForceHideLock");this.props.controller.emit("adBreakIndicatorShowing");var p=this.props.controller.getOption("VideoWithInstreamVideo","controller");if(p){p.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_STARTING_INDICATOR);this.props.controller.logEvent(c("VideoPlayerLoggerEvent").AD_BREAK_STARTING_INDICATOR,{instream_video_ad_break_index:p.getCurrentInstreamVideoAdBreakIndex(),instream_video_ad_break_video_id:p.getCurrentInstreamVideoAdBreakVideoID()})}}};o.prototype.$CommercialBreakStartingIndicator24=function(){"use strict";if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.vodPreTransitionText)return this.$CommercialBreakStartingIndicator1.vodPreTransitionText;return i._("Ad starting soon")};o.prototype.$CommercialBreakStartingIndicator25=function(){"use strict";if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.vodTransitionText)return this.$CommercialBreakStartingIndicator1.vodTransitionText;return i._("Video will continue after ad")};o.prototype.componentWillUpdate=function(p,q){"use strict";if(q.percentComplete>=0)this.$CommercialBreakStartingIndicator23()};o.prototype.render=function(){"use strict";if(this.$CommercialBreakStartingIndicator2)c("CSS").removeClass(this.props.container,"_20dq");return c("React").createElement("div",{className:"_3ee7"},c("React").createElement("div",{className:"_1xne",ref:function(p){this.$CommercialBreakStartingIndicator9=p}.bind(this)}),c("React").createElement("div",{className:"_3ee9",ref:function(p){this.$CommercialBreakStartingIndicator10=p}.bind(this)},c("React").createElement("div",{className:"_20ds"},c("React").createElement(c("CircularProgressBar.react"),{percentComplete:this.state.percentComplete})),c("React").createElement("div",{className:"_4zpn",ref:function(p){this.$CommercialBreakStartingIndicator8=p}.bind(this)},this.$CommercialBreakStartingIndicator24())),c("React").createElement("div",{className:"_3eea",ref:function(p){this.$CommercialBreakStartingIndicator7=p}.bind(this)},this.$CommercialBreakStartingIndicator25()))};f.exports=o}),null);
__d("CommercialBreakNoAdReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_VIDEO_AD:"no_video_ad",TIME_SPENT_INSUFFICIENT:"time_spent_insufficient",PLAYBACK_ERROR:"playback_error",HIDE_AD:"hide_ad",WAIT_FOR_FAILED:"wait_for_failed",SPONSORED_STORY:"sponsored_story",CONTROL_GROUP:"control_group",DUPLICATE_VIDEO:"duplicate_video",INACTIVE_TAB:"inactive_tab",IS_COMMENTING:"is_commenting",SCRUBBER_FETCH_INCOMPLETE:"scrubber_fetch_incomplete"})}),null);
__d("InstreamVideoAdsController",["CommercialBreakMobileEvent","DataAttributeUtils","DateConsts","DOMQuery","Map","MarauderLogger","NonBlockingIFrame","URI","VideoPlayerStates","ViewableImpressionConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;function i(){"use strict";this.$InstreamVideoAdsController1=new(c("Map"))()}i.prototype.$InstreamVideoAdsController2=function(j){"use strict";var k=[];this.$InstreamVideoAdsController1.forEach(function(l,m){if(!m.isState(c("VideoPlayerStates").DESTROYED)&&c("DOMQuery").contains(j,m.getRootNode()))k.push(m)});if(k.length===0)return null;return k[0]};i.prototype.$InstreamVideoAdsController3=function(j,k){"use strict";if(this.$InstreamVideoAdsController1.has(j))return;this.$InstreamVideoAdsController1.set(j,k)};i.registerVideoController=function(j,k){"use strict";if(h===null)h=new i();h.$InstreamVideoAdsController3(j,k);c("MarauderLogger").log(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_REGISTER_VIDEO,"commercial_break",{commercial_break_ad_client_token:j.getAdClientToken()});var l=h;j.once("beginPlayback",function(){l.$InstreamVideoAdsController4(j)})};i.prototype.$InstreamVideoAdsController4=function(j){"use strict";var k=this.$InstreamVideoAdsController1.get(j);if(c("DOMQuery").contains(k,j.getRootNode())){var l=c("DataAttributeUtils").getDataAttribute(k,"data-xt"),m=Math.floor(Date.now()/c("DateConsts").MS_PER_SEC),n={xt:l,isv:1,cts:m};c("NonBlockingIFrame").loadIFrame(new(c("URI"))(c("ViewableImpressionConfig").impressionURL).addQueryData(n).toString())}};i.findVideoControllerForStory=function(j){"use strict";if(h===null)return null;return h.$InstreamVideoAdsController2(j)};f.exports=i}),null);
__d("CommercialBreakVideoAdOverlay",["cx","Arbiter","Bootloader","CommercialBreakMobileEvent","CommercialBreakNoAdReason","CommercialBreakState","CSS","DOM","DOMDimensions","Event","InstreamVideoAdsController","InstreamVideoAdType","SubscriptionsHandler","VideoPlayerFormats","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerStates","getFullScreenElement","gkx"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){"use strict";__p&&__p();this.$CommercialBreakVideoAdOverlay7=k;this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay1=j;this.$CommercialBreakVideoAdOverlay4=null;this.$CommercialBreakVideoAdOverlay10=false;this.$CommercialBreakVideoAdOverlay11=false;this.$CommercialBreakVideoAdOverlay12=0;this.$CommercialBreakVideoAdOverlay14=false;this.$CommercialBreakVideoAdOverlay15={};this.$CommercialBreakVideoAdOverlay16=0;this.$CommercialBreakVideoAdOverlay17=false;this.$CommercialBreakVideoAdOverlay6=j.addListener("optionsChange",function(){return this.$CommercialBreakVideoAdOverlay18()}.bind(this));this.$CommercialBreakVideoAdOverlay18()}i.prototype.stopAdWithoutTransition=function(){"use strict";this.$CommercialBreakVideoAdOverlay19();if(this.$CommercialBreakVideoAdOverlay3)this.$CommercialBreakVideoAdOverlay3.reset()};i.prototype.$CommercialBreakVideoAdOverlay18=function(){"use strict";__p&&__p();this.$CommercialBreakVideoAdOverlay2=this.$CommercialBreakVideoAdOverlay1.getOption("VideoWithInstreamVideo","controller");if(!this.$CommercialBreakVideoAdOverlay2)return;this.$CommercialBreakVideoAdOverlay3=this.$CommercialBreakVideoAdOverlay1.getOption("VideoWithCommercialBreak","controller");if(!this.$CommercialBreakVideoAdOverlay3)return;this.$CommercialBreakVideoAdOverlay6.remove();this.$CommercialBreakVideoAdOverlay8=this.$CommercialBreakVideoAdOverlay2.getConfig();this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/vodBreakStarting",function(){this.$CommercialBreakVideoAdOverlay20()}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/videoAdStoryFetched",function(j,k,l,m,n){if(j){c("DOM").setContent(this.$CommercialBreakVideoAdOverlay7,j);this.$CommercialBreakVideoAdOverlay10=true;this.$CommercialBreakVideoAdOverlay11=!k;this.$CommercialBreakVideoAdOverlay12=l;this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(m);this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakClientToken(n)}}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/videoAdPodFetched",function(j,k,l){__p&&__p();if(j){this.$CommercialBreakVideoAdOverlay14=true;this.$CommercialBreakVideoAdOverlay15=j;this.$CommercialBreakVideoAdOverlay16=0;for(var m=0;this.$CommercialBreakVideoAdOverlay15[m];m++){var n=this.$CommercialBreakVideoAdOverlay15[m];if(n.videoAdStory){this.$CommercialBreakVideoAdOverlay10=true;this.$CommercialBreakVideoAdOverlay11=true;this.$CommercialBreakVideoAdOverlay12=l;c("DOM").appendContent(this.$CommercialBreakVideoAdOverlay7,n.videoAdStory)}}var o=this.$CommercialBreakVideoAdOverlay15[this.$CommercialBreakVideoAdOverlay16];if(o){var p=o.instreamVideoAdBreakVideoID;this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(p)}}}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/stateChange",function(j){__p&&__p();var k=j.state;switch(k){case c("CommercialBreakState").AD_REQUEST_SENT:case c("CommercialBreakState").ENTERING_TRANSITION:var l=this.$CommercialBreakVideoAdOverlay21();if(!!l.height&&!!l.width)this.$CommercialBreakVideoAdOverlay13=l;break;case c("CommercialBreakState").PLAY_AD_COUNTDOWN:this.$CommercialBreakVideoAdOverlay22();break;case c("CommercialBreakState").INIT:this.$CommercialBreakVideoAdOverlay19();break;case c("CommercialBreakState").LEAVING_TRANSITION:if(this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay19();break}}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/inTransition",function(j){return this.$CommercialBreakVideoAdOverlay23(j.shouldShowAd)}.bind(this));this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/CTAClicked",this.$CommercialBreakVideoAdOverlay24.bind(this))};i.prototype.$CommercialBreakVideoAdOverlay24=function(){"use strict";this.$CommercialBreakVideoAdOverlay17=true};i.prototype.$CommercialBreakVideoAdOverlay25=function(j){__p&&__p();var k;"use strict";j.setLogEntryPropertyGetters((k={},k[c("VideoPlayerLoggerEventField").HOST_VIDEO_ID]=this.$CommercialBreakVideoAdOverlay8.hostVideoID,k[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX]=this.$CommercialBreakVideoAdOverlay12,k));j.addListener("stateChange",function(){if(!this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay26();else if(this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").FINISHED))if(this.$CommercialBreakVideoAdOverlay14)this.$CommercialBreakVideoAdOverlay27();else this.$CommercialBreakVideoAdOverlay26()}.bind(this));j.addListener("playRequested",function(l){if(l===c("VideoPlayerReason").USER)this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PLAY_AD)}.bind(this));j.addListener("pauseRequested",function(l){this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PAUSE_AD,{video_player_reason:l})}.bind(this));if(this.$CommercialBreakVideoAdOverlay8.videoChannelCaller)j.addListener("clickVideo",this.$CommercialBreakVideoAdOverlay28.bind(this));this.$CommercialBreakVideoAdOverlay2.registerInstreamVideo(j);this.$CommercialBreakVideoAdOverlay29();this.$CommercialBreakVideoAdOverlay30();this.$CommercialBreakVideoAdOverlay31()};i.prototype.$CommercialBreakVideoAdOverlay32=function(){"use strict";__p&&__p();var j=null,k=this.$CommercialBreakVideoAdOverlay2.getCurrentInstreamVideoAdType();switch(k){case c("InstreamVideoAdType").LIVE:if(this.$CommercialBreakVideoAdOverlay3.getIsDuplicateVideo())j=c("CommercialBreakNoAdReason").DUPLICATE_VIDEO;else if(!this.$CommercialBreakVideoAdOverlay10)j=c("CommercialBreakNoAdReason").WAIT_FOR_FAILED;else if(!this.$CommercialBreakVideoAdOverlay11)j=c("CommercialBreakNoAdReason").NO_VIDEO_AD;else j=c("CommercialBreakNoAdReason").PLAYBACK_ERROR;this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_STATIC_COUNTDOWN,{commercial_break_no_ad_reason:j});break;case c("InstreamVideoAdType").VOD:case c("InstreamVideoAdType").NONLIVE:j=c("CommercialBreakNoAdReason").PLAYBACK_ERROR;this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(this.$CommercialBreakVideoAdOverlay8.disableNoAdTransition?c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING:c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_NO_AD_TRANSITION,{commercial_break_no_ad_reason:j});this.$CommercialBreakVideoAdOverlay3.reset();break}};i.prototype.$CommercialBreakVideoAdOverlay26=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay19();this.$CommercialBreakVideoAdOverlay3.onLeaveTransition()};i.prototype.$CommercialBreakVideoAdOverlay22=function(){"use strict";this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay20();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay25(this.$CommercialBreakVideoAdOverlay4);else this.$CommercialBreakVideoAdOverlay32()};i.prototype.$CommercialBreakVideoAdOverlay20=function(){"use strict";this.$CommercialBreakVideoAdOverlay4=c("InstreamVideoAdsController").findVideoControllerForStory(this.$CommercialBreakVideoAdOverlay7);if(this.$CommercialBreakVideoAdOverlay4&&!this.$CommercialBreakVideoAdOverlay4.hasOption("CommercialBreakVideoAdOverlay","videoController"))this.$CommercialBreakVideoAdOverlay4.registerOption("CommercialBreakVideoAdOverlay","videoController",function(){return this.$CommercialBreakVideoAdOverlay1}.bind(this));if(this.$CommercialBreakVideoAdOverlay4&&!this.$CommercialBreakVideoAdOverlay4.hasOption("VideoContextMenu","disablePauseMenuItem"))this.$CommercialBreakVideoAdOverlay4.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return this.$CommercialBreakVideoAdOverlay8.isLive||!this.$CommercialBreakVideoAdOverlay8.canPauseAdBreak}.bind(this))};i.prototype.$CommercialBreakVideoAdOverlay27=function(){"use strict";__p&&__p();this.$CommercialBreakVideoAdOverlay16++;var j=this.$CommercialBreakVideoAdOverlay15[this.$CommercialBreakVideoAdOverlay16];if(!j)this.$CommercialBreakVideoAdOverlay26();else{var k=j.videoAdStory,l=j.instreamVideoAdBreakVideoID;if(k){if(this.$CommercialBreakVideoAdOverlay7.children.length>0)c("DOM").remove(this.$CommercialBreakVideoAdOverlay7.children[0]);this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(l);var m=this.$CommercialBreakVideoAdOverlay4?this.$CommercialBreakVideoAdOverlay4.isMuted():true,n=this.$CommercialBreakVideoAdOverlay4?this.$CommercialBreakVideoAdOverlay4.getVolume():0;if(this.$CommercialBreakVideoAdOverlay5)this.$CommercialBreakVideoAdOverlay5.release();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay4.destroy();this.$CommercialBreakVideoAdOverlay4=null;this.$CommercialBreakVideoAdOverlay22();var o=this.$CommercialBreakVideoAdOverlay4;if(o){o.setVolume(n);if(m)o.mute();else o.unmute()}}else this.$CommercialBreakVideoAdOverlay26()}};i.prototype.$CommercialBreakVideoAdOverlay21=function(){"use strict";var j=c("DOMDimensions").getElementDimensions(this.$CommercialBreakVideoAdOverlay1.getRootNode());if(this.$CommercialBreakVideoAdOverlay1.isFullscreen())j=c("DOMDimensions").getElementDimensions(c("getFullScreenElement")());return j};i.prototype.$CommercialBreakVideoAdOverlay29=function(){"use strict";var j=this.$CommercialBreakVideoAdOverlay4;if(!j)return;var k=this.$CommercialBreakVideoAdOverlay21();if((!k.width||!k.height)&&this.$CommercialBreakVideoAdOverlay13)k=this.$CommercialBreakVideoAdOverlay13;j.setDimensions(k.width,k.height)};i.prototype.$CommercialBreakVideoAdOverlay30=function(){"use strict";var j=this.$CommercialBreakVideoAdOverlay4;if(!j)return;var k=this.$CommercialBreakVideoAdOverlay1.getSource();if(k)j.updateSource(k)};i.prototype.$CommercialBreakVideoAdOverlay33=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay2.shouldPlayInstreamAd()){c("CSS").removeClass(this.$CommercialBreakVideoAdOverlay7,"_50m2");if(!this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay1.emit("commercialBreak/hideUFI");this.$CommercialBreakVideoAdOverlay2.playInstreamAd()}};i.prototype.$CommercialBreakVideoAdOverlay28=function(){"use strict";if(!this.$CommercialBreakVideoAdOverlay4||!this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PLAYING))return;var j=this.$CommercialBreakVideoAdOverlay1.getOption("VideoWithClickToChannelView","isChannelEligible"),k=this.$CommercialBreakVideoAdOverlay1.getOption("WatchAndScroll","isActive");if(j&&!k)c("Bootloader").loadModules(["VideoChannelController"],function(l){l.openFromVideoPlayer(this.$CommercialBreakVideoAdOverlay1,this.$CommercialBreakVideoAdOverlay1.getVideoChannelID(),this.$CommercialBreakVideoAdOverlay8.videoChannelCaller)}.bind(this),"CommercialBreakVideoAdOverlay")};i.prototype.$CommercialBreakVideoAdOverlay23=function(j){"use strict";if(j){this.$CommercialBreakVideoAdOverlay20();this.$CommercialBreakVideoAdOverlay29();if(this.$CommercialBreakVideoAdOverlay4)c("CSS").removeClass(this.$CommercialBreakVideoAdOverlay7,"_50m2")}else this.$CommercialBreakVideoAdOverlay19()};i.prototype.$CommercialBreakVideoAdOverlay31=function(){"use strict";__p&&__p();if(this.$CommercialBreakVideoAdOverlay9)return;this.$CommercialBreakVideoAdOverlay9=true;this.$CommercialBreakVideoAdOverlay5=new(c("SubscriptionsHandler"))();this.$CommercialBreakVideoAdOverlay5.addSubscriptions(this.$CommercialBreakVideoAdOverlay1.addListener("VideoChannelController/enterChannel",this.$CommercialBreakVideoAdOverlay34.bind(this)),c("Arbiter").subscribe("VideoChannelView/closed",this.$CommercialBreakVideoAdOverlay34.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("TahoeController/exitTahoe",this.$CommercialBreakVideoAdOverlay34.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("TahoeController/enterTahoe",this.$CommercialBreakVideoAdOverlay34.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("toggleFullscreen",function(){this.$CommercialBreakVideoAdOverlay29();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay4.logEvent(this.$CommercialBreakVideoAdOverlay4.isFullscreen()?c("VideoPlayerLoggerEvent").ENTERED_FS:c("VideoPlayerLoggerEvent").EXITED_FS)}.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("WatchAndScroll/positionUpdated",this.$CommercialBreakVideoAdOverlay29.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/scrollAway",function(){if(this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PLAYING)){this.$CommercialBreakVideoAdOverlay4.pause(c("VideoPlayerReason").AUTOPLAY);this.$CommercialBreakVideoAdOverlay1.once("commercialBreak/scrollInto",function(){if(this.$CommercialBreakVideoAdOverlay9&&this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PAUSED))this.$CommercialBreakVideoAdOverlay4.play(c("VideoPlayerReason").AUTOPLAY)}.bind(this))}}.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/scrollInto",function(){if(this.$CommercialBreakVideoAdOverlay9&&this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").READY))this.$CommercialBreakVideoAdOverlay33()}.bind(this)),c("Event").listen(window,"focus",this.$CommercialBreakVideoAdOverlay35.bind(this)));this.$CommercialBreakVideoAdOverlay33()};i.prototype.$CommercialBreakVideoAdOverlay35=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay17&&c("gkx")("AT66Z79NswpYFsO2HRr4G1bTG5VJVqTPW01ZncfhaP9KYk7xRjZpH31DhXmSLmHqwAl8I-jzWVNqbJuSv73dKTUSC2M6ufJ3-1EqUthLG94bOQ"))this.$CommercialBreakVideoAdOverlay3.endCommercialBreakByCTAClick()};i.prototype.$CommercialBreakVideoAdOverlay34=function(){"use strict";this.$CommercialBreakVideoAdOverlay29();this.$CommercialBreakVideoAdOverlay30()};i.prototype.$CommercialBreakVideoAdOverlay19=function(){"use strict";__p&&__p();if(!this.$CommercialBreakVideoAdOverlay9)return;this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay10=false;this.$CommercialBreakVideoAdOverlay11=false;this.$CommercialBreakVideoAdOverlay12=0;this.$CommercialBreakVideoAdOverlay14=false;this.$CommercialBreakVideoAdOverlay15={};this.$CommercialBreakVideoAdOverlay16=0;this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(null);this.$CommercialBreakVideoAdOverlay17=false;c("CSS").addClass(this.$CommercialBreakVideoAdOverlay7,"_50m2");if(this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PLAYING))this.$CommercialBreakVideoAdOverlay4.pause(c("VideoPlayerReason").AUTOPLAY);this.$CommercialBreakVideoAdOverlay5.release();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay4.destroy();this.$CommercialBreakVideoAdOverlay4=null;while(this.$CommercialBreakVideoAdOverlay7.children.length>0)c("DOM").remove(this.$CommercialBreakVideoAdOverlay7.children[0])};f.exports=i}),null);
__d("InstreamNFXHideType",[],(function a(b,c,d,e,f,g){f.exports={HIDE_AD:"HIDE_AD",HIDE_AD_BREAKS:"HIDE_AD_BREAKS"}}),null);
__d("CountdownTimer.react",["fbt","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=1e3,m=3600,n=m*24*l;function o(t){if(t<10)return"0"+t;else return t.toString()}function p(t,u){var v=0;while(v<t.length&&u(t[v]))v+=1;return t.slice(v)}function q(t){t=p(t,function(v){return v===0});if(t.length===0)return"0";else{for(var u=1;u<t.length;u+=1)t[u]=o(t[u]);return t.join(":")}}var r={HUMAN:"human",DIGITAL:"digital"};i=babelHelpers.inherits(s,c("React").Component);j=i&&i.prototype;function s(){__p&&__p();var t,u;"use strict";for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=j.constructor).call.apply(t,[this].concat(w)),this.$CountdownTimer1=function(){return Math.max(this.props.endTime-Date.now(),0)}.bind(this),this.$CountdownTimer2=function(){var y=this.$CountdownTimer1();this.setState({remainingTime:y});if(y<=0){clearInterval(this.interval);if(this.props.onComplete)this.props.onComplete()}}.bind(this),this.formatTime=function(y,z,A){if(this.props.format==r.DIGITAL)return q([y,z,A]);else if(this.props.format==r.HUMAN)return h._({"*":{"*":{"*":"{hours}h {mins}m {seconds}s"}}},[h.param("hours",y,[0]),h.param("mins",z,[0]),h.param("seconds",A,[0])]);else throw new Error("Unknown format: "+this.props.format)}.bind(this),this.state={remainingTime:this.$CountdownTimer1()},u}s.prototype.componentDidMount=function(){"use strict";this.$CountdownTimer2();this.interval=setInterval(this.$CountdownTimer2,l)};s.prototype.componentWillUnmount=function(){"use strict";clearInterval(this.interval)};s.prototype.render=function(){"use strict";var t=this.state.remainingTime;if(t>=n){var u=Math.floor(t/n);return c("React").createElement("span",null,u===1?h._("1 day"):h._({"*":"{number} days"},[h.param("number",u,[0])]))}else{var v=Math.ceil(t/l),w=Math.floor(v/m),x=new Date(v%m*l),y=x.getUTCMinutes(),z=x.getSeconds();return c("React").createElement("span",null,this.formatTime(w,y,z))}};s.propTypes={endTime:k.number.isRequired,format:k.oneOf([r.HUMAN,r.DIGITAL]).isRequired,onComplete:k.func};f.exports=s}),null);
__d("VideoCommercialBreakTransitionOverlay",["cx","fbt","CommercialBreakState","CountdownTimer.react","CSS","React","ReactDOM","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=300,k=300;function l(m,n,o){"use strict";__p&&__p();this.$VideoCommercialBreakTransitionOverlay9=null;this.$VideoCommercialBreakTransitionOverlay10=null;this.$VideoCommercialBreakTransitionOverlay1=n;this.$VideoCommercialBreakTransitionOverlay2=o;this.$VideoCommercialBreakTransitionOverlay7=new(c("SubscriptionsHandler"))();this.$VideoCommercialBreakTransitionOverlay4=m;this.$VideoCommercialBreakTransitionOverlay5=m.addListener("optionsChange",function(){return this.$VideoCommercialBreakTransitionOverlay11()}.bind(this));this.$VideoCommercialBreakTransitionOverlay11()}l.prototype.$VideoCommercialBreakTransitionOverlay11=function(){"use strict";__p&&__p();this.$VideoCommercialBreakTransitionOverlay3=this.$VideoCommercialBreakTransitionOverlay4.getOption("VideoWithCommercialBreak","controller");if(!this.$VideoCommercialBreakTransitionOverlay3)return;var m=this.$VideoCommercialBreakTransitionOverlay4.getOption("VideoWithInstreamVideo","controller");if(!m)return;this.$VideoCommercialBreakTransitionOverlay6=m.getConfig();this.$VideoCommercialBreakTransitionOverlay5.remove();this.$VideoCommercialBreakTransitionOverlay7.engage();this.$VideoCommercialBreakTransitionOverlay7.addSubscriptions(this.$VideoCommercialBreakTransitionOverlay3.addListener("commercialBreak/stateChange",function(n){var o=n.state,p=n.countdownDurationMsecs;this.$VideoCommercialBreakTransitionOverlay12(o,p)}.bind(this)));this.$VideoCommercialBreakTransitionOverlay4.addListener("VideoChannelController/exitChannel",this.$VideoCommercialBreakTransitionOverlay13.bind(this));this.$VideoCommercialBreakTransitionOverlay4.addListener("stateChange",this.$VideoCommercialBreakTransitionOverlay13.bind(this))};l.prototype.$VideoCommercialBreakTransitionOverlay12=function(m,n){"use strict";__p&&__p();this.$VideoCommercialBreakTransitionOverlay8=m;switch(m){case c("CommercialBreakState").ENTERING_TRANSITION:case c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD:this.$VideoCommercialBreakTransitionOverlay14();break;case c("CommercialBreakState").PLAY_AD_COUNTDOWN:this.$VideoCommercialBreakTransitionOverlay15(n);break;case c("CommercialBreakState").LEAVING_TRANSITION:this.$VideoCommercialBreakTransitionOverlay16();break;case c("CommercialBreakState").INIT:this.$VideoCommercialBreakTransitionOverlay17();break}this.$VideoCommercialBreakTransitionOverlay13()};l.prototype.$VideoCommercialBreakTransitionOverlay14=function(){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast){this.$VideoCommercialBreakTransitionOverlay18(i._("will be back soon"),null);this.$VideoCommercialBreakTransitionOverlay4.emit("commercialBreak/hideUFI")}else this.$VideoCommercialBreakTransitionOverlay19()};l.prototype.$VideoCommercialBreakTransitionOverlay19=function(){"use strict";__p&&__p();if(!this.$VideoCommercialBreakTransitionOverlay6.beginningNonLiveTransitionTimeMs)return;this.$VideoCommercialBreakTransitionOverlay20();var m=Math.max(j,this.$VideoCommercialBreakTransitionOverlay6.beginningNonLiveTransitionTimeMs-j);c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");this.$VideoCommercialBreakTransitionOverlay9=setTimeout(function(){clearTimeout(this.$VideoCommercialBreakTransitionOverlay9);this.$VideoCommercialBreakTransitionOverlay3.emit("commercialBreak/inTransition",{shouldShowAd:true});c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay")}.bind(this),m)};l.prototype.$VideoCommercialBreakTransitionOverlay16=function(){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)this.$VideoCommercialBreakTransitionOverlay18(i._("is returning now"),null);else this.$VideoCommercialBreakTransitionOverlay21()};l.prototype.$VideoCommercialBreakTransitionOverlay21=function(){"use strict";if(!this.$VideoCommercialBreakTransitionOverlay6.endingNonLiveTransitionTimeMs)return;this.$VideoCommercialBreakTransitionOverlay20();c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");this.$VideoCommercialBreakTransitionOverlay10=setTimeout(function(){clearTimeout(this.$VideoCommercialBreakTransitionOverlay10);this.$VideoCommercialBreakTransitionOverlay3.emit("commercialBreak/inTransition",{shouldShowAd:false});c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay")}.bind(this),k)};l.prototype.$VideoCommercialBreakTransitionOverlay20=function(){"use strict";c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay")};l.prototype.$VideoCommercialBreakTransitionOverlay15=function(m){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)if(m)this.$VideoCommercialBreakTransitionOverlay18(i._("will return in"),m);else this.$VideoCommercialBreakTransitionOverlay18(i._("will be back soon"),null)};l.prototype.$VideoCommercialBreakTransitionOverlay18=function(m,n){"use strict";c("ReactDOM").unmountComponentAtNode(this.$VideoCommercialBreakTransitionOverlay2);var o=null;if(n)o=c("React").createElement("div",{className:"_4fih"},c("React").createElement(c("CountdownTimer.react"),{endTime:Date.now()+n,format:"digital"}));c("ReactDOM").render(c("React").createElement("div",null,c("React").createElement("div",{className:"_4fid"},m),o),this.$VideoCommercialBreakTransitionOverlay2)};l.prototype.$VideoCommercialBreakTransitionOverlay17=function(){"use strict";c("ReactDOM").unmountComponentAtNode(this.$VideoCommercialBreakTransitionOverlay2);this.$VideoCommercialBreakTransitionOverlay4.emit("commercialBreak/showUFI");clearTimeout(this.$VideoCommercialBreakTransitionOverlay9);clearTimeout(this.$VideoCommercialBreakTransitionOverlay10)};l.prototype.$VideoCommercialBreakTransitionOverlay22=function(){"use strict";return this.$VideoCommercialBreakTransitionOverlay4?this.$VideoCommercialBreakTransitionOverlay4.getVideoNodeNullable():null};l.prototype.$VideoCommercialBreakTransitionOverlay23=function(){"use strict";c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay1,"_4fii");var m=this.$VideoCommercialBreakTransitionOverlay22();if(m)c("CSS").removeClass(m,"_1_d3")};l.prototype.$VideoCommercialBreakTransitionOverlay24=function(){"use strict";c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay1,"_4fii");var m=this.$VideoCommercialBreakTransitionOverlay22();if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast&&m)c("CSS").addClass(m,"_1_d3")};l.prototype.$VideoCommercialBreakTransitionOverlay13=function(){"use strict";switch(this.$VideoCommercialBreakTransitionOverlay8){case c("CommercialBreakState").ENTERING_TRANSITION:case c("CommercialBreakState").LEAVING_TRANSITION:this.$VideoCommercialBreakTransitionOverlay24();break;case c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD:case c("CommercialBreakState").PLAY_AD_COUNTDOWN:if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)this.$VideoCommercialBreakTransitionOverlay24();else this.$VideoCommercialBreakTransitionOverlay23();break;default:this.$VideoCommercialBreakTransitionOverlay23()}};f.exports=l}),null);
__d("AdBreakToastEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FETCH_AD:"fetch_ad",FETCH_AD_SUCCEED:"fetch_ad_succeed",FETCH_AD_FAIL:"fetch_ad_fail",IMPRESSION_LOGGING:"impression_logging",VIEWER_TABLE_LOGGING:"viewer_table_logging"})}),null);
__d("InstreamPlacement",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PRE_ROLL:"pre_roll",MID_ROLL:"mid_roll",POST_ROLL:"post_roll"})}),null);
__d("XInstreamVideoDemoStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/instream_demo/view/story/async/",{instream_video_type:{type:"Enum",required:true,enumType:1},instream_video_break_index:{type:"Int",required:true},show_short_ad:{type:"Bool",defaultValue:false}})}),null);
__d("XInstreamVideoSponsoredStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/instream_video/view/story/async/",{host_video_id:{type:"FBID",required:true},instream_video_type:{type:"Enum",required:true,enumType:1},instream_video_break_index:{type:"Int",required:true},player_origin:{type:"String"},player_sub_origin:{type:"String"},script_path:{type:"String"},video_channel_caller:{type:"Enum",enumType:1},is_sponsored_host_video:{type:"Bool",defaultValue:false},referrer:{type:"String"},option_menu_button_id:{type:"String"},host_video_stall_count:{type:"Int"},ad_break_duration_ms:{type:"Int"},player_format:{type:"String"},instream_placement:{type:"Enum",enumType:1},story_identifier:{type:"String"}})}),null);
__d("VideoWithCommercialBreak",["cx","AdBreakToastEvent","AsyncRequest","BanzaiODS","Base64","CommercialBreakExperiments","CommercialBreakHostStoryComponentType","CommercialBreakMobileEvent","CommercialBreakSkywalkerSubscriptionManager","CommercialBreakState","CommercialBreakUtil","CSS","DataStore","DateConsts","EntstreamFeedObjectFollowup","EventEmitter","InstreamNFXHideType","InstreamPlacement","RTISubscriptionManager","ScriptPath","StoryComponentVideoPlayerControllerRegistry","SubscriptionsHandler","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerStates","XInstreamVideoDemoStoryAsyncController","XInstreamVideoSponsoredStoryAsyncController","hasAdblock","uniqueID"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=Object.freeze({INTENT:"intent",START:"start"}),l=Object.freeze({SHORT_AD_COUNTDOWN_MS:3e3}),m=Object.freeze({NONE:"none",PLAYBACK_FINISHED:"playback_finished",CUT_OFF:"cut_off",HIDE_AD:"hide_ad",HIDE_AD_BREAKS:"hide_ad_breaks",CALL_TO_ACTION_BUTTON_CLICKS:"call_to_action_button_clicks"}),n=Object.freeze({NORMAL:"normal",STALL_STREAM:"stall_stream",STREAM_DRY_OUT:"stream_dry_out"});i=babelHelpers.inherits(o,c("EventEmitter"));j=i&&i.prototype;function o(p){"use strict";__p&&__p();j.constructor.call(this);this.$VideoWithCommercialBreak5=c("CommercialBreakState").INIT;this.$VideoWithCommercialBreak10=new(c("SubscriptionsHandler"))();this.$VideoWithCommercialBreak1=p;this.$VideoWithCommercialBreak11=null;this.$VideoWithCommercialBreak13=-1;this.$VideoWithCommercialBreak19=false;this.$VideoWithCommercialBreak12={};this.$VideoWithCommercialBreak22=0;this.$VideoWithCommercialBreak18=null;this.$VideoWithCommercialBreak26=c("uniqueID")();this.$VideoWithCommercialBreak28=-1;this.$VideoWithCommercialBreak2=p.addListener("optionsChange",function(){return this.$VideoWithCommercialBreak30()}.bind(this));this.$VideoWithCommercialBreak30();c("hasAdblock")(function(q){this.$VideoWithCommercialBreak21=q}.bind(this))}o.prototype.$VideoWithCommercialBreak30=function(){"use strict";__p&&__p();this.$VideoWithCommercialBreak9=this.$VideoWithCommercialBreak1.getOption("VideoWithInstreamVideo","controller");if(!this.$VideoWithCommercialBreak9)return;this.$VideoWithCommercialBreak2.remove();this.$VideoWithCommercialBreak4=this.$VideoWithCommercialBreak9.getConfig();if(!this.$VideoWithCommercialBreak4.isComposerPreviewing){if(c("CommercialBreakExperiments").instreamAdsNFXOnContextCard)c("StoryComponentVideoPlayerControllerRegistry").registerVideoPlayerController(this.$VideoWithCommercialBreak1,c("CommercialBreakHostStoryComponentType").POP_OVER_MENU);if(c("CommercialBreakExperiments").instreamAdsEnableGreyHostStory)c("StoryComponentVideoPlayerControllerRegistry").registerVideoPlayerController(this.$VideoWithCommercialBreak1,c("CommercialBreakHostStoryComponentType").HOST_STORY_HEADER)}this.reset();this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","enabled",function(){return true});this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","controller",function(){return this}.bind(this));this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","isInstreamPausedByNFX",this.$VideoWithCommercialBreak31.bind(this));if(this.$VideoWithCommercialBreak4.skywalkerTopic){if(c("RTISubscriptionManager").isSubscribed(this.$VideoWithCommercialBreak4.skywalkerTopic))this.$VideoWithCommercialBreak17=true;var p=c("CommercialBreakSkywalkerSubscriptionManager").subscribe(this.$VideoWithCommercialBreak4.skywalkerTopic,this.$VideoWithCommercialBreak32.bind(this));if(p){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").SUBSCRIPTION_SUCCESS);if(this.$VideoWithCommercialBreak4.isLive){this.$VideoWithCommercialBreak1.addListener("commercialBreak/scrollAway",function(){if(this.$VideoWithCommercialBreak13<0)this.$VideoWithCommercialBreak13=Date.now()}.bind(this));this.$VideoWithCommercialBreak1.addListener("commercialBreak/scrollInto",function(){this.$VideoWithCommercialBreak13=-1}.bind(this))}}else this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").SUBSCRIPTION_FAILURE)}};o.prototype.$VideoWithCommercialBreak33=function(){"use strict";return this.$VideoWithCommercialBreak4.isLive&&this.$VideoWithCommercialBreak23==="false"&&this.$VideoWithCommercialBreak11===null};o.prototype.$VideoWithCommercialBreak34=function(p){__p&&__p();var q=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];"use strict";if(p===this.$VideoWithCommercialBreak5)return;if(p===c("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak33()){this.reset();return}q.state=p;if(p===c("CommercialBreakState").INIT){this.$VideoWithCommercialBreak9.resetInstreamVideo();this.$VideoWithCommercialBreak10.release();this.$VideoWithCommercialBreak10.engage();this.$VideoWithCommercialBreak11=null;this.$VideoWithCommercialBreak24=null;this.$VideoWithCommercialBreak25=null;this.$VideoWithCommercialBreak27=null;this.$VideoWithCommercialBreak28=-1}else if(p===c("CommercialBreakState").ENTERING_TRANSITION||p===c("CommercialBreakState").PLAY_AD_COUNTDOWN||p===c("CommercialBreakState").LEAVING_TRANSITION||p===c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD)this.$VideoWithCommercialBreak9.registerInstreamVideo(null);this.$VideoWithCommercialBreak5=p;this.emit("commercialBreak/stateChange",q)};o.prototype.setStoryIdentifier=function(p){"use strict";this.$VideoWithCommercialBreak29=p};o.prototype.getChevronButtonID=function(){"use strict";return this.$VideoWithCommercialBreak26};o.prototype.getInstreamVideoOptionMenuURI=function(){"use strict";return this.$VideoWithCommercialBreak18};o.prototype.getIsCommercialBreakOngoing=function(){"use strict";return this.$VideoWithCommercialBreak5===c("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak4.isBroadcast||this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN||this.$VideoWithCommercialBreak5===c("CommercialBreakState").LEAVING_TRANSITION||this.$VideoWithCommercialBreak5===c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD};o.prototype.getIsDuringTransition=function(){"use strict";return this.$VideoWithCommercialBreak5===c("CommercialBreakState").ENTERING_TRANSITION||this.$VideoWithCommercialBreak5===c("CommercialBreakState").LEAVING_TRANSITION};o.prototype.reset=function(){"use strict";__p&&__p();this.$VideoWithCommercialBreak34(c("CommercialBreakState").INIT);this.$VideoWithCommercialBreak6=0;this.$VideoWithCommercialBreak22=0;this.$VideoWithCommercialBreak7=-1;this.$VideoWithCommercialBreak8=-1;this.$VideoWithCommercialBreak16=null;this.$VideoWithCommercialBreak19=false;this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(null);this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakVideoID(null);this.$VideoWithCommercialBreak18=null};o.prototype.logAndEndCommercialBreak=function(p){"use strict";this.$VideoWithCommercialBreak16=p||null;this.$VideoWithCommercialBreak35();this.reset()};o.prototype.endCommercialBreakByCTAClick=function(){"use strict";this.logAndEndCommercialBreak(m.CALL_TO_ACTION_BUTTON_CLICKS)};o.prototype.$VideoWithCommercialBreak36=function(p){"use strict";var q=this.$VideoWithCommercialBreak12[p.type];if(!q)return false;var r=true;Object.keys(q).forEach(function(s){if(q[s]!==p[s])r=false});return r};o.prototype.$VideoWithCommercialBreak32=function(p){"use strict";__p&&__p();p=JSON.parse(p.payload);if(this.$VideoWithCommercialBreak36(p)){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SKYWALKER_RECEIVED_DUPLICATE_EVENT);return}var q=p.type;if(q===k.START){this.$VideoWithCommercialBreak12[k.START]=p;this.onStartCommand(p)}else if(q===k.INTENT){this.$VideoWithCommercialBreak12[k.INTENT]=p;this.onIntentCommand(p)}else this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").RECEIVE_INVALID_MSG)};o.prototype.onIntentCommand=function(p){"use strict";__p&&__p();var q=p.commercial_break_length_ms?parseInt(p.commercial_break_length_ms,10):null,r=Object.prototype.hasOwnProperty.call(p,"index")?parseInt(p.index,10):0;if(this.$VideoWithCommercialBreak4.isLive&&p.type===k.INTENT){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").RECEIVE_INTENT_MSG,{topic:this.$VideoWithCommercialBreak4.skywalkerTopic,commercial_break_length_ms:q,ad_break_index:r});if(this.$VideoWithCommercialBreak13>0&&Date.now()-this.$VideoWithCommercialBreak13>this.$VideoWithCommercialBreak4.maxDurationHostVideoOffscreenToFetchMs)return}if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").INIT&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PREPARE&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").AD_REQUEST_SENT)return;this.$VideoWithCommercialBreak34(c("CommercialBreakState").INIT);this.$VideoWithCommercialBreak34(c("CommercialBreakState").PREPARE);this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(r);if(this.$VideoWithCommercialBreak4.isLive&&q)this.$VideoWithCommercialBreak6=q;if(this.$VideoWithCommercialBreak17)return;var s=this.$VideoWithCommercialBreak9.getCurrentInstreamVideoAdType(),t=this.$VideoWithCommercialBreak1.getSource()===c("VideoPlayerLoggerSource").PERMALINK?document.referrer:null;if(!s||!this.$VideoWithCommercialBreak4.hostVideoID&&!this.$VideoWithCommercialBreak4.shouldShowDemoAd){c("BanzaiODS").bumpEntityKey("instreamads","missing_query_params");return}var u={host_video_id:this.$VideoWithCommercialBreak4.hostVideoID,instream_video_type:s,instream_video_break_index:r,player_origin:this.$VideoWithCommercialBreak1.getPlayerOrigin(),script_path:c("ScriptPath").getScriptPath(),player_sub_origin:c("CommercialBreakUtil").getVideoPlayerSubOrigin(this.$VideoWithCommercialBreak1),is_sponsored_host_video:this.$VideoWithCommercialBreak4.isSponsored,video_channel_caller:this.$VideoWithCommercialBreak4.videoChannelCaller,host_video_stall_count:this.$VideoWithCommercialBreak1.getStallCount(),ad_break_duration_ms:q,referrer:t,option_menu_button_id:"",should_show_demo_ad:this.$VideoWithCommercialBreak4.shouldShowDemoAd,should_show_short_demo_ad:this.$VideoWithCommercialBreak4.shouldShowShortDemoAd,player_format:this.$VideoWithCommercialBreak37(),instream_placement:c("InstreamPlacement").MID_ROLL,story_identifier:c("Base64").encode(this.$VideoWithCommercialBreak29)};if(c("CommercialBreakExperiments").instreamAdsNFXOnContextCard)u.option_menu_button_id=this.getChevronButtonID();this.$VideoWithCommercialBreak38(u);this.$VideoWithCommercialBreak34(c("CommercialBreakState").AD_REQUEST_SENT)};o.prototype.$VideoWithCommercialBreak37=function(){"use strict";return c("CommercialBreakUtil").getVideoPlayerFormat(this.$VideoWithCommercialBreak1)};o.prototype.$VideoWithCommercialBreak38=function(p){"use strict";__p&&__p();var q=null;if(p.should_show_demo_ad){var r=c("XInstreamVideoDemoStoryAsyncController").getURIBuilder().setEnum("instream_video_type",p.instream_video_type).setInt("instream_video_break_index",p.instream_video_break_index).setBool("show_short_ad",p.should_show_short_demo_ad);q=new(c("AsyncRequest"))(r.getURI()).setMethod("GET").setReadOnly(true).setHandler(function(u){this.$VideoWithCommercialBreak39(u.getPayload())}.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak40.bind(this))}else if(c("CommercialBreakExperiments").instreamAdsFetchFromFeedEndpoint&&this.$VideoWithCommercialBreak21){var s="/ajax/pagelet/generic.php/LitestandTailLoadPagelet";q=new(c("AsyncRequest"))(s).setMethod("GET").setReadOnly(true).setData({data:c("Base64").encode(JSON.stringify(p))}).setHandler(this.$VideoWithCommercialBreak41.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak40.bind(this))}else{var t=c("XInstreamVideoSponsoredStoryAsyncController").getURIBuilder().setFBID("host_video_id",p.host_video_id).setEnum("instream_video_type",p.instream_video_type).setInt("instream_video_break_index",p.instream_video_break_index).setEnum("video_channel_caller",p.video_channel_caller).setBool("is_sponsored_host_video",p.is_sponsored_host_video).setInt("host_video_stall_count",p.host_video_stall_count).setInt("ad_break_duration_ms",p.ad_break_duration_ms).setString("player_origin",p.player_origin).setString("player_sub_origin",p.player_sub_origin).setString("script_path",p.script_path).setString("referrer",p.referrer).setString("option_menu_button_id",p.option_menu_button_id).setString("player_format",p.player_format).setEnum("instream_placement",p.instream_placement).setString("story_identifier",p.story_identifier);q=new(c("AsyncRequest"))(t.getURI()).setMethod("GET").setReadOnly(true).setHandler(function(u){this.$VideoWithCommercialBreak39(u.getPayload())}.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak40.bind(this))}q&&q.send();this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",c("AdBreakToastEvent").FETCH_AD);this.$VideoWithCommercialBreak28=Date.now()};o.prototype.$VideoWithCommercialBreak41=function(p){"use strict";this.$VideoWithCommercialBreak39(JSON.parse(c("Base64").decode(p.getPayload())))};o.prototype.$VideoWithCommercialBreak40=function(){"use strict";c("hasAdblock")(function(p){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_FAILURE,{is_ad_block_enabled:p})}.bind(this));this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",c("AdBreakToastEvent").FETCH_AD_FAIL)};o.prototype.$VideoWithCommercialBreak39=function(p){"use strict";__p&&__p();if(!this.$VideoWithCommercialBreak4.isBroadcast&&this.$VideoWithCommercialBreak5===c("CommercialBreakState").ENTERING_TRANSITION)return;if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").AD_REQUEST_SENT&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").CB_SCHEDULED&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").ENTERING_TRANSITION)return;var q=p.isEmpty,r=p.instreamVideoAdBreakIndex,s=p.instreamVideoAdType,t=p.videoAdPodContents,u=t?t[0]:null,v=u?u.videoAdStory:p.videoAdStory,w=u?u.instreamVideoAdBreakVideoID:p.instreamVideoAdBreakVideoID,x=u?u.instreamVideoOptionMenuURI:p.instreamVideoOptionMenuURI;if(p.shouldParseAdPods)if(t){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_SUCCESS,{is_empty:q});var y=this.$VideoWithCommercialBreak9.getCurrentInstreamVideoAdType();if(s===y){this.$VideoWithCommercialBreak11=q?null:r;this.emit("commercialBreak/videoAdPodFetched",t,q,r)}}else this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_FAILURE);else if(v){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_SUCCESS,{is_empty:q,commercial_break_ad_client_token:p.instreamVideoAdBreakClientToken,client_side_ads_query_consumed_time_in_ms:this.$VideoWithCommercialBreak28>0?Date.now()-this.$VideoWithCommercialBreak28:null});var z=this.$VideoWithCommercialBreak9.getCurrentInstreamVideoAdType();if(s===z){this.$VideoWithCommercialBreak11=q?null:r;var A=q?null:w;this.$VideoWithCommercialBreak24=p.callToAction;this.$VideoWithCommercialBreak25=p.contextCardTrackingWrapper;this.$VideoWithCommercialBreak27=p.infoCardNuxID;this.emit("commercialBreak/videoAdStoryFetched",v,q,r,A,p.instreamVideoAdBreakClientToken);this.emit("commercialBreak/runFraudDetector",p.instreamAdImpressionIdentifier);this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",c("AdBreakToastEvent").FETCH_AD_SUCCEED,{isEmpty:q,disabledReason:p.disabledReason});if(c("CommercialBreakExperiments").instreamAdsNFXOnContextCard&&!q)this.$VideoWithCommercialBreak18=x}}else this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_FAILURE)};o.prototype.getCallToAction=function(){"use strict";return this.$VideoWithCommercialBreak24};o.prototype.getContextCardTrackingWrapper=function(){"use strict";return this.$VideoWithCommercialBreak25};o.prototype.getInfoCardNuxID=function(){"use strict";return this.$VideoWithCommercialBreak27};o.prototype.onStartCommand=function(p){"use strict";__p&&__p();var q=parseInt(p.commercial_break_start_time_ms,10);this.$VideoWithCommercialBreak7=q;var r=this.$VideoWithCommercialBreak42();this.$VideoWithCommercialBreak8=r;this.$VideoWithCommercialBreak23=Object.prototype.hasOwnProperty.call(p,"commercial_break_drop_live_stream")?p.commercial_break_drop_live_stream:null;var s=Object.prototype.hasOwnProperty.call(p,"index")?parseInt(p.index,10):0;if(this.$VideoWithCommercialBreak4.isLive){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").RECEIVE_START_MSG,{topic:this.$VideoWithCommercialBreak4.skywalkerTopic,commercial_break_start_time_ms:q,ad_break_index:s});if(q<r-this.$VideoWithCommercialBreak4.allowedStartTimeDeltaMs){if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").INIT)c("BanzaiODS").bumpEntityKey("instreamads","receive_start_after_break");return}}if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").INIT&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PREPARE&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").AD_REQUEST_SENT)return;this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(s);if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").INIT){var t=p.commercial_break_length_ms?parseInt(p.commercial_break_length_ms,10):null;this.$VideoWithCommercialBreak6=t?t:this.$VideoWithCommercialBreak4.commercialBreakLengthMs;this.onIntentCommand(p)}this.$VideoWithCommercialBreak34(c("CommercialBreakState").CB_SCHEDULED);if(this.$VideoWithCommercialBreak4.isLive)this.$VideoWithCommercialBreak10.addSubscriptions(this.$VideoWithCommercialBreak1.addListener("streamInterrupted",this.$VideoWithCommercialBreak43.bind(this,true)));this.$VideoWithCommercialBreak3=this.$VideoWithCommercialBreak1.addListener("updateStatus",function(){return this.$VideoWithCommercialBreak43()}.bind(this));this.$VideoWithCommercialBreak43()};o.prototype.$VideoWithCommercialBreak43=function(){__p&&__p();var p=arguments.length<=0||arguments[0]===undefined?false:arguments[0];"use strict";if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").CB_SCHEDULED){this.$VideoWithCommercialBreak3.remove();return}var q=this.$VideoWithCommercialBreak42(),r=this.$VideoWithCommercialBreak7-q,s=r>0&&r<=this.$VideoWithCommercialBreak4.startFromStreamDryDeltaMs&&this.$VideoWithCommercialBreak1.isBuffering()&&this.$VideoWithCommercialBreak1.isState(c("VideoPlayerStates").PLAYING);if(!this.$VideoWithCommercialBreak4.isLive||Math.abs(r)<=this.$VideoWithCommercialBreak4.allowedStartTimeDeltaMs||s||p){this.$VideoWithCommercialBreak3.remove();var t=n.NORMAL;if(s)t=n.STALL_STREAM;else if(p)t=n.STREAM_DRY_OUT;var u=this.$VideoWithCommercialBreak7-this.$VideoWithCommercialBreak8;this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START,{timestamp_delta_ms:parseInt(r,10),timestamp_latency_ms:parseInt(u,10),playback_trigger_event:t,viewer_count:this.$VideoWithCommercialBreak44()});this.$VideoWithCommercialBreak34(c("CommercialBreakState").ENTERING_TRANSITION);this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);var v=this.$VideoWithCommercialBreak4.isBroadcast?this.$VideoWithCommercialBreak4.beginningTransitionTimeMs:this.$VideoWithCommercialBreak4.beginningNonLiveTransitionTimeMs;setTimeout(this.$VideoWithCommercialBreak45.bind(this),v)}else if(q>this.$VideoWithCommercialBreak7){this.$VideoWithCommercialBreak3.remove();this.reset()}};o.prototype.$VideoWithCommercialBreak45=function(){"use strict";__p&&__p();if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").CB_SCHEDULED&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PLAY_AD_COUNTDOWN)return;var p=this.$VideoWithCommercialBreak6-this.$VideoWithCommercialBreak4.beginningTransitionTimeMs,q=p-this.$VideoWithCommercialBreak4.endingTransitionTimeMs;if(this.$VideoWithCommercialBreak4.isLive)this.$VideoWithCommercialBreak22=q;this.$VideoWithCommercialBreak34(c("CommercialBreakState").PLAY_AD_COUNTDOWN,{countdownDurationMsecs:this.$VideoWithCommercialBreak4.isLive?q:0});if(this.$VideoWithCommercialBreak4.isLive){this.$VideoWithCommercialBreak14=true;setTimeout(function(){this.$VideoWithCommercialBreak14=false}.bind(this),q-l.SHORT_AD_COUNTDOWN_MS);setTimeout(this.$VideoWithCommercialBreak46.bind(this),q);this.$VideoWithCommercialBreak15=false;setTimeout(this.$VideoWithCommercialBreak47.bind(this),p);setTimeout(this.$VideoWithCommercialBreak48.bind(this),p+this.$VideoWithCommercialBreak4.maxOverduePlayingTimeMs)}};o.prototype.onLeaveTransition=function(){"use strict";__p&&__p();var p=this.$VideoWithCommercialBreak31();if(!this.$VideoWithCommercialBreak4.isLive){this.$VideoWithCommercialBreak16=p?this.$VideoWithCommercialBreak20==c("InstreamNFXHideType").HIDE_AD_BREAKS?m.HIDE_AD_BREAKS:m.HIDE_AD:m.PLAYBACK_FINISHED;this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);this.$VideoWithCommercialBreak34(c("CommercialBreakState").LEAVING_TRANSITION);var q=this.$VideoWithCommercialBreak4.isBroadcast?this.$VideoWithCommercialBreak4.endingTransitionTimeMs:this.$VideoWithCommercialBreak4.endingNonLiveTransitionTimeMs;setTimeout(function(){this.$VideoWithCommercialBreak35();this.reset()}.bind(this),q);return}if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN)if(!this.$VideoWithCommercialBreak9.getIsAdActive()){this.$VideoWithCommercialBreak16=m.NONE;this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);this.$VideoWithCommercialBreak34(c("CommercialBreakState").LEAVING_TRANSITION)}else if((this.$VideoWithCommercialBreak9.isState(c("VideoPlayerStates").FINISHED)||this.$VideoWithCommercialBreak9.isState(c("VideoPlayerStates").DESTROYED))&&!this.$VideoWithCommercialBreak14||p){this.$VideoWithCommercialBreak16=p?m.HIDE_AD:m.PLAYBACK_FINISHED;if(this.$VideoWithCommercialBreak15){this.$VideoWithCommercialBreak35();this.reset()}else{this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);this.$VideoWithCommercialBreak34(c("CommercialBreakState").LEAVING_TRANSITION)}}};o.prototype.$VideoWithCommercialBreak47=function(){"use strict";if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").LEAVING_TRANSITION){this.$VideoWithCommercialBreak35();this.reset()}else if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN)this.$VideoWithCommercialBreak15=true};o.prototype.$VideoWithCommercialBreak48=function(){"use strict";if(this.$VideoWithCommercialBreak31())return;if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN){this.$VideoWithCommercialBreak16=m.CUT_OFF;this.$VideoWithCommercialBreak35();this.reset()}};o.prototype.$VideoWithCommercialBreak46=function(){"use strict";if(this.$VideoWithCommercialBreak31())return;this.onLeaveTransition()};o.prototype.$VideoWithCommercialBreak35=function(){"use strict";if(this.$VideoWithCommercialBreak9.getIsVisibleForAutoplay())this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_END,{ending_reason:this.$VideoWithCommercialBreak16})};o.prototype.$VideoWithCommercialBreak42=function(){"use strict";var p=this.$VideoWithCommercialBreak1.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC;return p};o.prototype.$VideoWithCommercialBreak44=function(){"use strict";if(!this.$VideoWithCommercialBreak4.isLive)return null;var p=this.$VideoWithCommercialBreak1.getOption("VideoWithLiveBroadcast","viewCount"),q=p&&JSON.parse(c("DataStore").get(p,"store",null));return q?q.viewerCount:null};o.prototype.$VideoWithCommercialBreak31=function(){"use strict";var p=this.$VideoWithCommercialBreak9.getAdController();return p&&p.isState(c("VideoPlayerStates").PAUSED)&&this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN&&this.$VideoWithCommercialBreak19};o.prototype.startBreakWithNoVideoAd=function(p,q,r){"use strict";__p&&__p();this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(r);if(this.$VideoWithCommercialBreak4.disableNoAdTransition||!this.$VideoWithCommercialBreak4.isBroadcast){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING,{commercial_break_no_ad_reason:p});this.reset();return}var s=q-this.$VideoWithCommercialBreak42();this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START,{timestamp_delta_ms:parseInt(s,10),playback_trigger_event:"normal"});this.$VideoWithCommercialBreak34(c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD);this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_NO_AD_TRANSITION,{commercial_break_no_ad_reason:p});setTimeout(function(){this.$VideoWithCommercialBreak16=m.NONE;this.$VideoWithCommercialBreak35();this.reset()}.bind(this),this.$VideoWithCommercialBreak4.breakWithNoVideoAdDurationMs)};o.prototype.hasReceivedAdStory=function(p){"use strict";return p===this.$VideoWithCommercialBreak11};o.prototype.getIsDuplicateVideo=function(){"use strict";return this.$VideoWithCommercialBreak17};o.prototype.onPauseAdFromNFX=function(){"use strict";__p&&__p();if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PLAY_AD_COUNTDOWN)return;this.$VideoWithCommercialBreak19=true;c("EntstreamFeedObjectFollowup").addInstreamAdsFollowup(this.$VideoWithCommercialBreak1.getRootNode());var p=this.$VideoWithCommercialBreak9.getAdController();if(p){p.pause(c("VideoPlayerReason").USER);c("CSS").addClass(p.getVideoNode(),"_1_d3");c("CSS").addClass(p.getRootNode(),"_4ap-")}};o.prototype.onPlayAdFromNFX=function(){"use strict";__p&&__p();if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PLAY_AD_COUNTDOWN)return;var p=this.$VideoWithCommercialBreak9.getAdController();if(p){this.$VideoWithCommercialBreak19=false;c("CSS").removeClass(p.getVideoNode(),"_1_d3");c("CSS").removeClass(p.getRootNode(),"_4ap-");this.$VideoWithCommercialBreak9.play(c("VideoPlayerReason").USER)}};o.prototype.onLeaveAdFromNFX=function(p){"use strict";if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PLAY_AD_COUNTDOWN)return;this.$VideoWithCommercialBreak20=p;this.onLeaveTransition();this.$VideoWithCommercialBreak19=false;this.$VideoWithCommercialBreak20=null};o.prototype.getLiveCountdownDurationMs=function(){"use strict";return this.$VideoWithCommercialBreak22};f.exports=o}),null);
__d("VodWithCommercialBreak",["CommercialBreakExperiments","CommercialBreakNoAdReason","DateConsts","UFIVideoPlayerRegistry","VideoPlayerStates","Visibility"],(function a(b,c,d,e,f,g){__p&&__p();var h=Object.freeze({RECHECK_START_MS:300});function i(j,k){"use strict";__p&&__p();this.$VodWithCommercialBreak1=k;this.$VodWithCommercialBreak4=j;this.$VodWithCommercialBreak7=false;this.$VodWithCommercialBreak9=-1;this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak13=0;this.$VodWithCommercialBreak8=false;this.$VodWithCommercialBreak3=j.addListener("optionsChange",function(){return this.$VodWithCommercialBreak14()}.bind(this));this.$VodWithCommercialBreak14()}i.prototype.setAdBreaks=function(j){"use strict";this.$VodWithCommercialBreak15();this.$VodWithCommercialBreak1=j};i.prototype.$VodWithCommercialBreak15=function(){"use strict";if(this.$VodWithCommercialBreak10)clearTimeout(this.$VodWithCommercialBreak10);if(this.$VodWithCommercialBreak11)clearTimeout(this.$VodWithCommercialBreak11);this.$VodWithCommercialBreak10=null;this.$VodWithCommercialBreak11=null;this.$VodWithCommercialBreak9=-1};i.prototype.$VodWithCommercialBreak14=function(){"use strict";__p&&__p();this.$VodWithCommercialBreak5=this.$VodWithCommercialBreak4.getOption("VideoWithInstreamVideo","controller");this.$VodWithCommercialBreak6=this.$VodWithCommercialBreak4.getOption("VideoWithCommercialBreak","controller");if(!this.$VodWithCommercialBreak5||!this.$VodWithCommercialBreak6)return;this.$VodWithCommercialBreak3.remove();this.$VodWithCommercialBreak2=this.$VodWithCommercialBreak5.getConfig();if(this.$VodWithCommercialBreak4.isState(c("VideoPlayerStates").PLAYING))this.$VodWithCommercialBreak16();this.$VodWithCommercialBreak4.addListener("beginPlayback",this.$VodWithCommercialBreak16.bind(this));this.$VodWithCommercialBreak4.addListener("pausePlayback",this.$VodWithCommercialBreak17.bind(this))};i.prototype.$VodWithCommercialBreak16=function(){"use strict";__p&&__p();if(!this.$VodWithCommercialBreak7)this.$VodWithCommercialBreak7=true;if(this.$VodWithCommercialBreak12===0)this.$VodWithCommercialBreak12=Date.now();var j=this.$VodWithCommercialBreak18();if(j===0){this.$VodWithCommercialBreak4.once("updateStatus",this.$VodWithCommercialBreak16.bind(this));return}var k=this.$VodWithCommercialBreak19(j);if(k===this.$VodWithCommercialBreak9)k+=1;this.$VodWithCommercialBreak20(k,j)};i.prototype.$VodWithCommercialBreak17=function(){"use strict";if(this.$VodWithCommercialBreak12>0)this.$VodWithCommercialBreak13+=Date.now()-this.$VodWithCommercialBreak12;this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak15()};i.prototype.$VodWithCommercialBreak19=function(j){"use strict";var k=this.$VodWithCommercialBreak1.length;for(var l=this.$VodWithCommercialBreak1.length-1;l>=0;l--){var m=this.$VodWithCommercialBreak1[l].getTimeOffsetInMs();if(m&&m>j+this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs)k=l;else break}return k};i.prototype.$VodWithCommercialBreak20=function(j,k){"use strict";__p&&__p();this.$VodWithCommercialBreak15();if(j>=this.$VodWithCommercialBreak1.length)return;var l=this.$VodWithCommercialBreak1[j].getTimeOffsetInMs();if(!l)return;var m=l-k,n=m-this.$VodWithCommercialBreak2.vodPrefetchTimeMs;if(m<0){this.$VodWithCommercialBreak16();return}if(n<=this.$VodWithCommercialBreak2.vodAllowIntentTimeDeltaMs)this.$VodWithCommercialBreak21(j);else this.$VodWithCommercialBreak10=setTimeout(function(){return this.$VodWithCommercialBreak21(j)}.bind(this),n);if(!this.$VodWithCommercialBreak2.isBroadcast)m-=this.$VodWithCommercialBreak2.startingIndicatorMs;if(m<=this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs)this.$VodWithCommercialBreak22(j);else this.$VodWithCommercialBreak11=setTimeout(function(){return this.$VodWithCommercialBreak22(j)}.bind(this),m)};i.prototype.$VodWithCommercialBreak21=function(j){"use strict";__p&&__p();var k=this.$VodWithCommercialBreak18(),l=this.$VodWithCommercialBreak1[j],m=l.getTimeOffsetInMs();if(!m)return;var n=m-this.$VodWithCommercialBreak2.vodPrefetchTimeMs,o=n-k;if(o>this.$VodWithCommercialBreak2.vodAllowIntentTimeDeltaMs){this.$VodWithCommercialBreak10=setTimeout(function(){return this.$VodWithCommercialBreak21(j)}.bind(this),o);return}var p=this.$VodWithCommercialBreak13+m-k;if(this.$VodWithCommercialBreak12>0)p+=Date.now()-this.$VodWithCommercialBreak12;var q=!this.$VodWithCommercialBreak6.hasReceivedAdStory(l.getIndex())&&p>=this.$VodWithCommercialBreak2.vodMinWatchTimeSeconds*c("DateConsts").MS_PER_SEC;if(q){this.$VodWithCommercialBreak6.reset();this.$VodWithCommercialBreak6.onIntentCommand({index:l.getIndex(),commercial_break_length_ms:l.getAdBreakDurationInMs()})}this.$VodWithCommercialBreak10=null};i.prototype.$VodWithCommercialBreak22=function(j){"use strict";__p&&__p();var k=this.$VodWithCommercialBreak18(),l=this.$VodWithCommercialBreak1[j],m=l.getTimeOffsetInMs();if(!m)return;var n=m-k,o=this.$VodWithCommercialBreak13+n;if(this.$VodWithCommercialBreak12>0)o+=Date.now()-this.$VodWithCommercialBreak12;var p=null;if(o<this.$VodWithCommercialBreak2.vodMinWatchTimeSeconds*c("DateConsts").MS_PER_SEC)p=c("CommercialBreakNoAdReason").TIME_SPENT_INSUFFICIENT;else if(!this.$VodWithCommercialBreak6.hasReceivedAdStory(l.getIndex()))p=c("CommercialBreakNoAdReason").NO_VIDEO_AD;else if(c("Visibility").isHidden()&&c("CommercialBreakExperiments").skipInstreamAdWhenInvisible)p=c("CommercialBreakNoAdReason").INACTIVE_TAB;else if(this.$VodWithCommercialBreak2.skipAdsWhileCommenting&&!this.$VodWithCommercialBreak8){var q=c("UFIVideoPlayerRegistry").getAvailableUFIController(this.$VodWithCommercialBreak4);if(q&&!q.getIsCurrentCommentEmpty())p=c("CommercialBreakNoAdReason").IS_COMMENTING}if(!p&&!this.$VodWithCommercialBreak2.isBroadcast){this.$VodWithCommercialBreak4.emit("commercialBreak/vodBreakStarting",m);this.$VodWithCommercialBreak8=true}if(n>this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs){if(!this.$VodWithCommercialBreak2.isBroadcast)n=Math.min(n,h.RECHECK_START_MS);this.$VodWithCommercialBreak11=setTimeout(function(){return this.$VodWithCommercialBreak22(j)}.bind(this),n);return}if(!p){this.$VodWithCommercialBreak6.onStartCommand({index:l.getIndex(),commercial_break_start_time_ms:m});this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak13=0}else this.$VodWithCommercialBreak6.startBreakWithNoVideoAd(p,m,l.getIndex());this.$VodWithCommercialBreak9=j;this.$VodWithCommercialBreak11=null;this.$VodWithCommercialBreak8=false};i.prototype.$VodWithCommercialBreak18=function(){"use strict";return this.$VodWithCommercialBreak4.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC};f.exports=i}),null);
__d("VideoComponentEmbeddedControls.react",["cx","EmbeddedVideoControls","React","ReactDOM","RelayClassic_DEPRECATED","VideoBroadcastStatus","VideoComponent","VideoPlayerExperiments","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l,m){return c("shallowCompare")(this,l,m)};k.prototype.componentWillReceiveProps=function(l){var m=this.embeddedControls;if(m&&l.video&&l.video!==this.props.video)m.updateConfig_DEPRECATED({permalinkURL:l.showPermalink?l.video.permalinkUrl:null,showButtons:{casting:l.video.canCastVideo&&c("VideoPlayerExperiments").chromecast},isLive:l.video.broadcastStatus===c("VideoBroadcastStatus").LIVE});if(m&&l.adBreaks&&l.adBreaks!==this.props.adBreaks)m.updateAdBreaksConfig({insertedAdBreaks:l.adBreaks.insertedAdBreaks,isAdBreakDisabled:l.adBreaks.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:l.adBreaks.isAdBreakInsertionWithoutGapRule,isPreviewingAdBreak:l.adBreaks.isPreviewingAdBreak})};k.prototype.render=function(){return c("React").createElement("div",{ref:"playerControls",className:c("joinClasses")(this.props.classNames,(this.props.isCommercialBreak?"_2lwf":"")+(this.props.isCommercialBreak?" _167h":"")+" _3tsq _11q2"+(this.props.adBreaks&&this.props.adBreaks.isPreviewingAdBreak?" _1xyc":""))})};k.prototype.disable=function(){if(this.embeddedControls){this.embeddedControls.unregister();this.embeddedControls=null}};k.prototype.enable=function(l){this.embeddedControls=new(c("EmbeddedVideoControls"))(l,c("ReactDOM").findDOMNode(this.refs.playerControls),{hideOnEvents:{finish:this.props.hideControlsOnFinish,autoplay:this.props.hideControlsOnAutoplay,pause:this.props.hideControlsOnPause},showButtons:{fullscreen:this.props.showFullscreenButton,watchandscroll:this.props.showWatchAndScrollButton,permalink:this.props.showPermalink},hideSettings:!this.props.showSettingsButton,shouldrendercontrols:this.props.shouldRenderControls,watchandscroll:this.props.detachable,redesign:this.props.redesign,hidePlaybackControl:this.props.hidePlaybackControl,hidePlaybackScrubber:this.props.hidePlaybackScrubber,hideRemainingTime:this.props.hideRemainingTime,isCommercialBreak:this.props.isCommercialBreak,isLiveRewindEnabled:false,showQualitySelector:this.props.showQualitySelector,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds})};function k(){i.apply(this,arguments)}k.defaultProps={showSettingsButton:true,hideControlsOnFinish:false,hideControlsOnAutoplay:false,hideControlsOnPause:false,showFullscreenButton:true,showWatchAndScrollButton:false,shouldRenderControls:true,showPermalink:false,detachable:false,redesign:false,hidePlaybackControl:false,hidePlaybackScrubber:false,hideRemainingTime:false,isCommercialBreak:false,showQualitySelector:true,displayElapsedTime:false,displayMilliseconds:false};f.exports=c("VideoComponent").createContainer(k,{relayVideoConfig:{fragments:{video:function l(){return function(){return{children:[{alias:"permalinkUrl",fieldName:"permalink_url",kind:"Field",metadata:{},type:"Url"},{alias:"canCastVideo",fieldName:"can_cast_video",kind:"Field",metadata:{},type:"Boolean"},{alias:"broadcastStatus",fieldName:"broadcast_status",kind:"Field",metadata:{},type:"VideoBroadcastStatus"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentEmbeddedControls_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoComponentContextMenu.react",["React","RelayClassic_DEPRECATED","VideoComponent","VideoContextMenu","VideoPlayerHTML5Experiments","VideoPlayerVersions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.componentWillReceiveProps=function(k){var l=this.contextMenu;if(l&&k.video&&k.video!==this.props.video)l.setPermalinkURL(k.video.permalinkUrl)};j.prototype.enable=function(k){if(!this.refs.container)return;if(k.isPlayerVersion(c("VideoPlayerVersions").PLEASANTVILLE))this.contextMenu=new(c("VideoContextMenu"))(k,this.refs.container,{permalinkURL:""})};j.prototype.disable=function(){};j.prototype.render=function(){return c("React").createElement("div",{ref:"container"})};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j,{suppressMount:function k(){return!c("VideoPlayerHTML5Experiments").useCustomContextMenu},relayVideoConfig:{fragments:{video:function k(){return function(){return{children:[{alias:"permalinkUrl",fieldName:"permalink_url",kind:"Field",metadata:{},type:"Url"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentContextMenu_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoFormattingUtils",["DateConsts"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("DateConsts").SEC_PER_HOUR,i=c("DateConsts").MIN_PER_HOUR,j=c("DateConsts").SEC_PER_MIN;function k(o){return("0"+o).slice(-2)}function l(o){o=Math.round(o);var p=Math.floor(o/h),q=Math.floor(o%h/i),r=o%j;return(p>0?k(p)+":":"")+(p>0?k(q):q)+":"+k(r)}function m(o,p){if(p===0)return"0%";var q=Math.round(o*100/p);return q+"%"}var n={formatPercentage:m,formatTime:l};f.exports=n}),null);
__d("CoverVideoStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_COVER_VIDEO:"no_cover_video",UPLOADING:"uploading",ENCODING:"encoding",PREVIEWING:"previewing",CHOOSING_THUMBNAIL:"choosing_thumbnail",PUBLISHING:"publishing",PUBLISHED:"published",ERROR:"error"})}),null);
__d("SphericalPhotoProjectionUtils",["degToRad","gl-matrix","radToDeg"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("gl-matrix").glMatrix,i=c("gl-matrix").mat4,j=c("gl-matrix").vec3,k={getMaxMinVfov:function l(m,n){var o=c("degToRad")(m.partialRightDegrees||180),p=c("degToRad")(m.partialLeftDegrees||180),q=c("degToRad")(m.partialTopDegrees||90),r=c("degToRad")(m.partialBottomDegrees||90),s=(o+p)/2,t=(q+r)/2,u=2*Math.atan(s/n),v=this.getMinFullVfov(t,t);return{maxVfov:c("radToDeg")(Math.max(u,v)),minVfov:c("radToDeg")(Math.min(v,u/2))}},getMaxVfov:function l(m,n){return this.getMaxMinVfov(m,n).maxVfov},getMinFullVfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getMinFullHfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getZoomProgressFromFov:function l(m,n,o){return Math.max(0,Math.min(1,(m-o)/(n-o)))},getZoomProgress:function l(m,n,o){var p=this.getMaxMinVfov(n,o),q=p.maxVfov,r=p.minVfov;return this.getZoomProgressFromFov(m,q,r)},getHfov:function l(m,n){var o=2*Math.atan(Math.tan(m/2)*n);return o},normalizeLimits:function l(m){__p&&__p();var n=m.partialLeftDegrees||0,o=m.partialRightDegrees||0,p=m.partialTopDegrees||0,q=m.partialBottomDegrees||0;if(n<0&&o<0){var r=Math.max(n,o);n-=r;o-=r}if(p<0&&q<0){var s=Math.max(p,q);p-=s;q-=s}return{partialLeftDegrees:n,partialRightDegrees:o,partialTopDegrees:p,partialBottomDegrees:q}},getPartialLimits:function l(m,n,o){var p=this.getMaxMinVfov(o,n),q=p.maxVfov,r=p.minVfov,s=c("degToRad")(m),t=this.getHfov(s,n),u=this.getZoomProgressFromFov(m,q,r),v=Math.tan(t/2),w=Math.tan(s/2),x=Math.sin(v)*u+v*(1-u),y=Math.cos(v)*u+1*(1-u),z=Math.sin(w)*u+w*(1-u),A=Math.cos(w)*u+1*(1-u),B=function B(G,H,I){var J=Math.sin(G),K=Math.cos(G);return m>q?0:c("radToDeg")(Math.atan2(J*I-K*H,J*H+K*I))},C=c("degToRad")(o.partialLeftDegrees||180),D=c("degToRad")(o.partialRightDegrees||180),E=c("degToRad")(o.partialTopDegrees||90),F=c("degToRad")(o.partialBottomDegrees||90);return this.normalizeLimits({partialLeftDegrees:B(C,x,y),partialRightDegrees:B(D,x,y),partialTopDegrees:B(E,z,A),partialBottomDegrees:B(F,z,A)})},projectVertex:function l(m,n,o,p){var q=m[0],r=m[1],s=o?Math.sin(q):Math.sin(q)*Math.cos(r),t=o?r:Math.sin(r),u=o?Math.cos(q):Math.cos(q)*Math.cos(r);s=p*s+(1-p)*q;t=p*t+(1-p)*r;u=p*u+(1-p)*1;var v=j.fromValues(s,t,u);j.transformMat4(v,v,n);return v},getSphericalFromVertex:function l(m){var n=m[0],o=m[1],p=m[2],q=Math.atan2(n,p),r=Math.atan2(o,Math.sqrt(n*n+p*p));return{yaw:q,pitch:r}},getRelativeHfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialLeftDegrees||180,r=o.partialRightDegrees||180,s=p.partialLeftDegrees||0,t=p.partialRightDegrees||0;return c("degToRad")(r-t+q-s)},getRelativeVfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialTopDegrees||90,r=o.partialBottomDegrees||90,s=p.partialTopDegrees||0,t=p.partialBottomDegrees||0;return c("degToRad")(q-s+r-t)},convert2dTo3d:function l(m,n,o,p,q,r){var s=p/q,t=p/2,u=q/2,v=(m-t)*(2/p),w=(n-u)*(2/q),x=c("degToRad")(o.fov),y=this.getHfov(x,s),z=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),A=Math.tan(x/2),B=Math.tan(y/2),C=Math.tan(Math.min(y,z)/2),D=v*B,E=-w*A;if(D>C||D<-C)return null;var F=this.getZoomProgress(o.fov,r,s),G=i.create();i.rotateY(G,G,c("degToRad")(o.yaw));i.rotateX(G,G,-c("degToRad")(o.pitch));var H=this.projectVertex(j.fromValues(D,E,-1),G,false,F),I=this.getSphericalFromVertex(H),J=c("radToDeg")(I.yaw);return{yaw:J<0?360+J:J,pitch:c("radToDeg")(I.pitch)}},convert3dTo2d:function l(m,n,o,p,q,r){var s=c("degToRad")(m),t=c("degToRad")(n),u=c("degToRad")(o.fov),v=p/q,w=this.getHfov(u,v),x=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),y=Math.tan(w/2),z=Math.tan(Math.min(w,x)/2),A=z/y,B=this.getMinFullVfov(c("degToRad")(r.partialTopDegrees||90),c("degToRad")(r.partialBottomDegrees||90)),C=Math.tan(u/2),D=Math.tan(Math.min(u,B)/2),E=D/C,F=this.getRelativeHfov(o.fov,v,r),G=this.getRelativeVfov(o.fov,v,r),H=i.create();i.rotateY(H,H,c("degToRad")(o.yaw));i.rotateX(H,H,-c("degToRad")(o.pitch));i.invert(H,H);var I=s+Math.PI,J=t+Math.PI/2,K=-Math.sin(J)*Math.sin(I),L=-Math.cos(J),M=-Math.sin(J)*Math.cos(I),N=j.fromValues(K,L,M);j.transformMat4(N,N,H);var O=Math.atan2(N[0],N[2]),P=Math.atan2(N[1],Math.sqrt(N[0]*N[0]+N[2]*N[2])),Q=.5+O*A/F,R=.5-P*E/G;return{x:Q*p,y:R*q}}};f.exports=k}),null);
__d("CompositeSearchSource",["Promise","AbstractSearchSource","Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k){i.constructor.call(this);this.$CompositeSearchSource1=k}j.prototype.bootstrapImpl=function(k){var l=this.$CompositeSearchSource1.map(function(m){return new(c("Promise"))(function(n){return m.bootstrap(n)})});c("Promise").all(l).done(k)};j.prototype.searchImpl=function(k,l,m){__p&&__p();var n=this.sourceInfo(k),o=n.map(function(r){return[]}),p=n.map(function(r){return undefined}),q=function q(){};n.forEach(function(r,s){var t=r.source,u=r.substituteQueryString,v=r.entryMapper,w=r.substituteOptions;t.search(u===undefined?k:u,function(x,k,y){o[s]=v?x.map(v):x;p[s]=y;q()},w||m)});q=function(){var r=this.$CompositeSearchSource2(o),s=this.$CompositeSearchSource3(p);if(m&&m.skipCallbackOnEmptyResults&&r.length==0&&s!="COMPLETE")return;l(r,k,s)}.bind(this);q()};j.prototype.sourceInfo=function(k){return this.$CompositeSearchSource1.map(function(l){return{source:l}})};j.prototype.$CompositeSearchSource2=function(k){var l=[],m=new(c("Set"))();k.forEach(function(n){n.forEach(function(o){var p=o.getUniqueID();if(!m.has(p)){m.add(p);l.push(o)}})});return l};j.prototype.$CompositeSearchSource3=function(k){__p&&__p();for(var l=k,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;if(p==="ACTIVE")return"ACTIVE";else if(p!=="COMPLETE")return undefined}return"COMPLETE"};f.exports=j}),null);
__d("XEventsTourPermalinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/tours/{tour_id}/",{tour_id:{type:"FBID",required:true},acontext:{type:"String"},afterload:{type:"Enum",enumType:0}})}),null);